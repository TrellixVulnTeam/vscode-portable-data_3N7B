const a29_0xf2ad=["height",'" dimensions are equal','Images "',"395877NhtbYG","width","1148141ueilFE","336006yVtzjg","selection",'Invalid dimensions for image "',"800070kGuiBR","webpackChunkluna","update","200207Mgurdr","max","subarray"," x ","2512234iRMDBW"," must be contained within ","3yOvlka",'" and "',"blendMode","948214StEffp","length","1LRTicn","tolerance",'" dimensions differ',"targetImage"],a29_0x1fd8=function(t,n){return a29_0xf2ad[t-=440]},a29_0x4728e0=a29_0x1fd8;(function(t,n){const a=a29_0x1fd8;for(;;)try{if(579587===-parseInt(a(440))+parseInt(a(451))+-parseInt(a(455))*parseInt(a(442))+-parseInt(a(452))+parseInt(a(464))*-parseInt(a(458))+-parseInt(a(449))+parseInt(a(462)))break;t.push(t.shift())}catch(n){t.push(t.shift())}})(a29_0xf2ad),(self[a29_0x4728e0(456)]=self[a29_0x4728e0(456)]||[]).push([[584],{5584:(t,n,a)=>{"use strict";a.r(n),a.d(n,{run:()=>i});var e=a(4371),r=a(1003),o=a(7742),s=a(7517);const i=async(t,n,a)=>{const i=a29_0x1fd8;(0,o.ap)(a,i(445));const d=a[i(445)].data,u=a[i(445)][i(450)],h=a[i(445)].height,l=a.x,x=a.y,p=4*(x*u+l),_=d[i(460)](p,p+4),g=a[i(443)]*a[i(443)]*4,w=(0,e.X$)(u*h*2,Math[i(459)](u,h));let I=0;w[I++]=l,w[I++]=x;const R=new Uint8Array(u*h);R[x*u+l]=1;const B=(0,e.X$)(u*h,u*h*4,!0);let y=0;const m=(0,r.Re)(l,x),b=(0,r.DI)(u,h),v=a[i(453)]||b;let k=0,E=0,A=0,D=0;for(;I>0;)E=w[--I],k=w[--I],A=E*u+k,D=4*A,M=d,C=D,W=_,((z=g)>0?(f[0]=W[0]-M[C],f[1]=W[1]-M[C+1],f[2]=W[2]-M[C+2],f[3]=W[3]-M[C+3],f[4]=(1+f[0]*f[0])*W[3]/256+(1+f[1]*f[1])*W[3]/256+(1+f[2]*f[2])*W[3]/256+f[3]*f[3],f[4]<=z):M[C]===W[0]&&M[C+1]===W[1]&&M[C+2]===W[2]&&M[C+3]===W[3])&&(B[y++]=D,(0,r.Hv)(m,k,E),(0,r.RB)(b,k+1,E)&&0===R[A+1]&&((0,r.RB)(v,k+1,E)&&(w[I++]=k+1,w[I++]=E),R[A+1]=1),(0,r.RB)(b,k-1,E)&&0===R[A-1]&&((0,r.RB)(v,k-1,E)&&(w[I++]=k-1,w[I++]=E),R[A-1]=1),(0,r.RB)(b,k,E+1)&&0===R[A+u]&&((0,r.RB)(v,k,E+1)&&(w[I++]=k,w[I++]=E+1),R[A+u]=1),(0,r.RB)(b,k,E-1)&&0===R[A-u]&&((0,r.RB)(v,k,E-1)&&(w[I++]=k,w[I++]=E-1),R[A-u]=1));var M,C,W,z;const G=B.subarray(0,y);n[i(457)](.25);const L=c(d,G);n.update(.5),function(t,n,a,e){const r=a29_0x1fd8;let o=0;for(let i=0;i<n[r(441)];i++)o=n[i],(0,s.B)(e,t,o,a,0)}(d,G,a.color,a[i(466)]),n[i(457)](.75);const O=c(d,G);return n[i(457)](1),{indexList:G,undoColorData:L,redoColorData:O,range:m}},f=new Int32Array(5);function c(t,n){const a=a29_0x1fd8,e=new Uint8Array(new SharedArrayBuffer(4*n[a(441)]));for(let r=0;r<n[a(441)];r++)e[4*r]=t[n[r]],e[4*r+1]=t[n[r]+1],e[4*r+2]=t[n[r]+2],e[4*r+3]=t[n[r]+3];return e}},7742:(t,n,a)=>{"use strict";a.d(n,{ap:()=>r,TO:()=>o,zg:()=>s});var e=a(1003);function r(t,n){const a=a29_0x1fd8,e=t[n];if(e[a(450)]<1||e[a(446)]<1)throw new Error(a(454)+n+'": '+e[a(450)]+a(461)+e[a(446)])}function o(t,n,a){const e=a29_0x1fd8,r=t[n],o=t[a];if(r.width===o[e(450)]&&r.height===o.height)throw new Error(e(448)+n+e(465)+a+e(447))}function s(t,n,a){const r=a29_0x1fd8,o=t[n];if(!(0,e.ur)(a,o))throw new Error('Range "'+n+'" '+(0,e.PW)(o)+r(463)+(0,e.PW)(a))}}}]);