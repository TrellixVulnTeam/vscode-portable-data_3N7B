const a30_0x331c=['" dimensions differ',"height","137503YsncpK","top","bottom","targetImage","11weCuKG",'Range "',"slice","824838OqaZQQ","1ZtQoos","width",'": ',"toFixed","subarray",'Images "',"1baXFqN","blendMode","2384518piuOdX","data","105023joIBVo","104593vANZkJ","selection","1CYDRPF",'" and "',"161747VurqXz","webpackChunkluna","ceil","length","update","color",'" dimensions are equal',"push","4PaGRVF","tolerance","207409tooNZh"],a30_0x24bb=function(t,e){return a30_0x331c[t-=483]},a30_0xc99efa=a30_0x24bb;(function(t,e){const a=a30_0x24bb;for(;;)try{if(846694===parseInt(a(497))*parseInt(a(512))+parseInt(a(493))*parseInt(a(489))+parseInt(a(508))+-parseInt(a(484))*-parseInt(a(507))+parseInt(a(496))+-parseInt(a(486))*-parseInt(a(510))+-parseInt(a(503))*parseInt(a(505)))break;t.push(t.shift())}catch(e){t.push(t.shift())}})(a30_0x331c),(self[a30_0xc99efa(513)]=self[a30_0xc99efa(513)]||[])[a30_0xc99efa(483)]([[257],{1257:(t,e,a)=>{"use strict";a.r(e),a.d(e,{run:()=>i});var n=a(7517),r=a(7166),o=a(1003),s=a(7742);const i=async(t,e,a)=>{const i=a30_0x24bb;(0,s.ap)(a,"targetImage");const c=a[i(492)][i(506)],u=a[i(492)][i(498)],h=a[i(492)][i(488)],p=a[i(517)],b=4*(a.y*u+a.x),d=c[i(501)](b,b+4)[i(495)](),l=a[i(509)]||(0,o.DI)(u,h),I=a[i(485)]*a[i(485)]*4,x=(0,r.Qf)(a[i(492)],l);if(e[i(516)](.1),a[i(509)]){const t=Math[i(514)](l[i(491)]+(0,o.rY)(l)*(2/8));let r=0;for(let o=l[i(490)];o<l[i(491)];o++){for(let t=l.left;t<l.right;t++)r=4*(o*u+t),f(c,r,d,I)&&(0,n.B)(a[i(504)],c,r,p,0);e.update(+((o-l[i(490)])/t)[i(500)](2)+.1)}}else{const t=Math.ceil(1.25*c.length);for(let r=0;r<c[i(515)];r+=4)f(c,r,d,I)&&(0,n.B)(a.blendMode,c,r,p,0),r%5e3==0&&e[i(516)](+(r/t)[i(500)](2)+.1)}return e[i(516)](.9),{undoData:x,redoData:(0,r.Qf)(a[i(492)],l),range:l}},c=new Int32Array(5);function f(t,e,a,n){return n>0?(c[0]=a[0]-t[e],c[1]=a[1]-t[e+1],c[2]=a[2]-t[e+2],c[3]=a[3]-t[e+3],c[4]=(1+c[0]*c[0])*a[3]/256+(1+c[1]*c[1])*a[3]/256+(1+c[2]*c[2])*a[3]/256+c[3]*c[3],c[4]<=n):t[e]===a[0]&&t[e+1]===a[1]&&t[e+2]===a[2]&&t[e+3]===a[3]}},7742:(t,e,a)=>{"use strict";a.d(e,{ap:()=>r,TO:()=>o,zg:()=>s});var n=a(1003);function r(t,e){const a=a30_0x24bb,n=t[e];if(n[a(498)]<1||n.height<1)throw new Error('Invalid dimensions for image "'+e+a(499)+n[a(498)]+" x "+n.height)}function o(t,e,a){const n=a30_0x24bb,r=t[e],o=t[a];if(r.width===o[n(498)]&&r[n(488)]===o[n(488)])throw new Error(n(502)+e+n(511)+a+n(518))}function s(t,e,a){const r=a30_0x24bb,o=t[e];if(!(0,n.ur)(a,o))throw new Error(r(494)+e+'" '+(0,n.PW)(o)+" must be contained within "+(0,n.PW)(a))}}}]);