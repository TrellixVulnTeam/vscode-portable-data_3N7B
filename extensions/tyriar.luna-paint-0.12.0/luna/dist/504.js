const a7_0x4e00=["_elementContainer","280828vQzhck","clientWidth","none","1pMdUET","offsetY","width","_viewportService","_imageService","2sorGIK","move-handle","offsetX","124223YdFxfl","get","zoom","webpackChunkluna","17QBLMXo","left","52sSRaBq","7478xYDLwQ","clientHeight","render","_container","topright","37327bFFHCB","bottomright","add","div","appendChild","new","_isVisible","getPointerState","524291PqClCH","_directionalMoveElements","1bvCQRs","_directionalMoveZones","move","1930342KovzSJ","classList","register","_getRange","bottomleft","top","round","_allowNewState","createElement","topleft","setVisible","order","right","951353mNMqzA","style","min","height","max","push","bottom"],a7_0x29d2=function(t,e){return a7_0x4e00[t-=216]},a7_0x7f4c40=a7_0x29d2;(function(t,e){const s=a7_0x29d2;for(;;)try{if(571698===-parseInt(s(241))+-parseInt(s(272))*parseInt(s(264))+parseInt(s(260))*-parseInt(s(225))+parseInt(s(223))+-parseInt(s(267))*-parseInt(s(266))+-parseInt(s(257))*parseInt(s(249))+parseInt(s(228))*parseInt(s(252)))break;t.push(t.shift())}catch(e){t.push(t.shift())}})(a7_0x4e00),(self[a7_0x7f4c40(263)]=self[a7_0x7f4c40(263)]||[])[a7_0x7f4c40(246)]([[504],{504:(t,e,s)=>{"use strict";const o=a7_0x7f4c40;s.r(e),s.d(e,{MoveImageRangeRenderer:()=>h});var i=s(5120),n=s(1003);class h extends i.JT{constructor(t,e,s,o,i){const h=a7_0x29d2;super(),this[h(270)]=t,this[h(231)]=e,this[h(235)]=s,this._viewportService=o,this[h(256)]=i,this[h(239)]=2,this[h(224)]=new Map,this[h(226)]=new Map,this[h(221)]=!0,this._elementContainer=document[h(236)](h(218));const r=["topleft",h(271),h(232),h(216),h(233),h(247),"left","right"];for(const t of r){const e=document[h(236)]("div");e[h(229)][h(217)](h(258),t),this[h(248)][h(219)](e),this[h(224)].set(t,e),this[h(226)].set(t,(0,n.Pq)())}this._container[h(219)](this[h(248)]),this[h(230)]({dispose:()=>{const t=h;this[t(270)].removeChild(this[t(248)])}})}[o(238)](t){const e=o;t!==this[e(221)]&&(this[e(248)][e(242)].display=t?"":e(251),this[e(221)]=t)}setRange(t){}[o(269)](){const t=o,e=this[t(231)]();if(!e)return;const s=this._imageService.currentLayer;if(!s)return;const i=this[t(255)],n=Math[t(234)](this[t(270)][t(250)]/2)-s[t(254)]/2*i[t(262)],h=Math[t(234)](this._container[t(268)]/2)-s[t(244)]/2*i[t(262)],r=n+(i.x+e[t(265)])*i[t(262)],a=h+(i.y+e[t(233)])*i[t(262)],c=n+(i.x+e[t(240)])*i.zoom,l=h+(i.y+e.bottom)*i[t(262)],p=Math[t(234)]((r+c)/2),f=Math[t(234)]((a+l)/2),d=10*window.devicePixelRatio,x={left:Math[t(243)](r+d,Math[t(245)](r,p-d)),top:Math[t(243)](a+d,Math[t(245)](a,f-d)),right:Math[t(245)](c-d,Math[t(243)](c,p+d)),bottom:Math[t(245)](l-d,Math[t(243)](l,f+d))},_={left:r-d,top:a-d,right:c+d,bottom:l+d},g=this._directionalMoveZones.get("topleft");g[t(265)]=_[t(265)],g[t(240)]=x[t(265)],g[t(233)]=_[t(233)],g[t(247)]=x[t(233)];const m=this[t(224)].get("topleft");m.style.left=r+"px",m[t(242)][t(233)]=a+"px";const M=this[t(226)][t(261)](t(271));M[t(265)]=x[t(240)],M.right=_[t(240)],M[t(233)]=_[t(233)],M[t(247)]=x.top;const v=this[t(224)][t(261)](t(271));v[t(242)][t(265)]=c+"px",v[t(242)][t(233)]=a+"px";const b=this._directionalMoveZones[t(261)](t(232));b[t(265)]=_[t(265)],b[t(240)]=x[t(265)],b[t(233)]=x[t(247)],b[t(247)]=_[t(247)];const u=this[t(224)][t(261)](t(232));u[t(242)][t(265)]=r+"px",u.style[t(233)]=l+"px";const w=this._directionalMoveZones[t(261)](t(216));w[t(265)]=x.right,w[t(240)]=_.right,w[t(233)]=x[t(247)],w[t(247)]=_.bottom;const I=this[t(224)].get(t(216));I[t(242)][t(265)]=c+"px",I.style.top=l+"px";const y=this._directionalMoveZones[t(261)](t(233));y[t(265)]=x[t(265)],y[t(240)]=x[t(240)],y.top=_[t(233)],y.bottom=x[t(233)];const S=this[t(224)][t(261)](t(233));S[t(242)].left=p+"px",S.style.top=a+"px";const C=this._directionalMoveZones[t(261)](t(247));C[t(265)]=x[t(265)],C[t(240)]=x.right,C.top=x[t(247)],C[t(247)]=_.bottom;const R=this[t(224)][t(261)](t(247));R[t(242)][t(265)]=p+"px",R[t(242)][t(233)]=l+"px";const Z=this[t(226)][t(261)](t(265));Z[t(265)]=_[t(265)],Z.right=x[t(265)],Z[t(233)]=x[t(233)],Z[t(247)]=x.bottom;const z=this[t(224)][t(261)]("left");z[t(242)].left=r+"px",z.style[t(233)]=f+"px";const B=this[t(226)].get("right");B.left=x[t(240)],B[t(240)]=_.right,B[t(233)]=x[t(233)],B.bottom=x.bottom;const k=this[t(224)][t(261)]("right");k[t(242)][t(265)]=c+"px",k[t(242)][t(233)]=f+"px"}[o(222)](t){const e=o;if(!this[e(231)]())return this._allowNewState?"new":e(227);for(const[s,o]of this[e(226)])if((0,n.RB)(o,t.offsetX,t[e(253)]))return s;const s=this[e(226)].get(e(237)),i=this._directionalMoveZones[e(261)]("bottomright"),h={left:s.left,top:s[e(233)],right:i[e(240)],bottom:i[e(247)]};return(0,n.RB)(h,t[e(259)],t[e(253)])?e(227):this._allowNewState?e(220):e(227)}}}}]);