{"version":3,"sources":[".././node_modules/balanced-match/index.js",".././node_modules/brace-expansion/index.js",".././node_modules/chardet/lib/encoding/iso2022.js",".././node_modules/chardet/lib/encoding/mbcs.js",".././node_modules/chardet/lib/encoding/sbcs.js",".././node_modules/chardet/lib/encoding/unicode.js",".././node_modules/chardet/lib/encoding/utf8.js",".././node_modules/chardet/lib/fs/node.js",".././node_modules/chardet/lib/index.js",".././node_modules/chardet/lib/match.js",".././node_modules/concat-map/index.js",".././node_modules/dayjs/dayjs.min.js",".././node_modules/dayjs/plugin/relativeTime.js",".././node_modules/fs.realpath/index.js",".././node_modules/fs.realpath/old.js",".././node_modules/glob/common.js",".././node_modules/glob/glob.js",".././node_modules/glob/sync.js",".././node_modules/inflight/inflight.js",".././node_modules/inherits/inherits.js",".././node_modules/inherits/inherits_browser.js",".././node_modules/minimatch/minimatch.js",".././node_modules/once/once.js",".././node_modules/original-fs/index.js",".././node_modules/path-is-absolute/index.js",".././node_modules/sax/lib/sax.js",".././node_modules/semver/classes/comparator.js",".././node_modules/semver/classes/range.js",".././node_modules/semver/classes/semver.js",".././node_modules/semver/functions/clean.js",".././node_modules/semver/functions/cmp.js",".././node_modules/semver/functions/coerce.js",".././node_modules/semver/functions/compare-build.js",".././node_modules/semver/functions/compare-loose.js",".././node_modules/semver/functions/compare.js",".././node_modules/semver/functions/diff.js",".././node_modules/semver/functions/eq.js",".././node_modules/semver/functions/gt.js",".././node_modules/semver/functions/gte.js",".././node_modules/semver/functions/inc.js",".././node_modules/semver/functions/lt.js",".././node_modules/semver/functions/lte.js",".././node_modules/semver/functions/major.js",".././node_modules/semver/functions/minor.js",".././node_modules/semver/functions/neq.js",".././node_modules/semver/functions/parse.js",".././node_modules/semver/functions/patch.js",".././node_modules/semver/functions/prerelease.js",".././node_modules/semver/functions/rcompare.js",".././node_modules/semver/functions/rsort.js",".././node_modules/semver/functions/satisfies.js",".././node_modules/semver/functions/sort.js",".././node_modules/semver/functions/valid.js",".././node_modules/semver/index.js",".././node_modules/semver/internal/constants.js",".././node_modules/semver/internal/debug.js",".././node_modules/semver/internal/identifiers.js",".././node_modules/semver/internal/parse-options.js",".././node_modules/semver/internal/re.js",".././node_modules/semver/node_modules/lru-cache/index.js",".././node_modules/semver/ranges/gtr.js",".././node_modules/semver/ranges/intersects.js",".././node_modules/semver/ranges/ltr.js",".././node_modules/semver/ranges/max-satisfying.js",".././node_modules/semver/ranges/min-satisfying.js",".././node_modules/semver/ranges/min-version.js",".././node_modules/semver/ranges/outside.js",".././node_modules/semver/ranges/simplify.js",".././node_modules/semver/ranges/subset.js",".././node_modules/semver/ranges/to-comparators.js",".././node_modules/semver/ranges/valid.js",".././node_modules/tmp/lib/tmp.js",".././node_modules/tmp/node_modules/rimraf/rimraf.js",".././src/changelistItems.ts",".././src/commands.ts",".././src/commands/add.ts",".././src/commands/addToIgnoreExplorer.ts",".././src/commands/addToIgnoreSCM.ts",".././src/commands/changeList.ts",".././src/commands/checkout.ts",".././src/commands/cleanup.ts",".././src/commands/close.ts",".././src/commands/command.ts",".././src/commands/commit.ts",".././src/commands/commitWithMessage.ts",".././src/commands/deleteUnversioned.ts",".././src/commands/fileOpen.ts",".././src/commands/finishCheckout.ts",".././src/commands/get_source_control_manager.ts",".././src/commands/log.ts",".././src/commands/openChangeBase.ts",".././src/commands/openChangeHead.ts",".././src/commands/openChangePrev.ts",".././src/commands/openFile.ts",".././src/commands/openHeadFile.ts",".././src/commands/openResourceBase.ts",".././src/commands/openResourceHead.ts",".././src/commands/patch.ts",".././src/commands/patchAll.ts",".././src/commands/patchChangeList.ts",".././src/commands/pickCommitMessage.ts",".././src/commands/promptAuth.ts",".././src/commands/promptRemove.ts",".././src/commands/pullIncomingChange.ts",".././src/commands/refresh.ts",".././src/commands/refreshRemoteChanges.ts",".././src/commands/remove.ts",".././src/commands/removeUnversioned.ts",".././src/commands/renameExplorer.ts",".././src/commands/resolve.ts",".././src/commands/resolveAll.ts",".././src/commands/resolved.ts",".././src/commands/revert.ts",".././src/commands/revertAll.ts",".././src/commands/revertChange.ts",".././src/commands/revertExplorer.ts",".././src/commands/search_log_by_revision.ts",".././src/commands/search_log_by_text.ts",".././src/commands/switchBranch.ts",".././src/commands/update.ts",".././src/commands/upgrade.ts",".././src/common/constants.ts",".././src/common/types.ts",".././src/conflictItems.ts",".././src/contexts/checkActiveEditor.ts",".././src/contexts/isSvn18orGreater.ts",".././src/contexts/isSvn19orGreater.ts",".././src/contexts/openRepositoryCount.ts",".././src/decorators.ts",".././src/encoding.ts",".././src/fs/access.ts",".././src/fs/exists.ts",".././src/fs/index.ts",".././src/fs/lstat.ts",".././src/fs/mkdir.ts",".././src/fs/read_file.ts",".././src/fs/readdir.ts",".././src/fs/rmdir.ts",".././src/fs/stat.ts",".././src/fs/unlink.ts",".././src/fs/write_file.ts",".././src/helpers/branch.ts",".././src/helpers/configuration.ts",".././src/historyView/branchChangesProvider.ts",".././src/historyView/common.ts",".././src/historyView/itemLogProvider.ts",".././src/historyView/repoLogProvider.ts",".././src/ignoreitems.ts",".././src/input/revert.ts",".././src/lineChanges.ts",".././src/messages.ts",".././src/operationsImpl.ts",".././src/parser/diffParser.ts",".././src/parser/infoParser.ts",".././src/parser/listParser.ts",".././src/parser/logParser.ts",".././src/parser/statusParser.ts",".././src/pathNormalizer.ts",".././src/quickPickItems/changeListItem.ts",".././src/quickPickItems/fileItem.ts",".././src/quickPickItems/folderItem.ts",".././src/quickPickItems/ignoredChangeListItem.ts",".././src/quickPickItems/newChangeListItem.ts",".././src/quickPickItems/newFolderItem.ts",".././src/quickPickItems/parentFolderItem.ts",".././src/quickPickItems/removeChangeListItem.ts",".././src/remoteRepository.ts",".././src/repository.ts",".././src/resource.ts",".././src/source_control_manager.ts",".././src/statusbar/checkoutStatusBar.ts",".././src/statusbar/statusBarCommands.ts",".././src/statusbar/syncStatusBar.ts",".././src/svn.ts",".././src/svnError.ts",".././src/svnFileSystemProvider.ts",".././src/svnFinder.ts",".././src/svnRI.ts",".././src/svnRepository.ts",".././src/temp_svn_fs.ts",".././src/treeView/dataProviders/svnProvider.ts",".././src/treeView/nodes/incomingChangeNode.ts",".././src/treeView/nodes/incomingChangesNode.ts",".././src/treeView/nodes/noIncomingChangesNode.ts",".././src/treeView/nodes/repositoryNode.ts",".././src/uri.ts",".././src/util.ts",".././src/util/globMatch.ts",".././src/vscodeModules.ts",".././src/watchers/repositoryFilesWatcher.ts",".././node_modules/wrappy/wrappy.js",".././node_modules/xml2js/lib/bom.js",".././node_modules/xml2js/lib/builder.js",".././node_modules/xml2js/lib/defaults.js",".././node_modules/xml2js/lib/parser.js",".././node_modules/xml2js/lib/processors.js",".././node_modules/xml2js/lib/xml2js.js",".././node_modules/xmlbuilder/lib/DocumentPosition.js",".././node_modules/xmlbuilder/lib/NodeType.js",".././node_modules/xmlbuilder/lib/Utility.js",".././node_modules/xmlbuilder/lib/WriterState.js",".././node_modules/xmlbuilder/lib/XMLAttribute.js",".././node_modules/xmlbuilder/lib/XMLCData.js",".././node_modules/xmlbuilder/lib/XMLCharacterData.js",".././node_modules/xmlbuilder/lib/XMLComment.js",".././node_modules/xmlbuilder/lib/XMLDOMConfiguration.js",".././node_modules/xmlbuilder/lib/XMLDOMErrorHandler.js",".././node_modules/xmlbuilder/lib/XMLDOMImplementation.js",".././node_modules/xmlbuilder/lib/XMLDOMStringList.js",".././node_modules/xmlbuilder/lib/XMLDTDAttList.js",".././node_modules/xmlbuilder/lib/XMLDTDElement.js",".././node_modules/xmlbuilder/lib/XMLDTDEntity.js",".././node_modules/xmlbuilder/lib/XMLDTDNotation.js",".././node_modules/xmlbuilder/lib/XMLDeclaration.js",".././node_modules/xmlbuilder/lib/XMLDocType.js",".././node_modules/xmlbuilder/lib/XMLDocument.js",".././node_modules/xmlbuilder/lib/XMLDocumentCB.js",".././node_modules/xmlbuilder/lib/XMLDummy.js",".././node_modules/xmlbuilder/lib/XMLElement.js",".././node_modules/xmlbuilder/lib/XMLNamedNodeMap.js",".././node_modules/xmlbuilder/lib/XMLNode.js",".././node_modules/xmlbuilder/lib/XMLNodeList.js",".././node_modules/xmlbuilder/lib/XMLProcessingInstruction.js",".././node_modules/xmlbuilder/lib/XMLRaw.js",".././node_modules/xmlbuilder/lib/XMLStreamWriter.js",".././node_modules/xmlbuilder/lib/XMLStringWriter.js",".././node_modules/xmlbuilder/lib/XMLStringifier.js",".././node_modules/xmlbuilder/lib/XMLText.js",".././node_modules/xmlbuilder/lib/XMLWriterBase.js",".././node_modules/xmlbuilder/lib/index.js",".././node_modules/yallist/iterator.js",".././node_modules/yallist/yallist.js","../external \"assert\"","../external \"child_process\"","../external \"crypto\"","../external \"events\"","../external \"fs\"","../external \"os\"","../external \"path\"","../external \"process\"","../external \"stream\"","../external \"string_decoder\"","../external \"timers\"","../external \"util\"","../external \"vscode\"","../webpack/bootstrap",".././src/extension.ts"],"names":["balanced","a","b","str","RegExp","maybeMatch","r","range","start","end","pre","slice","body","length","post","reg","m","match","begs","beg","left","right","result","ai","indexOf","bi","i","push","pop","module","exports","concatMap","substr","expand","split","join","escSlash","escOpen","escClose","escComma","escPeriod","escapeBraces","map","unescapeBraces","Math","random","numeric","parseInt","charCodeAt","parseCommaParts","parts","p","postParts","shift","apply","embrace","isPadded","el","test","lte","y","gte","isTop","expansions","n","isNumericSequence","isAlphaSequence","isSequence","isOptions","N","x","width","max","incr","abs","pad","some","c","String","fromCharCode","need","z","Array","j","k","expansion","__importDefault","this","mod","__esModule","Object","defineProperty","value","ISO_2022_CN","ISO_2022_KR","ISO_2022_JP","match_1","ISO_2022","escapeSequences","det","escN","quality","hits","misses","shifts","text","fInputBytes","textLen","fInputLen","scanInput","checkEscapes","seq","default","super","arguments","gb_18030","euc_kr","euc_jp","big5","sjis","binarySearch","arr","searchValue","find","mid","floor","IteratedChar","charValue","index","nextIndex","error","done","fRawLength","fRawInput","mbcs","commonChars","doubleByteCharCount","commonCharCount","badCharCount","totalCharCount","confidence","iter","detectBlock","reset","nextChar","cv","scaleFactor","log","min","eucNextChar","firstByte","secondByte","thirdByte","nextByte","fourthByte","buildChar","KOI8_R","windows_1256","windows_1251","ISO_8859_9","ISO_8859_8","ISO_8859_7","ISO_8859_6","ISO_8859_5","ISO_8859_2","ISO_8859_1","NGramParser","theNgramList","theByteMap","byteIndex","ngram","ngramCount","hitCount","spaceChar","ngramList","byteMap","table","thisNgram","search","lookup","spaceCh","ignoreSpace","mb","addByte","rawPercent","NGramsPlusLang","la","ng","fLang","fNGrams","sbcs","input","ngrams","val","isArray","isFinite","parse","lang","bestConfidenceSoFar","ngl","name","fC1Bytes","UTF_32LE","UTF_32BE","UTF_16LE","UTF_16BE","UTF_32","numValid","numInvalid","hasBOM","limit","getChar","ch","trailBytes","fsModule","Error","__createBinding","create","o","k2","undefined","enumerable","get","__setModuleDefault","v","__importStar","prototype","hasOwnProperty","call","detectFileSync","detectFile","analyse","detect","node_1","utf8_1","unicode","iso2022","recognisers","buffer","matches","fByteStats","context","rec","filter","sort","filepath","opts","Promise","resolve","reject","fd","fs","handler","err","closeSync","sampleSize","openSync","sample","Buffer","allocUnsafe","read","readFile","readSync","readFileSync","xs","fn","res","toString","e","s","u","f","h","d","$","l","M","weekdays","months","t","g","utcOffset","date","year","month","clone","add","ceil","w","D","ms","Q","toLowerCase","replace","_","S","args","O","locale","$L","utc","$u","$x","$offset","$d","Date","NaN","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","$locale","weekStart","$set","daysInMonth","Number","round","subtract","format","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","forEach","extend","$i","isDayjs","en","Ls","future","past","yy","fromToBase","relativeTime","thresholds","rounding","to","from","toNow","fromNow","realpath","sync","realpathSync","monkeypatch","unmonkeypatch","origRealpath","origRealpathSync","version","process","ok","old","newError","er","syscall","code","cache","cb","pathModule","isWindows","platform","DEBUG","env","NODE_DEBUG","normalize","nextPartRe","splitRootRe","pos","current","base","previous","original","seenLinks","knownHard","exec","lstatSync","lastIndex","resolvedLink","stat","isSymbolicLink","linkTarget","id","dev","ino","statSync","readlinkSync","callback","backtrace","message","missingCallback","throwDeprecation","noDeprecation","msg","stack","traceDeprecation","console","trace","rethrow","maybeCallback","nextTick","bind","lstat","LOOP","gotResolvedLink","gotStat","gotTarget","readlink","target","ownProp","obj","field","setopts","self","pattern","options","matchBase","noglobstar","silent","strict","realpathCache","follow","dot","mark","nodir","nounique","nonull","nosort","nocase","noprocess","absolute","maxLength","Infinity","statCache","symlinks","ignore","ignoreMap","setupIgnores","changedCwd","cwd","path","root","cwdAbs","isAbsolute","makeAbs","nomount","nonegate","nocomment","minimatch","Minimatch","finish","nou","all","keys","literal","globSet","alphasort","_mark","notDir","isIgnored","found","isDir","slash","mabs","childrenIgnored","item","gmatcher","localeCompare","gpattern","matcher","charAt","glob","rp","inherits","EE","assert","globSync","common","inflight","once","TypeError","Glob","GlobSync","_didRealPath","on","_processing","_emitQueue","_processQueue","paused","_process","_finish","hasMagic","options_","origin","aborted","_didRealpath","_realpath","emit","_realpathSet","next","matchset","_makeAbs","real","abort","pause","resume","eq","_emitMatch","pq","inGlobStar","prefix","_processSimple","remain","GLOBSTAR","_processGlobStar","_processReaddir","_readdir","entries","_processReaddir2","pn","negate","rawGlob","_glob","dotOk","matchedEntries","len","concat","st","_readdirInGlobStar","lstatcb","isSym","isDirectory","readdir","_readdirError","_readdirEntries","readdirCb","_processGlobStar2","remainWithoutGlobStar","gspref","noGlobStar","instead","below","_stat","exists","_processSimple2","trail","needDir","type","statcb","_stat2","newPattern","readdirSync","wrappy","reqs","array","key","RES","cbs","splice","makeres","util","ctor","superCtor","super_","constructor","writable","configurable","TempCtor","sep","plTypes","open","close","qmark","star","reSpecials","reduce","slashSplit","ext","trim","regexp","comment","empty","make","braceExpand","nobrace","list","defaults","def","orig","debug","_made","parseNegate","globParts","si","negateOffset","isSub","stateChar","re","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","clearStateChar","noext","reStart","pl","reEnd","cs","sp","SUBPARSE","tail","$1","$2","addPatternStart","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","flags","regExp","_src","makeRe","twoStar","ex","partial","filename","file","matchOne","flipNegate","fi","pi","fl","hit","fr","pr","swallowee","called","onceStrict","onceError","proto","Function","_default","posix","win32","device","isUnc","Boolean","sax","parser","opt","SAXParser","SAXStream","createStream","MAX_BUFFER_LENGTH","Stream","buffers","clearBuffers","q","bufferCheckPosition","lowercase","lowercasetags","looseCase","tags","closed","closedRoot","sawRoot","tag","noscript","state","BEGIN","strictEntities","ENTITIES","XML_ENTITIES","attribList","xmlns","ns","rootNS","trackPosition","position","line","column","EVENTS","F","write","chunk","BEGIN_WHITESPACE","beginWhiteSpace","TEXT","starti","textNode","isWhitespace","strictFail","TEXT_ENTITY","OPEN_WAKA","startTagPosition","SCRIPT","SCRIPT_ENDING","script","CLOSE_TAG","SGML_DECL","sgmlDecl","isMatch","nameStart","OPEN_TAG","tagName","PROC_INST","procInstName","procInstBody","toUpperCase","emitNode","CDATA","cdata","COMMENT","DOCTYPE","doctype","isQuote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","textopts","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","nameBody","newTag","openTag","OPEN_TAG_SLASH","ATTRIB","closeTag","attribName","attribValue","ATTRIB_NAME","ATTRIB_VALUE","attrib","ATTRIB_NAME_SAW_WHITE","attributes","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","isAttribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","notMatch","returnState","parseEntity","entity","entityBody","entityStart","maxAllowed","maxActual","closeText","checkBufferLength","flush","streamWraps","ev","_parser","readable","me","onend","onerror","_decoder","removeAllListeners","data","isBuffer","SD","XML_NAMESPACE","XMLNS_NAMESPACE","xml","regex","stringFromCharCode","fromCodePoint","STATE","COMMENT_STARTING","event","nodeType","parent","qname","attribute","qualName","local","qn","selfClosing","uri","JSON","stringify","nv","isSelfClosing","closeTo","num","entityLC","numStr","isNaN","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","codePoint","RangeError","ANY","Symbol","Comparator","comp","parseOptions","loose","semver","operator","COMPARATORLOOSE","COMPARATOR","SemVer","cmp","includePrerelease","Range","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","raw","parseRange","first","isNullSet","isAny","comps","memoKey","cached","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","compRe","rangeList","parseComparator","replaceGTE0","rangeMap","Map","size","has","delete","values","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","intersects","testSet","comparators","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","TILDELOOSE","TILDE","ret","replaceCaret","CARETLOOSE","CARET","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","tb","prerelease","allowed","major","minor","patch","MAX_LENGTH","MAX_SAFE_INTEGER","compareIdentifiers","LOOSE","FULL","build","other","compareMain","comparePre","release","identifier","inc","neq","gt","lt","op","rtl","COERCERTL","COERCE","versionA","versionB","compare","compareBuild","version1","version2","v1","v2","hasPre","defaultResult","parsed","internalRe","src","tokens","SEMVER_SPEC_VERSION","rcompareIdentifiers","valid","clean","rcompare","compareLoose","rsort","coerce","satisfies","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","MAX_SAFE_COMPONENT_LENGTH","anum","bnum","R","createToken","isGlobal","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","LONETILDE","LONECARET","Yallist","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","doUse","node","isStale","del","now","unshiftNode","maxAge","walker","prev","removeNode","Entry","forEachStep","thisp","lc","stale","dispose","noDisposeOnSet","updateAgeOnGet","mL","allowStale","mA","lC","head","toArray","unshift","expiresAt","r1","r2","versions","maxSV","rangeObj","minSV","minver","setMin","comparator","compver","hilo","gtfn","ltefn","ltfn","ecomp","high","low","ranges","simplified","simpleSubset","sub","dom","eqSet","Set","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","os","crypto","_c","constants","rimraf","RANDOM_CHARS","TEMPLATE_PATTERN","CREATE_FLAGS","O_CREAT","O_EXCL","O_RDWR","IS_WIN32","EBADF","errno","ENOENT","_removeObjects","FN_RMDIR_SYNC","rmdirSync","FN_RIMRAF_SYNC","_gracefulCleanup","tmpName","_parseArguments","_assertAndSanitizeOptions","tries","_getUniqueName","_generateTmpName","tmpNameSync","_removeFileAsync","fdPath","_handler","_isENOENT","unlink","_removeFileSync","rethrownException","_isExpectedError","unlinkSync","_prepareTmpFileRemoveCallback","removeCallbackSync","_prepareRemoveCallback","removeCallback","keep","_prepareTmpDirRemoveCallback","removeFunction","unsafeCleanup","rmdir","fileOrDirName","cleanupCallbackSync","_cleanupCallback","toRemove","_randomChars","howMany","rnd","randomBytes","pseudoRandomBytes","_isBlank","_isUndefined","actualOptions","getOwnPropertyNames","tmpDir","tmpdir","dir","template","pid","postfix","_getTmpDir","_assertIsRelative","detachDescriptor","discardDescriptor","relative","_resolvePath","_sanitizeName","sanitizedName","startsWith","option","basename","resolvedPath","addListener","mkdir","mode","dirSync","mkdirSync","possibleErr","discardOrDetachDescriptor","fileSync","setGracefulCleanup","_err","defaultGlobOpts","timeout","maxBusyTries","emfileWait","disableGlob","equal","busyTries","errState","afterGlob","results","CB","setTimeout","rimraf_","fixWinEPERM","chmod","er2","er3","stats","fixWinEPERMSync","chmodSync","originalEr","rmkids","files","rimrafSync","rmkidsSync","retries","threw","getChangelistPickOptions","repository","canRemove","picks","changelists","group","_changelist","resourceStates","ignoreOnCommitList","configuration","ignoreOnCommit","label","getCommitChangelistPickOptions","changes","changelist","includes","async","inputCommitChangelist","window","showInformationMessage","choice","showQuickPick","placeHolder","patchChangelistOptions","selectedChoice","changelistName","newChangelistName","showInputBox","prompt","resourceGroup","selectedAll","FileItem","selected","canPickMany","showErrorMessage","sourceControlManager","disposables","GetSourceControlManager","FileOpen","OpenFile","PromptAuth","CommitWithMessage","Add","ChangeList","Refresh","Commit","OpenResourceBase","OpenResourceHead","OpenChangeBase","SwitchBranch","Revert","Update","PullIncommingChange","PatchAll","Patch","PatchChangeList","Remove","ResolveAll","Resolve","Resolved","Log","RevertChange","Close","Cleanup","RemoveUnversioned","FinishCheckout","AddToIgnoreSCM","AddToIgnoreExplorer","RenameExplorer","Upgrade","OpenChangePrev","PromptRemove","Checkout","RefreshRemoteChanges","DeleteUnversioned","OpenChangeHead","OpenHeadFile","RevertAll","PickCommitMessage","svn","RevertExplorer","SearchLogByRevision","SearchLogByText","Command","selection","getResourceStates","uris","resource","resourceUri","runByRepository","resources","paths","fsPath","addFiles","_mainUri","allUris","addToIgnore","Resource","Uri","activeTextEditor","document","commands","executeCommand","promiseArray","getRepositoryFromUri","repositories","normalizePath","inputSwitchChangelist","removeChangelist","addChangelist","url","ignoreFocusOut","defaultCheckoutDirectory","homedir","showOpenDialog","canSelectFiles","canSelectFolders","canSelectMany","defaultUri","openLabel","parentPath","folderName","branch","getBranchName","baseUrl","repositoryPath","location","ProgressLocation","Window","Notification","progressOptions","title","cancellable","attempt","withProgress","svnErrorCode","svnErrorCodes","AuthorizationFailed","auth","username","password","choices","addToWorkspace","workspace","workspaceFolders","updateWorkspaceFolders","cleanup","commandName","command","createRepositoryCommand","execute","_disposable","registerCommand","method","getRepository","repositoryPromise","pickRepository","then","catch","getSCMResource","arg","isSingleResource","groups","warn","tuple","promises","scheme","fromSvnUri","getResourceFromFile","against","preview","preserveFocus","preserveSelection","getLeftResource","getRightResource","getTitle","remote","viewColumn","ViewColumn","Active","Status","DELETED","toSvnUri","SvnUriAction","SHOW","ref","ADDED","renameResourceUri","CONFLICTED","encoding","MODIFIED","REPLACED","IGNORED","UNVERSIONED","MISSING","newname","dirname","props","_openResource","content","tempFile","with","openTextDocument","textEditor","showTextDocument","edit","Position","insert","modifiedDocument","modifiedUri","originalUri","originalDocument","applyLineChanges","WorkspaceEdit","lineAt","lineCount","applyEdit","save","inputIgnoreList","inputCommitMessage","inputBox","commitFiles","stderrFormated","inputCommitFiles","filePaths","showWarningMessage","modal","deleteDirectory","finishCheckout","workspaceRoot","LOG","openChange","HEAD","basedir","showDiffPath","getPatchChangelist","patchChangelist","svnVersion","is18orGreater","logs","user","logByUser","description","revision","author","toLocaleString","prevUsername","prevPassword","relativeList","removeAbsolutePath","ignoreText","resp","removeFiles","ignoreList","update","showUpdateMessage","incomingChange","pullIncomingChange","change","refreshRemoteChanges","status","updateRemoteChangedFiles","keepLocal","answer","removeUnversioned","mainUri","_allUris","oldName","rename","oldFile","newName","fixPathSeparator","basepath","getConflictPickOptions","conflicts","conflict","response","stderr","confirmRevert","depth","checkAndPromptDepth","reverse","revert","visibleTextEditors","_revertChanges","LOG_REVISION","tempSvnFs","writeFile","overwrite","proc","cp","spawn","stdout","_progress","token","onCancellationRequested","kill","selectBranch","isNew","commitMessage","newBranch","switchBranch","ignoreExternals","updateRevision","folderPath","neverShowAgain","upgradeWorkingCopy","tryOpenRepository","xml2jsParseSettings","mergeAttrs","explicitRoot","explicitArray","attrNameProcessors","camelcase","tagNameProcessors","SvnDepth","PropStatus","Operation","RepositoryState","SvnKindType","ConstructorPolicy","conflictOptions","ConflictItem","CheckActiveEditor","onDidChangeStatusRepository","checkHasChangesOnActiveEditor","onDidChangeActiveTextEditor","setVscodeContext","hasChangesOnActiveEditor","EXTERNAL","NONE","NORMAL","INCOMPLETE","MERGED","OBSTRUCTED","debounce","is19orGreater","OpenRepositoryCount","onDidOpenRepository","checkOpened","onDidCloseRepository","decorate","decorator","_target","descriptor","fnKey","memoize","memoizeKey","throttle","currentKey","nextKey","trigger","clear","sequentialize","currentPromise","run","delay","timerKey","clearTimeout","_seqList","_key","jschardet","Constants","MINIMUM_THRESHOLD","MacCyrillicModel","mTypicalPositiveRatio","IGNORE_ENCODINGS","JSCHARDET_TO_ICONV_ENCODINGS","ibm866","normaliseEncodingName","b0","readUInt8","b1","b2","detectEncodingByBOM","detected","chardet","encodingPriorities","pri","normalizedEncodingName","_reject","access","promisify","folder","confs","conf","layout","allowNew","promise","dirs","kind","DIR","SVN","_onDidChange","EventEmitter","getConfiguration","onDidChangeConfiguration","onConfigurationChanged","affectsConfiguration","fire","section","defaultValue","configurationTarget","inspect","model","_dispose","_onDidChangeTreeData","onDidChangeTreeData","registerTreeDataProvider","openDiffCmd","onDidChangeRepository","element","iconName","iconPath","getIconObject","localPath","tooltip","oldPath","repo","oldRevision","newPath","newRevision","getChanges","curr","getRemoteRepository","openDiff","openFileRemote","LogTreeItemKind","iconsRootPath","__dirname","toUri","theme","light","dark","getLimit","dayjs","what","clipboard","commit","writeText","out","baseRev","persisted","baseRevision","titem","TreeItem","TItem","localFullPath","isFile","rfrom","commitFrom","moreCommits","svnTarget","fetched","needFetch","isComplete","gravatarCache","downloadFile","getPathNormalizer","errorMsg","show","createTempSvnRevisionFile","gravatar","gravitarUrl","createHash","digest","md5","relativeDate","arg1","arg2","uri1","uri2","localUri","editorChanged","copyCommitToClipboard","openFileRemoteCmd","openDiffBaseCmd","refresh","unwrap","currentItem","findIndex","prevRev","te","loadMore","fetchMore","info","getInfo","order","ti","getCommitLabel","TreeItemCollapsibleState","None","getCommitDescription","getCommitIcon","getCommitToolTip","contextValue","fname","Expanded","transform","insertBaseMarker","ltItem","logCache","addRepolikeGui","removeRepo","openFileLocal","_e","maybeItem","SvnPath","getCached","repoLike","rev","userAdded","wsrepo","remRepo","svninfo","repoName","box","createInputBox","onDidAccept","wsf","joined","box2","addRepolike","ri","checkIfFile","remoteFullPath","remotePath","revs","fetchMoreClick","remoteRoot","branchRoot","repoUrl","Repo","Collapsed","Repository","CommitDetail","pathElem","nm","relativeFromBranch","action","getActionIcon","_lk","lv","_rk","rv","_v","logentries","IgnoreSingleItem","expression","recursive","regexExtension","matchExt","fileName","dirName","pick","count","ignoreByFileName","isByFile","isRecursive","endsWith","byDir","promptDepth","yes","defaultDepth","hasDirectory","modified","diffs","currentLine","isInsertion","originalEndLineNumber","isDeletion","modifiedEndLineNumber","getText","originalStartLineNumber","fromLine","modifiedStartLineNumber","fromCharacter","character","panel","promptNew","createWebviewPanel","enableScripts","retainContextWhenHidden","stylePathOnDisk","styleUri","webview","asWebviewUri","beforeForm","selectedFiles","html","cspSource","onDidDispose","onDidReceiveMessage","postMessage","pickCommitMessage","reveal","showCommitInput","checkEmptyMessage","operations","operation","isReadOnly","xml2js","parseString","entry","transformed","logentry","processEntry","wcStatus","locked","wcLocked","reposStatus","lock","switched","movedTo","movedFrom","statusList","xmlToStatus","ResourceKind","PathNormalizer","repoInfo","repoRoot","wcInfo","wcrootAbspath","checkoutRoot","fpath","pathOrRoot","RemoteFull","getFullRepoPathFromUrl","LocalFull","nativepath","fromRootToBranch","LocalRelative","SvnRI","_repository","_state","picked","FolderItem","_id","_parent","RemoteRepository","rto","filePath","statusIgnored","statusExternal","currentBranch","remoteChangedFiles","isIncomplete","needCleanUp","deletedUris","canSaveAuth","_onDidChangeRepository","_onDidChangeState","onDidChangeState","_onDidChangeStatus","onDidChangeStatus","_onDidChangeRemoteChangedFiles","onDidChangeRemoteChangedFile","_onRunOperation","onRunOperation","_onDidRunOperation","onDidRunOperation","_operations","Idle","_fsWatcher","RepositoryFilesWatcher","onDidAny","onFSChange","onDidSvnAny","onDidAnyFileChanged","sourceControl","scm","createSourceControl","placeholder","acceptInputCommand","quickDiffProvider","statusBar","StatusBarCommands","onDidChange","statusBarCommands","createResourceGroup","unversioned","hideWhenEmpty","toDisposable","remoteChangedUpdateInterval","clearInterval","onDidWorkspaceDelete","actionForDeletedFiles","createRemoteChangedInterval","onDidSaveTextDocument","anyEvent","remoteChanges","updateInfo","updateFreq","setInterval","rules","ignored","relativePath","rule","StatusRemote","_uri","isIdle","eventuallyUpdateWhenIdleAndWait","updateWhenIdleAndWait","whenIdleAndFocused","focused","onDidFocusWindow","filterEvent","onDidChangeWindowState","eventToPromise","checkRemoteChanges","combineExternal","statuses","retryRun","getStatus","includeIgnored","includeExternals","filesToExclude","excludeList","repositoryUuid","getRepositoryUuid","statusesRepository","external","isDescendant","hideUnversioned","matchAll","renameUri","prevChangelistsSize","counts","ignoreOnStatusCountList","tempResourceStates","getCurrentBranch","uriString","getBranches","Show","showBuffer","AddChangelist","RemoveChangelist","CurrentBranch","NewBranch","force","Info","patchBuffer","plainLog","plainLogBuffer","plainLogByRevision","plainLogByRevisionBuffer","plainLogByText","plainLogByTextBuffer","CleanUp","Changes","expressions","directory","Ignore","newFile","Rename","List","ls","lastPromptAuth","keytar","findCredentials","getCredentialServiceName","setPassword","runOperation","checkRemote","updateModelState","NotASvnRepository","Disposed","shouldShowProgress","SourceControl","accounts","saveAuth","RepositoryIsLocked","pow","loadStoredAuths","account","promptAuth","globalSequentialize","getIconUri","_resourceUri","_type","_renameResourceUri","_props","_remote","getIconPath","strikeThrough","faded","diffHead","changesLeftClick","icons","Renamed","ThemeColor","Added","Conflicted","Deleted","Ignored","Missing","Modified","Replaced","Unversioned","SourceControlManager","_svn","policy","_onDidOpenRepository","_onDidCloseRepository","_onDidChangeStatusRepository","openRepositories","enabled","possibleSvnRepositoryPaths","maxDepth","onDidchangeState","Async","configurationChangeDisposable","enable","disable","onDidChangeWorkspaceFolders","fsWatcher","createFileSystemWatcher","onWorkspaceChange","onDidCreate","onDidDelete","onPossibleSvnRepositoryChange","setState","scanWorkspaceFolders","possibleSvnRepositoryPath","eventuallyScanPossibleSvnRepository","eventuallyScanPossibleSvnRepositories","added","removed","possibleRepositoryFolders","getOpenRepository","openRepositoriesToDispose","level","checkParent","isSvnFolder","resourceConfig","repositoryRoot","getRepositoryRoot","WorkingCopyIsTooOld","newLevel","hint","liveRepository","openRepositoriesSorted","externalPath","ignoredPath","disappearListener","onDidDisappearRepository","changeListener","changeStatus","statusListener","scanExternals","scanIgnored","openRepository","exitCode","onDidChangeOperations","isSwitchRunning","isRunning","checkoutStatusBar","CheckoutStatusBar","syncStatusBar","SyncStatusBar","checkout","disposable","startState","onModelChange","onOperationsChange","isSyncRunning","isStatusRemoteRunning","isOperationRunning","icon","getSvnErrorCode","NotShareCommonAncestry","lastCwd","_onOutput","svnPath","output","argsOut","logOutput","assign","LC_ALL","LANG","ee","removeListener","encodeUtil","detectEncoding","iconv","encodingExists","decodedStdout","decode","svnCommand","parseInfoXml","SvnFileSystemProvider","_onDidChangeFile","onDidChangeFile","changedRepositoryRoots","registerFileSystemProvider","isReadonly","isCaseSensitive","eventuallyFireChangeEvents","fireChangeEvents","events","FileChangeType","Changed","EmptyDisposable","isInitialized","FileSystemError","FileNotFound","mtime","listResults","FileType","File","ctime","extra","cacheKey","cacheValue","timestamp","LOG_SEARCH","PATCH","Uint8Array","row","textDocuments","pathEquals","findSpecificSvn","findSvnDarwin","findSvnWin32","checkSvnVersion","findSystemSvnWin32","ProgramW6432","ProgramFiles","svnPathBuffer","getVersion","child","cpErrorHandler","_path","_revision","fromRepoToBranch","withRevision","_infoCache","LateInit","fixPegRevision","_info","execBuffer","params","parseStatusXml","uuid","skipCache","isUrl","resetInfoCache","parseSvnLog","copyCommitPath","copyfromRev","copyfromPath","copyFromPath","copyFromRev","copyToPath","copyFromUrl","copyToUrl","revisions","latestMergedRevision","parseDiffXml","isChild","configs","autoGuessEncoding","textDocument","doc","languageConfigs","languageId","detectedEncoding","svnEncoding","tmpFile","tmp","sendedFiles","allFiles","subfile","abspath","relpath","acc","cur","flat","addFilesByIgnore","trunkLayout","branchesLayout","tagsLayout","getRepoUrl","branches","trees","tree","branchUrl","logLength","parseSvnList","currentIgnore","ignores","getCurrentIgnore","Directory","_emitter","_bufferedEvents","_root","_disposables","onDidCloseTextDocument","_resource","Disposable","_lookup","_lookupAsDirectory","_fireSoon","Created","_lookupAsFile","_lookupParentDirectory","FileIsADirectory","FileExists","byteLength","oldUri","newUri","oldParent","newParent","svnUri","filePathHash","contentBuffer","encode","createDirectory","readDirectory","part","FileNotADirectory","_fireSoonHandler","getTreeItem","getChildren","getCommand","remoteChange","svnProvider","query","replaceFileExtension","combinedDisposable","onceEvent","listener","thisArgs","regexNormalizePath","regexNormalizeWindows","descendant","letter","dirPath","entryPath","maybeT","isWindowsPath","patterns","isExclusion","getNodeModule","moduleName","showError","appRoot","iconv_lite","RelativePattern","onRepoChange","onRepoCreate","onRepoDelete","_onRepoChange","_onRepoCreate","_onRepoDelete","watch","repoWatch","isRelevant","isTmp","svnPattern","ignoreSvn","onDidWorkspaceChange","onDidWorkspaceCreate","onDidWorkspaceAny","ignoreWorkspace","onDidSvnChange","onDidSvnCreate","onDidSvnDelete","doesExist","wrapper","stripBOM","builder","escapeCDATA","requiresCDATA","wrapCDATA","hasProp","Builder","buildObject","rootObj","attrkey","charkey","render","rootElement","rootName","_this","attr","txt","ele","up","att","xmldec","headless","allowSurrogateChars","renderOpts","explicitCharkey","normalizeTags","ignoreAttrs","validator","explicitChildren","childkey","charsAsChildren","includeWhiteChars","attrValueProcessors","valueProcessors","emptyTag","preserveChildrenOrder","chunkSize","bom","isEmpty","processItem","processors","setImmediate","thing","Parser","superClass","parseStringPromise","assignOrPush","processAsync","xmlnskey","__super__","remaining","saxParser","error1","errThrown","newValue","ontext","ended","resultObject","EXPLICIT_CHARKEY","onopentag","processedKey","onclosetag","emptyStr","nodeName","objClone","xpath","charChild","oncdata","prefixMatch","firstCharLowerCase","stripPrefix","parseNumbers","parseFloat","parseBooleans","ValidationError","Disconnected","Preceding","Following","Contains","ContainedBy","ImplementationSpecific","Element","Attribute","Text","CData","EntityReference","EntityDeclaration","ProcessingInstruction","Comment","Document","DocType","DocumentFragment","NotationDeclaration","Declaration","Raw","AttributeDeclaration","ElementDeclaration","Dummy","getValue","isFunction","isObject","isPlainObject","source","sources","getPrototypeOf","OpenTag","InsideTag","CloseTag","NodeType","XMLAttribute","debugInfo","attValue","isId","schemaTypeInfo","writer","filterOptions","isEqualNode","namespaceURI","localName","XMLCharacterData","XMLCData","XMLNode","substringData","offset","appendData","insertData","deleteData","replaceData","XMLComment","XMLDOMErrorHandler","XMLDOMStringList","XMLDOMConfiguration","defaultParams","getParameter","canSetParameter","setParameter","handleError","XMLDOMImplementation","hasFeature","feature","createDocumentType","qualifiedName","publicId","systemId","createDocument","createHTMLDocument","getFeature","contains","XMLDTDAttList","elementName","attributeName","attributeType","defaultValueType","dtdAttType","dtdAttDefault","dtdAttList","XMLDTDElement","dtdElementValue","dtdElement","XMLDTDEntity","pe","pubID","sysID","internal","dtdPubID","dtdSysID","nData","dtdNData","dtdEntityValue","dtdEntity","XMLDTDNotation","dtdNotation","XMLDeclaration","standalone","xmlVersion","xmlEncoding","xmlStandalone","declaration","XMLNamedNodeMap","XMLDocType","ref1","ref2","children","documentObject","nodes","attList","pEntity","notation","docType","ent","pent","not","XMLStringWriter","XMLStringifier","XMLDocument","documentURI","domConfig","rootObject","writerOptions","createElement","createDocumentFragment","createTextNode","createComment","createCDATASection","createProcessingInstruction","createAttribute","createEntityReference","getElementsByTagName","tagname","importNode","importedNode","deep","createElementNS","createAttributeNS","getElementsByTagNameNS","getElementById","elementId","adoptNode","normalizeDocument","renameNode","getElementsByClassName","classNames","createEvent","eventInterface","createRange","createNodeIterator","whatToShow","createTreeWalker","WriterState","XMLElement","XMLProcessingInstruction","XMLRaw","XMLText","XMLDocumentCB","onData","onEnd","onDataCallback","onEndCallback","currentNode","currentLevel","openTags","documentStarted","documentCompleted","createChildNode","attName","attribs","dummy","instruction","openCurrent","oldValidationFlag","noValidation","keepNullAttributes","insTarget","insValue","processingInstruction","rootNodeName","closeNode","openNode","isOpen","indent","endline","isClosed","nod","dat","com","ins","dec","dtd","XMLDummy","isRoot","attributeMap","clonedSelf","clonedChild","removeAttribute","getAttribute","setAttribute","getAttributeNode","setAttributeNode","newAttr","removeAttributeNode","oldAttr","getAttributeNS","setAttributeNS","removeAttributeNS","getAttributeNodeNS","setAttributeNodeNS","hasAttribute","hasAttributeNS","setIdAttribute","setIdAttributeNS","setIdAttributeNode","idAttr","getNamedItem","setNamedItem","oldNode","removeNamedItem","getNamedItemNS","setNamedItemNS","removeNamedItemNS","DocumentPosition","XMLNodeList","parent1","baseURI","childNodeList","textContent","setParent","childNode","lastChild","len1","ref3","ignoreDecorators","convertAttKey","separateArrayItems","keepNullNodes","convertTextKey","convertCDataKey","convertCommentKey","convertRawKey","convertPIKey","insertBefore","newChild","refChild","insertAfter","remove","commentBefore","commentAfter","instructionBefore","instructionAfter","importDocument","clonedRoot","importXMLBuilder","replaceChild","oldChild","removeChild","appendChild","hasChildNodes","cloneNode","isSupported","hasAttributes","compareDocumentPosition","isAncestor","isPreceding","isSameNode","lookupPrefix","isDefaultNamespace","lookupNamespaceURI","setUserData","getUserData","nodePos","thisPos","treePosition","isFollowing","foreachTreeNode","func","XMLWriterBase","XMLStreamWriter","stream","isLastRootNode","writeChildNode","spaceBeforeSlash","childNodeCount","firstChildNode","allowEmpty","pretty","suppressPrettyCount","newline","assertLegalName","assertLegalChar","textEscape","attEscape","ampregex","noDoubleEncoding","previousSibling","nextSibling","splitText","replaceWholeText","filteredOptions","ref4","ref5","ref6","dontPrettyTextNodes","dontprettytextnodes","spacebeforeslash","indentLevel","openAttribute","closeAttribute","prettySuppressed","begin","stringWriter","streamWriter","implementation","writerState","iterator","Node","pushNode","forEachReverse","getReverse","mapReverse","initial","reduceReverse","toArrayReverse","sliceReverse","deleteCount","inserted","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","subscriptions","outputChannel","createOutputChannel","tryInit","_context","pathHint","svnFinder","SvnFinder","findSvn","Svn","registerCommands","RepoLogProvider","ItemLogProvider","BranchChangesProvider","IsSvn18orGreater","IsSvn19orGreater","appendLine","onOutput","append","messages","findSvnExecutable","download","filters","executable","_activate","deactivate"],"mappings":"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AaV,EAAKY,SAAStD,GACjC,QAAIoD,EAAa,IAEjBV,EAAKd,UAAauB,GAAa,EAAKC,EAC7BA,GAAc,IAAQA,GAAc,KACtCA,GAAc,KAAQA,GAAc,MACrCV,EAAKX,OAAQ,GAEV,MAiIfpG,EAAQwF,KA7HR,cAAmBgB,EACf,cACIrB,SAASC,WACT3B,KAAKgD,YAAc,CACf,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAGR,OACI,MAAO,OAEX,WACI,MAAO,KAEX,SAASM,EAAM1C,GACX0C,EAAKb,MAAQa,EAAKZ,UAClBY,EAAKX,OAAQ,EACb,MAAMoB,EAAaT,EAAKd,UAAYc,EAAKY,SAAStD,GAClD,GAAImD,EAAY,EACZ,OAAO,EACX,GAAIA,GAAa,KAAqB,KAAbA,EACrB,OAAO,EACX,MAAMC,EAAaV,EAAKY,SAAStD,GACjC,QAAIoD,EAAa,IAEjBV,EAAKd,UAAac,EAAKd,WAAa,EAAKwB,GACrCA,EAAa,IAAsB,KAAdA,GAAoC,KAAdA,KAC3CV,EAAKX,OAAQ,GACV,MA6JfpG,EAAQuF,OAlHR,cAAqBiB,EACjB,cACIrB,SAASC,WACT3B,KAAKgD,YAAc,CACf,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJhD,KAAKyD,SAAWK,EAEpB,OACI,MAAO,SAEX,WACI,MAAO,OAsHfvH,EAAQsF,OAlHR,cAAqBkB,EACjB,cACIrB,SAASC,WACT3B,KAAKgD,YAAc,CACf,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJhD,KAAKyD,SAAWK,EAEpB,OACI,MAAO,SAEX,WACI,MAAO,OA6JfvH,EAAQqF,SAzJR,cAAuBmB,EACnB,cACIrB,SAASC,WACT3B,KAAKgD,YAAc,CACf,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAGR,OACI,MAAO,UAEX,WACI,MAAO,KAEX,SAASM,EAAM1C,GACX0C,EAAKb,MAAQa,EAAKZ,UAClBY,EAAKX,OAAQ,EACb,IAAIoB,EAAY,EACZC,EAAa,EACbC,EAAY,EACZE,EAAa,EACjBC,EAEI,GADAL,EAAYT,EAAKd,UAAYc,EAAKY,SAAStD,GACvCmD,EAAY,EACZT,EAAKV,MAAO,OAGhB,KAAImB,GAAa,OAGjBC,EAAaV,EAAKY,SAAStD,GAC3B0C,EAAKd,UAAac,EAAKd,WAAa,EAAKwB,EACrCD,GAAa,KAAQA,GAAa,KAAtC,CACI,GAAKC,GAAc,IAAQA,GAAc,KACpCA,GAAc,IAAMA,GAAc,IACnC,MAAMI,EAEV,GAAIJ,GAAc,IAAQA,GAAc,KACpCC,EAAYX,EAAKY,SAAStD,GACtBqD,GAAa,KAAQA,GAAa,MAClCE,EAAab,EAAKY,SAAStD,GACvBuD,GAAc,IAAQA,GAAc,KAAM,CAC1Cb,EAAKd,UACAc,EAAKd,WAAa,GAAOyB,GAAa,EAAKE,EAChD,MAAMC,EAIlBd,EAAKX,OAAQ,EAIrB,OAAoB,GAAbW,EAAKV,Q,kCCvuBpB,IAAI7C,EAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDE,OAAOC,eAAe7D,EAAS,aAAc,CAAE8D,OAAO,IACtD9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,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAGR,SACI,MAAO,CACH,IAAIL,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,UAEJ,IAAIA,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,UAEJ,IAAIA,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,UAEJ,IAAIA,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,WAEJ,IAAIA,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,UAEJ,IAAIA,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,UAEJ,IAAIA,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,UAEJ,IAAIA,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,UAEJ,IAAIA,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,WAEJ,IAAIA,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,YAIZ,KAAKM,GACD,OAAOA,GAASA,EAAMU,SAAW,eAAiB,eAyhB1D3K,EAAQsI,WArhBR,cAAyB0B,EACrB,UACI,MAAO,CACH,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IAGR,SACI,MAAO,CACH,IAAIL,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,WAEJ,IAAIA,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,WAEJ,IAAIA,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,WAEJ,IAAIA,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,OACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,YAIZ,KAAKtF,GACD,OAAOA,GAAOA,EAAIsG,SAAW,eAAiB,eAoVtD3K,EAAQqI,WAhVR,cAAyB2B,EACrB,UACI,MAAO,CACH,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,KAGR,SACI,MAAO,CACH,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,QACA,SACA,SACA,SACA,UAGR,OACI,MAAO,aAEX,WACI,MAAO,OAoVfhK,EAAQoI,WAhVR,cAAyB4B,EACrB,UACI,MAAO,CACH,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAGR,SACI,MAAO,CACH,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAGR,OACI,MAAO,aAEX,WACI,MAAO,OAoVfhK,EAAQmI,WAhVR,cAAyB6B,EACrB,UACI,MAAO,CACH,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IAGR,SACI,MAAO,CACH,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,QACA,SACA,SACA,SACA,UAGR,KAAK3F,GACD,OAAOA,GAAOA,EAAIsG,SAAW,eAAiB,aAElD,WACI,MAAO,OAwZf3K,EAAQkI,WApZR,cAAyB8B,EACrB,UACI,MAAO,CACH,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,IAGR,SACI,MAAO,CACH,IAAIL,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,WAEJ,IAAIA,EAAe,KAAM,CACrB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,YAIZ,KAAKtF,GACD,OAAOA,GAAOA,EAAIsG,SAAW,eAAiB,aAElD,WACI,MAAO,OAoVf3K,EAAQiI,WAhVR,cAAyB+B,EACrB,UACI,MAAO,CACH,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAGR,SACI,MAAO,CACH,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,UAGR,KAAK3F,GACD,OAAOA,GAAOA,EAAIsG,SAAW,eAAiB,aAElD,WACI,MAAO,OAoVf3K,EAAQgI,aAhVR,cAA2BgC,EACvB,UACI,MAAO,CACH,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,GACA,GACA,IACA,GACA,IACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAGR,SACI,MAAO,CACH,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAGR,OACI,MAAO,eAEX,WACI,MAAO,OAoVfhK,EAAQ+H,aAhVR,cAA2BiC,EACvB,UACI,MAAO,CACH,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,IACA,GACA,GACA,KAGR,SACI,MAAO,CACH,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAGR,OACI,MAAO,eAEX,WACI,MAAO,OAoVfhK,EAAQ8H,OAhVR,cAAqBkC,EACjB,UACI,MAAO,CACH,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAGR,SACI,MAAO,CACH,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAGR,OACI,MAAO,SAEX,WACI,MAAO,Q,kCCnvIf,IAAIxG,EAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDE,OAAOC,eAAe7D,EAAS,aAAc,CAAE8D,OAAO,IACtD9D,EAAQ4K,SAAW5K,EAAQ6K,SAAW7K,EAAQ8K,SAAW9K,EAAQ+K,cAAW,EAC5E,MAAM7G,EAAUV,EAAgB,EAAQ,OAexCxD,EAAQ+K,SAdR,MACI,OACI,MAAO,WAEX,MAAM1G,GACF,MAAM4F,EAAQ5F,EAAIkC,UAClB,OAAI0D,EAAMlL,QAAU,GACK,MAAT,IAAXkL,EAAM,KACc,MAAT,IAAXA,EAAM,IACA/F,EAAQgB,QAAQb,EAAKZ,KAAM,K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","file":"extension.js","sourcesContent":["'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ISO_2022_CN = exports.ISO_2022_KR = exports.ISO_2022_JP = void 0;\nconst match_1 = __importDefault(require(\"../match\"));\nclass ISO_2022 {\n    constructor() {\n        this.escapeSequences = [];\n    }\n    name() {\n        return 'ISO_2022';\n    }\n    match(det) {\n        let i, j;\n        let escN;\n        let hits = 0;\n        let misses = 0;\n        let shifts = 0;\n        let quality;\n        const text = det.fInputBytes;\n        const textLen = det.fInputLen;\n        scanInput: for (i = 0; i < textLen; i++) {\n            if (text[i] == 0x1b) {\n                checkEscapes: for (escN = 0; escN < this.escapeSequences.length; escN++) {\n                    const seq = this.escapeSequences[escN];\n                    if (textLen - i < seq.length)\n                        continue checkEscapes;\n                    for (j = 1; j < seq.length; j++)\n                        if (seq[j] != text[i + j])\n                            continue checkEscapes;\n                    hits++;\n                    i += seq.length - 1;\n                    continue scanInput;\n                }\n                misses++;\n            }\n            if (text[i] == 0x0e || text[i] == 0x0f)\n                shifts++;\n        }\n        if (hits == 0)\n            return null;\n        quality = (100 * hits - 100 * misses) / (hits + misses);\n        if (hits + shifts < 5)\n            quality -= (5 - (hits + shifts)) * 10;\n        return quality <= 0 ? null : match_1.default(det, this, quality);\n    }\n}\nclass ISO_2022_JP extends ISO_2022 {\n    constructor() {\n        super(...arguments);\n        this.escapeSequences = [\n            [0x1b, 0x24, 0x28, 0x43],\n            [0x1b, 0x24, 0x28, 0x44],\n            [0x1b, 0x24, 0x40],\n            [0x1b, 0x24, 0x41],\n            [0x1b, 0x24, 0x42],\n            [0x1b, 0x26, 0x40],\n            [0x1b, 0x28, 0x42],\n            [0x1b, 0x28, 0x48],\n            [0x1b, 0x28, 0x49],\n            [0x1b, 0x28, 0x4a],\n            [0x1b, 0x2e, 0x41],\n            [0x1b, 0x2e, 0x46],\n        ];\n    }\n    name() {\n        return 'ISO-2022-JP';\n    }\n}\nexports.ISO_2022_JP = ISO_2022_JP;\nclass ISO_2022_KR extends ISO_2022 {\n    constructor() {\n        super(...arguments);\n        this.escapeSequences = [[0x1b, 0x24, 0x29, 0x43]];\n    }\n    name() {\n        return 'ISO-2022-KR';\n    }\n}\nexports.ISO_2022_KR = ISO_2022_KR;\nclass ISO_2022_CN extends ISO_2022 {\n    constructor() {\n        super(...arguments);\n        this.escapeSequences = [\n            [0x1b, 0x24, 0x29, 0x41],\n            [0x1b, 0x24, 0x29, 0x47],\n            [0x1b, 0x24, 0x2a, 0x48],\n            [0x1b, 0x24, 0x29, 0x45],\n            [0x1b, 0x24, 0x2b, 0x49],\n            [0x1b, 0x24, 0x2b, 0x4a],\n            [0x1b, 0x24, 0x2b, 0x4b],\n            [0x1b, 0x24, 0x2b, 0x4c],\n            [0x1b, 0x24, 0x2b, 0x4d],\n            [0x1b, 0x4e],\n            [0x1b, 0x4f],\n        ];\n    }\n    name() {\n        return 'ISO-2022-CN';\n    }\n}\nexports.ISO_2022_CN = ISO_2022_CN;\n//# sourceMappingURL=iso2022.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.gb_18030 = exports.euc_kr = exports.euc_jp = exports.big5 = exports.sjis = void 0;\nconst match_1 = __importDefault(require(\"../match\"));\nfunction binarySearch(arr, searchValue) {\n    const find = (arr, searchValue, left, right) => {\n        if (right < left)\n            return -1;\n        const mid = Math.floor((left + right) >>> 1);\n        if (searchValue > arr[mid])\n            return find(arr, searchValue, mid + 1, right);\n        if (searchValue < arr[mid])\n            return find(arr, searchValue, left, mid - 1);\n        return mid;\n    };\n    return find(arr, searchValue, 0, arr.length - 1);\n}\nclass IteratedChar {\n    constructor() {\n        this.charValue = 0;\n        this.index = 0;\n        this.nextIndex = 0;\n        this.error = false;\n        this.done = false;\n    }\n    reset() {\n        this.charValue = 0;\n        this.index = -1;\n        this.nextIndex = 0;\n        this.error = false;\n        this.done = false;\n    }\n    nextByte(det) {\n        if (this.nextIndex >= det.fRawLength) {\n            this.done = true;\n            return -1;\n        }\n        const byteValue = det.fRawInput[this.nextIndex++] & 0x00ff;\n        return byteValue;\n    }\n}\nclass mbcs {\n    constructor() {\n        this.commonChars = [];\n    }\n    name() {\n        return 'mbcs';\n    }\n    match(det) {\n        let singleByteCharCount = 0, doubleByteCharCount = 0, commonCharCount = 0, badCharCount = 0, totalCharCount = 0, confidence = 0;\n        const iter = new IteratedChar();\n        detectBlock: {\n            for (iter.reset(); this.nextChar(iter, det);) {\n                totalCharCount++;\n                if (iter.error) {\n                    badCharCount++;\n                }\n                else {\n                    const cv = iter.charValue & 0xffffffff;\n                    if (cv <= 0xff) {\n                        singleByteCharCount++;\n                    }\n                    else {\n                        doubleByteCharCount++;\n                        if (this.commonChars != null) {\n                            if (binarySearch(this.commonChars, cv) >= 0) {\n                                commonCharCount++;\n                            }\n                        }\n                    }\n                }\n                if (badCharCount >= 2 && badCharCount * 5 >= doubleByteCharCount) {\n                    break detectBlock;\n                }\n            }\n            if (doubleByteCharCount <= 10 && badCharCount == 0) {\n                if (doubleByteCharCount == 0 && totalCharCount < 10) {\n                    confidence = 0;\n                }\n                else {\n                    confidence = 10;\n                }\n                break detectBlock;\n            }\n            if (doubleByteCharCount < 20 * badCharCount) {\n                confidence = 0;\n                break detectBlock;\n            }\n            if (this.commonChars == null) {\n                confidence = 30 + doubleByteCharCount - 20 * badCharCount;\n                if (confidence > 100) {\n                    confidence = 100;\n                }\n            }\n            else {\n                const maxVal = Math.log(doubleByteCharCount / 4);\n                const scaleFactor = 90.0 / maxVal;\n                confidence = Math.floor(Math.log(commonCharCount + 1) * scaleFactor + 10);\n                confidence = Math.min(confidence, 100);\n            }\n        }\n        return confidence == 0 ? null : match_1.default(det, this, confidence);\n    }\n    nextChar(iter, det) {\n        return true;\n    }\n}\nclass sjis extends mbcs {\n    constructor() {\n        super(...arguments);\n        this.commonChars = [\n            0x8140,\n            0x8141,\n            0x8142,\n            0x8145,\n            0x815b,\n            0x8169,\n            0x816a,\n            0x8175,\n            0x8176,\n            0x82a0,\n            0x82a2,\n            0x82a4,\n            0x82a9,\n            0x82aa,\n            0x82ab,\n            0x82ad,\n            0x82af,\n            0x82b1,\n            0x82b3,\n            0x82b5,\n            0x82b7,\n            0x82bd,\n            0x82be,\n            0x82c1,\n            0x82c4,\n            0x82c5,\n            0x82c6,\n            0x82c8,\n            0x82c9,\n            0x82cc,\n            0x82cd,\n            0x82dc,\n            0x82e0,\n            0x82e7,\n            0x82e8,\n            0x82e9,\n            0x82ea,\n            0x82f0,\n            0x82f1,\n            0x8341,\n            0x8343,\n            0x834e,\n            0x834f,\n            0x8358,\n            0x835e,\n            0x8362,\n            0x8367,\n            0x8375,\n            0x8376,\n            0x8389,\n            0x838a,\n            0x838b,\n            0x838d,\n            0x8393,\n            0x8e96,\n            0x93fa,\n            0x95aa,\n        ];\n    }\n    name() {\n        return 'Shift_JIS';\n    }\n    language() {\n        return 'ja';\n    }\n    nextChar(iter, det) {\n        iter.index = iter.nextIndex;\n        iter.error = false;\n        const firstByte = (iter.charValue = iter.nextByte(det));\n        if (firstByte < 0)\n            return false;\n        if (firstByte <= 0x7f || (firstByte > 0xa0 && firstByte <= 0xdf))\n            return true;\n        const secondByte = iter.nextByte(det);\n        if (secondByte < 0)\n            return false;\n        iter.charValue = (firstByte << 8) | secondByte;\n        if (!((secondByte >= 0x40 && secondByte <= 0x7f) ||\n            (secondByte >= 0x80 && secondByte <= 0xff))) {\n            iter.error = true;\n        }\n        return true;\n    }\n}\nexports.sjis = sjis;\nclass big5 extends mbcs {\n    constructor() {\n        super(...arguments);\n        this.commonChars = [\n            0xa140,\n            0xa141,\n            0xa142,\n            0xa143,\n            0xa147,\n            0xa149,\n            0xa175,\n            0xa176,\n            0xa440,\n            0xa446,\n            0xa447,\n            0xa448,\n            0xa451,\n            0xa454,\n            0xa457,\n            0xa464,\n            0xa46a,\n            0xa46c,\n            0xa477,\n            0xa4a3,\n            0xa4a4,\n            0xa4a7,\n            0xa4c1,\n            0xa4ce,\n            0xa4d1,\n            0xa4df,\n            0xa4e8,\n            0xa4fd,\n            0xa540,\n            0xa548,\n            0xa558,\n            0xa569,\n            0xa5cd,\n            0xa5e7,\n            0xa657,\n            0xa661,\n            0xa662,\n            0xa668,\n            0xa670,\n            0xa6a8,\n            0xa6b3,\n            0xa6b9,\n            0xa6d3,\n            0xa6db,\n            0xa6e6,\n            0xa6f2,\n            0xa740,\n            0xa751,\n            0xa759,\n            0xa7da,\n            0xa8a3,\n            0xa8a5,\n            0xa8ad,\n            0xa8d1,\n            0xa8d3,\n            0xa8e4,\n            0xa8fc,\n            0xa9c0,\n            0xa9d2,\n            0xa9f3,\n            0xaa6b,\n            0xaaba,\n            0xaabe,\n            0xaacc,\n            0xaafc,\n            0xac47,\n            0xac4f,\n            0xacb0,\n            0xacd2,\n            0xad59,\n            0xaec9,\n            0xafe0,\n            0xb0ea,\n            0xb16f,\n            0xb2b3,\n            0xb2c4,\n            0xb36f,\n            0xb44c,\n            0xb44e,\n            0xb54c,\n            0xb5a5,\n            0xb5bd,\n            0xb5d0,\n            0xb5d8,\n            0xb671,\n            0xb7ed,\n            0xb867,\n            0xb944,\n            0xbad8,\n            0xbb44,\n            0xbba1,\n            0xbdd1,\n            0xc2c4,\n            0xc3b9,\n            0xc440,\n            0xc45f,\n        ];\n    }\n    name() {\n        return 'Big5';\n    }\n    language() {\n        return 'zh';\n    }\n    nextChar(iter, det) {\n        iter.index = iter.nextIndex;\n        iter.error = false;\n        const firstByte = (iter.charValue = iter.nextByte(det));\n        if (firstByte < 0)\n            return false;\n        if (firstByte <= 0x7f || firstByte == 0xff)\n            return true;\n        const secondByte = iter.nextByte(det);\n        if (secondByte < 0)\n            return false;\n        iter.charValue = (iter.charValue << 8) | secondByte;\n        if (secondByte < 0x40 || secondByte == 0x7f || secondByte == 0xff)\n            iter.error = true;\n        return true;\n    }\n}\nexports.big5 = big5;\nfunction eucNextChar(iter, det) {\n    iter.index = iter.nextIndex;\n    iter.error = false;\n    let firstByte = 0;\n    let secondByte = 0;\n    let thirdByte = 0;\n    buildChar: {\n        firstByte = iter.charValue = iter.nextByte(det);\n        if (firstByte < 0) {\n            iter.done = true;\n            break buildChar;\n        }\n        if (firstByte <= 0x8d) {\n            break buildChar;\n        }\n        secondByte = iter.nextByte(det);\n        iter.charValue = (iter.charValue << 8) | secondByte;\n        if (firstByte >= 0xa1 && firstByte <= 0xfe) {\n            if (secondByte < 0xa1) {\n                iter.error = true;\n            }\n            break buildChar;\n        }\n        if (firstByte == 0x8e) {\n            if (secondByte < 0xa1) {\n                iter.error = true;\n            }\n            break buildChar;\n        }\n        if (firstByte == 0x8f) {\n            thirdByte = iter.nextByte(det);\n            iter.charValue = (iter.charValue << 8) | thirdByte;\n            if (thirdByte < 0xa1) {\n                iter.error = true;\n            }\n        }\n    }\n    return iter.done == false;\n}\nclass euc_jp extends mbcs {\n    constructor() {\n        super(...arguments);\n        this.commonChars = [\n            0xa1a1,\n            0xa1a2,\n            0xa1a3,\n            0xa1a6,\n            0xa1bc,\n            0xa1ca,\n            0xa1cb,\n            0xa1d6,\n            0xa1d7,\n            0xa4a2,\n            0xa4a4,\n            0xa4a6,\n            0xa4a8,\n            0xa4aa,\n            0xa4ab,\n            0xa4ac,\n            0xa4ad,\n            0xa4af,\n            0xa4b1,\n            0xa4b3,\n            0xa4b5,\n            0xa4b7,\n            0xa4b9,\n            0xa4bb,\n            0xa4bd,\n            0xa4bf,\n            0xa4c0,\n            0xa4c1,\n            0xa4c3,\n            0xa4c4,\n            0xa4c6,\n            0xa4c7,\n            0xa4c8,\n            0xa4c9,\n            0xa4ca,\n            0xa4cb,\n            0xa4ce,\n            0xa4cf,\n            0xa4d0,\n            0xa4de,\n            0xa4df,\n            0xa4e1,\n            0xa4e2,\n            0xa4e4,\n            0xa4e8,\n            0xa4e9,\n            0xa4ea,\n            0xa4eb,\n            0xa4ec,\n            0xa4ef,\n            0xa4f2,\n            0xa4f3,\n            0xa5a2,\n            0xa5a3,\n            0xa5a4,\n            0xa5a6,\n            0xa5a7,\n            0xa5aa,\n            0xa5ad,\n            0xa5af,\n            0xa5b0,\n            0xa5b3,\n            0xa5b5,\n            0xa5b7,\n            0xa5b8,\n            0xa5b9,\n            0xa5bf,\n            0xa5c3,\n            0xa5c6,\n            0xa5c7,\n            0xa5c8,\n            0xa5c9,\n            0xa5cb,\n            0xa5d0,\n            0xa5d5,\n            0xa5d6,\n            0xa5d7,\n            0xa5de,\n            0xa5e0,\n            0xa5e1,\n            0xa5e5,\n            0xa5e9,\n            0xa5ea,\n            0xa5eb,\n            0xa5ec,\n            0xa5ed,\n            0xa5f3,\n            0xb8a9,\n            0xb9d4,\n            0xbaee,\n            0xbbc8,\n            0xbef0,\n            0xbfb7,\n            0xc4ea,\n            0xc6fc,\n            0xc7bd,\n            0xcab8,\n            0xcaf3,\n            0xcbdc,\n            0xcdd1,\n        ];\n        this.nextChar = eucNextChar;\n    }\n    name() {\n        return 'EUC-JP';\n    }\n    language() {\n        return 'ja';\n    }\n}\nexports.euc_jp = euc_jp;\nclass euc_kr extends mbcs {\n    constructor() {\n        super(...arguments);\n        this.commonChars = [\n            0xb0a1,\n            0xb0b3,\n            0xb0c5,\n            0xb0cd,\n            0xb0d4,\n            0xb0e6,\n            0xb0ed,\n            0xb0f8,\n            0xb0fa,\n            0xb0fc,\n            0xb1b8,\n            0xb1b9,\n            0xb1c7,\n            0xb1d7,\n            0xb1e2,\n            0xb3aa,\n            0xb3bb,\n            0xb4c2,\n            0xb4cf,\n            0xb4d9,\n            0xb4eb,\n            0xb5a5,\n            0xb5b5,\n            0xb5bf,\n            0xb5c7,\n            0xb5e9,\n            0xb6f3,\n            0xb7af,\n            0xb7c2,\n            0xb7ce,\n            0xb8a6,\n            0xb8ae,\n            0xb8b6,\n            0xb8b8,\n            0xb8bb,\n            0xb8e9,\n            0xb9ab,\n            0xb9ae,\n            0xb9cc,\n            0xb9ce,\n            0xb9fd,\n            0xbab8,\n            0xbace,\n            0xbad0,\n            0xbaf1,\n            0xbbe7,\n            0xbbf3,\n            0xbbfd,\n            0xbcad,\n            0xbcba,\n            0xbcd2,\n            0xbcf6,\n            0xbdba,\n            0xbdc0,\n            0xbdc3,\n            0xbdc5,\n            0xbec6,\n            0xbec8,\n            0xbedf,\n            0xbeee,\n            0xbef8,\n            0xbefa,\n            0xbfa1,\n            0xbfa9,\n            0xbfc0,\n            0xbfe4,\n            0xbfeb,\n            0xbfec,\n            0xbff8,\n            0xc0a7,\n            0xc0af,\n            0xc0b8,\n            0xc0ba,\n            0xc0bb,\n            0xc0bd,\n            0xc0c7,\n            0xc0cc,\n            0xc0ce,\n            0xc0cf,\n            0xc0d6,\n            0xc0da,\n            0xc0e5,\n            0xc0fb,\n            0xc0fc,\n            0xc1a4,\n            0xc1a6,\n            0xc1b6,\n            0xc1d6,\n            0xc1df,\n            0xc1f6,\n            0xc1f8,\n            0xc4a1,\n            0xc5cd,\n            0xc6ae,\n            0xc7cf,\n            0xc7d1,\n            0xc7d2,\n            0xc7d8,\n            0xc7e5,\n            0xc8ad,\n        ];\n        this.nextChar = eucNextChar;\n    }\n    name() {\n        return 'EUC-KR';\n    }\n    language() {\n        return 'ko';\n    }\n}\nexports.euc_kr = euc_kr;\nclass gb_18030 extends mbcs {\n    constructor() {\n        super(...arguments);\n        this.commonChars = [\n            0xa1a1,\n            0xa1a2,\n            0xa1a3,\n            0xa1a4,\n            0xa1b0,\n            0xa1b1,\n            0xa1f1,\n            0xa1f3,\n            0xa3a1,\n            0xa3ac,\n            0xa3ba,\n            0xb1a8,\n            0xb1b8,\n            0xb1be,\n            0xb2bb,\n            0xb3c9,\n            0xb3f6,\n            0xb4f3,\n            0xb5bd,\n            0xb5c4,\n            0xb5e3,\n            0xb6af,\n            0xb6d4,\n            0xb6e0,\n            0xb7a2,\n            0xb7a8,\n            0xb7bd,\n            0xb7d6,\n            0xb7dd,\n            0xb8b4,\n            0xb8df,\n            0xb8f6,\n            0xb9ab,\n            0xb9c9,\n            0xb9d8,\n            0xb9fa,\n            0xb9fd,\n            0xbacd,\n            0xbba7,\n            0xbbd6,\n            0xbbe1,\n            0xbbfa,\n            0xbcbc,\n            0xbcdb,\n            0xbcfe,\n            0xbdcc,\n            0xbecd,\n            0xbedd,\n            0xbfb4,\n            0xbfc6,\n            0xbfc9,\n            0xc0b4,\n            0xc0ed,\n            0xc1cb,\n            0xc2db,\n            0xc3c7,\n            0xc4dc,\n            0xc4ea,\n            0xc5cc,\n            0xc6f7,\n            0xc7f8,\n            0xc8ab,\n            0xc8cb,\n            0xc8d5,\n            0xc8e7,\n            0xc9cf,\n            0xc9fa,\n            0xcab1,\n            0xcab5,\n            0xcac7,\n            0xcad0,\n            0xcad6,\n            0xcaf5,\n            0xcafd,\n            0xccec,\n            0xcdf8,\n            0xceaa,\n            0xcec4,\n            0xced2,\n            0xcee5,\n            0xcfb5,\n            0xcfc2,\n            0xcfd6,\n            0xd0c2,\n            0xd0c5,\n            0xd0d0,\n            0xd0d4,\n            0xd1a7,\n            0xd2aa,\n            0xd2b2,\n            0xd2b5,\n            0xd2bb,\n            0xd2d4,\n            0xd3c3,\n            0xd3d0,\n            0xd3fd,\n            0xd4c2,\n            0xd4da,\n            0xd5e2,\n            0xd6d0,\n        ];\n    }\n    name() {\n        return 'GB18030';\n    }\n    language() {\n        return 'zh';\n    }\n    nextChar(iter, det) {\n        iter.index = iter.nextIndex;\n        iter.error = false;\n        let firstByte = 0;\n        let secondByte = 0;\n        let thirdByte = 0;\n        let fourthByte = 0;\n        buildChar: {\n            firstByte = iter.charValue = iter.nextByte(det);\n            if (firstByte < 0) {\n                iter.done = true;\n                break buildChar;\n            }\n            if (firstByte <= 0x80) {\n                break buildChar;\n            }\n            secondByte = iter.nextByte(det);\n            iter.charValue = (iter.charValue << 8) | secondByte;\n            if (firstByte >= 0x81 && firstByte <= 0xfe) {\n                if ((secondByte >= 0x40 && secondByte <= 0x7e) ||\n                    (secondByte >= 80 && secondByte <= 0xfe)) {\n                    break buildChar;\n                }\n                if (secondByte >= 0x30 && secondByte <= 0x39) {\n                    thirdByte = iter.nextByte(det);\n                    if (thirdByte >= 0x81 && thirdByte <= 0xfe) {\n                        fourthByte = iter.nextByte(det);\n                        if (fourthByte >= 0x30 && fourthByte <= 0x39) {\n                            iter.charValue =\n                                (iter.charValue << 16) | (thirdByte << 8) | fourthByte;\n                            break buildChar;\n                        }\n                    }\n                }\n                iter.error = true;\n                break buildChar;\n            }\n        }\n        return iter.done == false;\n    }\n}\nexports.gb_18030 = gb_18030;\n//# sourceMappingURL=mbcs.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KOI8_R = exports.windows_1256 = exports.windows_1251 = exports.ISO_8859_9 = exports.ISO_8859_8 = exports.ISO_8859_7 = exports.ISO_8859_6 = exports.ISO_8859_5 = exports.ISO_8859_2 = exports.ISO_8859_1 = void 0;\nconst match_1 = __importDefault(require(\"../match\"));\nconst N_GRAM_MASK = 0xffffff;\nclass NGramParser {\n    constructor(theNgramList, theByteMap) {\n        this.byteIndex = 0;\n        this.ngram = 0;\n        this.ngramCount = 0;\n        this.hitCount = 0;\n        this.spaceChar = 0x20;\n        this.ngramList = theNgramList;\n        this.byteMap = theByteMap;\n    }\n    search(table, value) {\n        let index = 0;\n        if (table[index + 32] <= value)\n            index += 32;\n        if (table[index + 16] <= value)\n            index += 16;\n        if (table[index + 8] <= value)\n            index += 8;\n        if (table[index + 4] <= value)\n            index += 4;\n        if (table[index + 2] <= value)\n            index += 2;\n        if (table[index + 1] <= value)\n            index += 1;\n        if (table[index] > value)\n            index -= 1;\n        if (index < 0 || table[index] != value)\n            return -1;\n        return index;\n    }\n    lookup(thisNgram) {\n        this.ngramCount += 1;\n        if (this.search(this.ngramList, thisNgram) >= 0) {\n            this.hitCount += 1;\n        }\n    }\n    addByte(b) {\n        this.ngram = ((this.ngram << 8) + (b & 0xff)) & N_GRAM_MASK;\n        this.lookup(this.ngram);\n    }\n    nextByte(det) {\n        if (this.byteIndex >= det.fInputLen)\n            return -1;\n        return det.fInputBytes[this.byteIndex++] & 0xff;\n    }\n    parse(det, spaceCh) {\n        let b, ignoreSpace = false;\n        this.spaceChar = spaceCh;\n        while ((b = this.nextByte(det)) >= 0) {\n            const mb = this.byteMap[b];\n            if (mb != 0) {\n                if (!(mb == this.spaceChar && ignoreSpace)) {\n                    this.addByte(mb);\n                }\n                ignoreSpace = mb == this.spaceChar;\n            }\n        }\n        this.addByte(this.spaceChar);\n        const rawPercent = this.hitCount / this.ngramCount;\n        if (rawPercent > 0.33)\n            return 98;\n        return Math.floor(rawPercent * 300.0);\n    }\n}\nclass NGramsPlusLang {\n    constructor(la, ng) {\n        this.fLang = la;\n        this.fNGrams = ng;\n    }\n}\nconst isFlatNgrams = (val) => Array.isArray(val) && isFinite(val[0]);\nclass sbcs {\n    constructor() {\n        this.spaceChar = 0x20;\n    }\n    ngrams() {\n        return [];\n    }\n    byteMap() {\n        return [];\n    }\n    name(input) {\n        return 'sbcs';\n    }\n    match(det) {\n        const ngrams = this.ngrams();\n        if (isFlatNgrams(ngrams)) {\n            const parser = new NGramParser(ngrams, this.byteMap());\n            const confidence = parser.parse(det, this.spaceChar);\n            return confidence <= 0 ? null : match_1.default(det, this, confidence);\n        }\n        let bestConfidenceSoFar = -1;\n        let lang;\n        for (let i = ngrams.length - 1; i >= 0; i--) {\n            const ngl = ngrams[i];\n            const parser = new NGramParser(ngl.fNGrams, this.byteMap());\n            const confidence = parser.parse(det, this.spaceChar);\n            if (confidence > bestConfidenceSoFar) {\n                bestConfidenceSoFar = confidence;\n                lang = ngl.fLang;\n            }\n        }\n        const name = this.name(det);\n        return bestConfidenceSoFar <= 0\n            ? null\n            : match_1.default(det, this, bestConfidenceSoFar, name, lang);\n    }\n}\nclass ISO_8859_1 extends sbcs {\n    byteMap() {\n        return [\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x00,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xaa,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xb5,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xba,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0xf0,\n            0xf1,\n            0xf2,\n            0xf3,\n            0xf4,\n            0xf5,\n            0xf6,\n            0x20,\n            0xf8,\n            0xf9,\n            0xfa,\n            0xfb,\n            0xfc,\n            0xfd,\n            0xfe,\n            0xdf,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0xf0,\n            0xf1,\n            0xf2,\n            0xf3,\n            0xf4,\n            0xf5,\n            0xf6,\n            0x20,\n            0xf8,\n            0xf9,\n            0xfa,\n            0xfb,\n            0xfc,\n            0xfd,\n            0xfe,\n            0xff,\n        ];\n    }\n    ngrams() {\n        return [\n            new NGramsPlusLang('da', [\n                0x206166,\n                0x206174,\n                0x206465,\n                0x20656e,\n                0x206572,\n                0x20666f,\n                0x206861,\n                0x206920,\n                0x206d65,\n                0x206f67,\n                0x2070e5,\n                0x207369,\n                0x207374,\n                0x207469,\n                0x207669,\n                0x616620,\n                0x616e20,\n                0x616e64,\n                0x617220,\n                0x617420,\n                0x646520,\n                0x64656e,\n                0x646572,\n                0x646574,\n                0x652073,\n                0x656420,\n                0x656465,\n                0x656e20,\n                0x656e64,\n                0x657220,\n                0x657265,\n                0x657320,\n                0x657420,\n                0x666f72,\n                0x676520,\n                0x67656e,\n                0x676572,\n                0x696765,\n                0x696c20,\n                0x696e67,\n                0x6b6520,\n                0x6b6b65,\n                0x6c6572,\n                0x6c6967,\n                0x6c6c65,\n                0x6d6564,\n                0x6e6465,\n                0x6e6520,\n                0x6e6720,\n                0x6e6765,\n                0x6f6720,\n                0x6f6d20,\n                0x6f7220,\n                0x70e520,\n                0x722064,\n                0x722065,\n                0x722073,\n                0x726520,\n                0x737465,\n                0x742073,\n                0x746520,\n                0x746572,\n                0x74696c,\n                0x766572,\n            ]),\n            new NGramsPlusLang('de', [\n                0x20616e,\n                0x206175,\n                0x206265,\n                0x206461,\n                0x206465,\n                0x206469,\n                0x206569,\n                0x206765,\n                0x206861,\n                0x20696e,\n                0x206d69,\n                0x207363,\n                0x207365,\n                0x20756e,\n                0x207665,\n                0x20766f,\n                0x207765,\n                0x207a75,\n                0x626572,\n                0x636820,\n                0x636865,\n                0x636874,\n                0x646173,\n                0x64656e,\n                0x646572,\n                0x646965,\n                0x652064,\n                0x652073,\n                0x65696e,\n                0x656974,\n                0x656e20,\n                0x657220,\n                0x657320,\n                0x67656e,\n                0x68656e,\n                0x687420,\n                0x696368,\n                0x696520,\n                0x696e20,\n                0x696e65,\n                0x697420,\n                0x6c6963,\n                0x6c6c65,\n                0x6e2061,\n                0x6e2064,\n                0x6e2073,\n                0x6e6420,\n                0x6e6465,\n                0x6e6520,\n                0x6e6720,\n                0x6e6765,\n                0x6e7465,\n                0x722064,\n                0x726465,\n                0x726569,\n                0x736368,\n                0x737465,\n                0x742064,\n                0x746520,\n                0x74656e,\n                0x746572,\n                0x756e64,\n                0x756e67,\n                0x766572,\n            ]),\n            new NGramsPlusLang('en', [\n                0x206120,\n                0x20616e,\n                0x206265,\n                0x20636f,\n                0x20666f,\n                0x206861,\n                0x206865,\n                0x20696e,\n                0x206d61,\n                0x206f66,\n                0x207072,\n                0x207265,\n                0x207361,\n                0x207374,\n                0x207468,\n                0x20746f,\n                0x207768,\n                0x616964,\n                0x616c20,\n                0x616e20,\n                0x616e64,\n                0x617320,\n                0x617420,\n                0x617465,\n                0x617469,\n                0x642061,\n                0x642074,\n                0x652061,\n                0x652073,\n                0x652074,\n                0x656420,\n                0x656e74,\n                0x657220,\n                0x657320,\n                0x666f72,\n                0x686174,\n                0x686520,\n                0x686572,\n                0x696420,\n                0x696e20,\n                0x696e67,\n                0x696f6e,\n                0x697320,\n                0x6e2061,\n                0x6e2074,\n                0x6e6420,\n                0x6e6720,\n                0x6e7420,\n                0x6f6620,\n                0x6f6e20,\n                0x6f7220,\n                0x726520,\n                0x727320,\n                0x732061,\n                0x732074,\n                0x736169,\n                0x737420,\n                0x742074,\n                0x746572,\n                0x746861,\n                0x746865,\n                0x74696f,\n                0x746f20,\n                0x747320,\n            ]),\n            new NGramsPlusLang('es', [\n                0x206120,\n                0x206361,\n                0x20636f,\n                0x206465,\n                0x20656c,\n                0x20656e,\n                0x206573,\n                0x20696e,\n                0x206c61,\n                0x206c6f,\n                0x207061,\n                0x20706f,\n                0x207072,\n                0x207175,\n                0x207265,\n                0x207365,\n                0x20756e,\n                0x207920,\n                0x612063,\n                0x612064,\n                0x612065,\n                0x61206c,\n                0x612070,\n                0x616369,\n                0x61646f,\n                0x616c20,\n                0x617220,\n                0x617320,\n                0x6369f3,\n                0x636f6e,\n                0x646520,\n                0x64656c,\n                0x646f20,\n                0x652064,\n                0x652065,\n                0x65206c,\n                0x656c20,\n                0x656e20,\n                0x656e74,\n                0x657320,\n                0x657374,\n                0x69656e,\n                0x69f36e,\n                0x6c6120,\n                0x6c6f73,\n                0x6e2065,\n                0x6e7465,\n                0x6f2064,\n                0x6f2065,\n                0x6f6e20,\n                0x6f7220,\n                0x6f7320,\n                0x706172,\n                0x717565,\n                0x726120,\n                0x726573,\n                0x732064,\n                0x732065,\n                0x732070,\n                0x736520,\n                0x746520,\n                0x746f20,\n                0x756520,\n                0xf36e20,\n            ]),\n            new NGramsPlusLang('fr', [\n                0x206175,\n                0x20636f,\n                0x206461,\n                0x206465,\n                0x206475,\n                0x20656e,\n                0x206574,\n                0x206c61,\n                0x206c65,\n                0x207061,\n                0x20706f,\n                0x207072,\n                0x207175,\n                0x207365,\n                0x20736f,\n                0x20756e,\n                0x20e020,\n                0x616e74,\n                0x617469,\n                0x636520,\n                0x636f6e,\n                0x646520,\n                0x646573,\n                0x647520,\n                0x652061,\n                0x652063,\n                0x652064,\n                0x652065,\n                0x65206c,\n                0x652070,\n                0x652073,\n                0x656e20,\n                0x656e74,\n                0x657220,\n                0x657320,\n                0x657420,\n                0x657572,\n                0x696f6e,\n                0x697320,\n                0x697420,\n                0x6c6120,\n                0x6c6520,\n                0x6c6573,\n                0x6d656e,\n                0x6e2064,\n                0x6e6520,\n                0x6e7320,\n                0x6e7420,\n                0x6f6e20,\n                0x6f6e74,\n                0x6f7572,\n                0x717565,\n                0x72206c,\n                0x726520,\n                0x732061,\n                0x732064,\n                0x732065,\n                0x73206c,\n                0x732070,\n                0x742064,\n                0x746520,\n                0x74696f,\n                0x756520,\n                0x757220,\n            ]),\n            new NGramsPlusLang('it', [\n                0x20616c,\n                0x206368,\n                0x20636f,\n                0x206465,\n                0x206469,\n                0x206520,\n                0x20696c,\n                0x20696e,\n                0x206c61,\n                0x207065,\n                0x207072,\n                0x20756e,\n                0x612063,\n                0x612064,\n                0x612070,\n                0x612073,\n                0x61746f,\n                0x636865,\n                0x636f6e,\n                0x64656c,\n                0x646920,\n                0x652061,\n                0x652063,\n                0x652064,\n                0x652069,\n                0x65206c,\n                0x652070,\n                0x652073,\n                0x656c20,\n                0x656c6c,\n                0x656e74,\n                0x657220,\n                0x686520,\n                0x692061,\n                0x692063,\n                0x692064,\n                0x692073,\n                0x696120,\n                0x696c20,\n                0x696e20,\n                0x696f6e,\n                0x6c6120,\n                0x6c6520,\n                0x6c6920,\n                0x6c6c61,\n                0x6e6520,\n                0x6e6920,\n                0x6e6f20,\n                0x6e7465,\n                0x6f2061,\n                0x6f2064,\n                0x6f2069,\n                0x6f2073,\n                0x6f6e20,\n                0x6f6e65,\n                0x706572,\n                0x726120,\n                0x726520,\n                0x736920,\n                0x746120,\n                0x746520,\n                0x746920,\n                0x746f20,\n                0x7a696f,\n            ]),\n            new NGramsPlusLang('nl', [\n                0x20616c,\n                0x206265,\n                0x206461,\n                0x206465,\n                0x206469,\n                0x206565,\n                0x20656e,\n                0x206765,\n                0x206865,\n                0x20696e,\n                0x206d61,\n                0x206d65,\n                0x206f70,\n                0x207465,\n                0x207661,\n                0x207665,\n                0x20766f,\n                0x207765,\n                0x207a69,\n                0x61616e,\n                0x616172,\n                0x616e20,\n                0x616e64,\n                0x617220,\n                0x617420,\n                0x636874,\n                0x646520,\n                0x64656e,\n                0x646572,\n                0x652062,\n                0x652076,\n                0x65656e,\n                0x656572,\n                0x656e20,\n                0x657220,\n                0x657273,\n                0x657420,\n                0x67656e,\n                0x686574,\n                0x696520,\n                0x696e20,\n                0x696e67,\n                0x697320,\n                0x6e2062,\n                0x6e2064,\n                0x6e2065,\n                0x6e2068,\n                0x6e206f,\n                0x6e2076,\n                0x6e6465,\n                0x6e6720,\n                0x6f6e64,\n                0x6f6f72,\n                0x6f7020,\n                0x6f7220,\n                0x736368,\n                0x737465,\n                0x742064,\n                0x746520,\n                0x74656e,\n                0x746572,\n                0x76616e,\n                0x766572,\n                0x766f6f,\n            ]),\n            new NGramsPlusLang('no', [\n                0x206174,\n                0x206176,\n                0x206465,\n                0x20656e,\n                0x206572,\n                0x20666f,\n                0x206861,\n                0x206920,\n                0x206d65,\n                0x206f67,\n                0x2070e5,\n                0x207365,\n                0x20736b,\n                0x20736f,\n                0x207374,\n                0x207469,\n                0x207669,\n                0x20e520,\n                0x616e64,\n                0x617220,\n                0x617420,\n                0x646520,\n                0x64656e,\n                0x646574,\n                0x652073,\n                0x656420,\n                0x656e20,\n                0x656e65,\n                0x657220,\n                0x657265,\n                0x657420,\n                0x657474,\n                0x666f72,\n                0x67656e,\n                0x696b6b,\n                0x696c20,\n                0x696e67,\n                0x6b6520,\n                0x6b6b65,\n                0x6c6520,\n                0x6c6c65,\n                0x6d6564,\n                0x6d656e,\n                0x6e2073,\n                0x6e6520,\n                0x6e6720,\n                0x6e6765,\n                0x6e6e65,\n                0x6f6720,\n                0x6f6d20,\n                0x6f7220,\n                0x70e520,\n                0x722073,\n                0x726520,\n                0x736f6d,\n                0x737465,\n                0x742073,\n                0x746520,\n                0x74656e,\n                0x746572,\n                0x74696c,\n                0x747420,\n                0x747465,\n                0x766572,\n            ]),\n            new NGramsPlusLang('pt', [\n                0x206120,\n                0x20636f,\n                0x206461,\n                0x206465,\n                0x20646f,\n                0x206520,\n                0x206573,\n                0x206d61,\n                0x206e6f,\n                0x206f20,\n                0x207061,\n                0x20706f,\n                0x207072,\n                0x207175,\n                0x207265,\n                0x207365,\n                0x20756d,\n                0x612061,\n                0x612063,\n                0x612064,\n                0x612070,\n                0x616465,\n                0x61646f,\n                0x616c20,\n                0x617220,\n                0x617261,\n                0x617320,\n                0x636f6d,\n                0x636f6e,\n                0x646120,\n                0x646520,\n                0x646f20,\n                0x646f73,\n                0x652061,\n                0x652064,\n                0x656d20,\n                0x656e74,\n                0x657320,\n                0x657374,\n                0x696120,\n                0x696361,\n                0x6d656e,\n                0x6e7465,\n                0x6e746f,\n                0x6f2061,\n                0x6f2063,\n                0x6f2064,\n                0x6f2065,\n                0x6f2070,\n                0x6f7320,\n                0x706172,\n                0x717565,\n                0x726120,\n                0x726573,\n                0x732061,\n                0x732064,\n                0x732065,\n                0x732070,\n                0x737461,\n                0x746520,\n                0x746f20,\n                0x756520,\n                0xe36f20,\n                0xe7e36f,\n            ]),\n            new NGramsPlusLang('sv', [\n                0x206174,\n                0x206176,\n                0x206465,\n                0x20656e,\n                0x2066f6,\n                0x206861,\n                0x206920,\n                0x20696e,\n                0x206b6f,\n                0x206d65,\n                0x206f63,\n                0x2070e5,\n                0x20736b,\n                0x20736f,\n                0x207374,\n                0x207469,\n                0x207661,\n                0x207669,\n                0x20e472,\n                0x616465,\n                0x616e20,\n                0x616e64,\n                0x617220,\n                0x617474,\n                0x636820,\n                0x646520,\n                0x64656e,\n                0x646572,\n                0x646574,\n                0x656420,\n                0x656e20,\n                0x657220,\n                0x657420,\n                0x66f672,\n                0x67656e,\n                0x696c6c,\n                0x696e67,\n                0x6b6120,\n                0x6c6c20,\n                0x6d6564,\n                0x6e2073,\n                0x6e6120,\n                0x6e6465,\n                0x6e6720,\n                0x6e6765,\n                0x6e696e,\n                0x6f6368,\n                0x6f6d20,\n                0x6f6e20,\n                0x70e520,\n                0x722061,\n                0x722073,\n                0x726120,\n                0x736b61,\n                0x736f6d,\n                0x742073,\n                0x746120,\n                0x746520,\n                0x746572,\n                0x74696c,\n                0x747420,\n                0x766172,\n                0xe47220,\n                0xf67220,\n            ]),\n        ];\n    }\n    name(input) {\n        return input && input.fC1Bytes ? 'windows-1252' : 'ISO-8859-1';\n    }\n}\nexports.ISO_8859_1 = ISO_8859_1;\nclass ISO_8859_2 extends sbcs {\n    byteMap() {\n        return [\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x00,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xb1,\n            0x20,\n            0xb3,\n            0x20,\n            0xb5,\n            0xb6,\n            0x20,\n            0x20,\n            0xb9,\n            0xba,\n            0xbb,\n            0xbc,\n            0x20,\n            0xbe,\n            0xbf,\n            0x20,\n            0xb1,\n            0x20,\n            0xb3,\n            0x20,\n            0xb5,\n            0xb6,\n            0xb7,\n            0x20,\n            0xb9,\n            0xba,\n            0xbb,\n            0xbc,\n            0x20,\n            0xbe,\n            0xbf,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0xf0,\n            0xf1,\n            0xf2,\n            0xf3,\n            0xf4,\n            0xf5,\n            0xf6,\n            0x20,\n            0xf8,\n            0xf9,\n            0xfa,\n            0xfb,\n            0xfc,\n            0xfd,\n            0xfe,\n            0xdf,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0xf0,\n            0xf1,\n            0xf2,\n            0xf3,\n            0xf4,\n            0xf5,\n            0xf6,\n            0x20,\n            0xf8,\n            0xf9,\n            0xfa,\n            0xfb,\n            0xfc,\n            0xfd,\n            0xfe,\n            0x20,\n        ];\n    }\n    ngrams() {\n        return [\n            new NGramsPlusLang('cs', [\n                0x206120,\n                0x206279,\n                0x20646f,\n                0x206a65,\n                0x206e61,\n                0x206e65,\n                0x206f20,\n                0x206f64,\n                0x20706f,\n                0x207072,\n                0x2070f8,\n                0x20726f,\n                0x207365,\n                0x20736f,\n                0x207374,\n                0x20746f,\n                0x207620,\n                0x207679,\n                0x207a61,\n                0x612070,\n                0x636520,\n                0x636820,\n                0x652070,\n                0x652073,\n                0x652076,\n                0x656d20,\n                0x656eed,\n                0x686f20,\n                0x686f64,\n                0x697374,\n                0x6a6520,\n                0x6b7465,\n                0x6c6520,\n                0x6c6920,\n                0x6e6120,\n                0x6ee920,\n                0x6eec20,\n                0x6eed20,\n                0x6f2070,\n                0x6f646e,\n                0x6f6a69,\n                0x6f7374,\n                0x6f7520,\n                0x6f7661,\n                0x706f64,\n                0x706f6a,\n                0x70726f,\n                0x70f865,\n                0x736520,\n                0x736f75,\n                0x737461,\n                0x737469,\n                0x73746e,\n                0x746572,\n                0x746eed,\n                0x746f20,\n                0x752070,\n                0xbe6520,\n                0xe16eed,\n                0xe9686f,\n                0xed2070,\n                0xed2073,\n                0xed6d20,\n                0xf86564,\n            ]),\n            new NGramsPlusLang('hu', [\n                0x206120,\n                0x20617a,\n                0x206265,\n                0x206567,\n                0x20656c,\n                0x206665,\n                0x206861,\n                0x20686f,\n                0x206973,\n                0x206b65,\n                0x206b69,\n                0x206bf6,\n                0x206c65,\n                0x206d61,\n                0x206d65,\n                0x206d69,\n                0x206e65,\n                0x20737a,\n                0x207465,\n                0x20e973,\n                0x612061,\n                0x61206b,\n                0x61206d,\n                0x612073,\n                0x616b20,\n                0x616e20,\n                0x617a20,\n                0x62616e,\n                0x62656e,\n                0x656779,\n                0x656b20,\n                0x656c20,\n                0x656c65,\n                0x656d20,\n                0x656e20,\n                0x657265,\n                0x657420,\n                0x657465,\n                0x657474,\n                0x677920,\n                0x686f67,\n                0x696e74,\n                0x697320,\n                0x6b2061,\n                0x6bf67a,\n                0x6d6567,\n                0x6d696e,\n                0x6e2061,\n                0x6e616b,\n                0x6e656b,\n                0x6e656d,\n                0x6e7420,\n                0x6f6779,\n                0x732061,\n                0x737a65,\n                0x737a74,\n                0x737ae1,\n                0x73e967,\n                0x742061,\n                0x747420,\n                0x74e173,\n                0x7a6572,\n                0xe16e20,\n                0xe97320,\n            ]),\n            new NGramsPlusLang('pl', [\n                0x20637a,\n                0x20646f,\n                0x206920,\n                0x206a65,\n                0x206b6f,\n                0x206d61,\n                0x206d69,\n                0x206e61,\n                0x206e69,\n                0x206f64,\n                0x20706f,\n                0x207072,\n                0x207369,\n                0x207720,\n                0x207769,\n                0x207779,\n                0x207a20,\n                0x207a61,\n                0x612070,\n                0x612077,\n                0x616e69,\n                0x636820,\n                0x637a65,\n                0x637a79,\n                0x646f20,\n                0x647a69,\n                0x652070,\n                0x652073,\n                0x652077,\n                0x65207a,\n                0x65676f,\n                0x656a20,\n                0x656d20,\n                0x656e69,\n                0x676f20,\n                0x696120,\n                0x696520,\n                0x69656a,\n                0x6b6120,\n                0x6b6920,\n                0x6b6965,\n                0x6d6965,\n                0x6e6120,\n                0x6e6961,\n                0x6e6965,\n                0x6f2070,\n                0x6f7761,\n                0x6f7769,\n                0x706f6c,\n                0x707261,\n                0x70726f,\n                0x70727a,\n                0x727a65,\n                0x727a79,\n                0x7369ea,\n                0x736b69,\n                0x737461,\n                0x776965,\n                0x796368,\n                0x796d20,\n                0x7a6520,\n                0x7a6965,\n                0x7a7920,\n                0xf37720,\n            ]),\n            new NGramsPlusLang('ro', [\n                0x206120,\n                0x206163,\n                0x206361,\n                0x206365,\n                0x20636f,\n                0x206375,\n                0x206465,\n                0x206469,\n                0x206c61,\n                0x206d61,\n                0x207065,\n                0x207072,\n                0x207365,\n                0x2073e3,\n                0x20756e,\n                0x20ba69,\n                0x20ee6e,\n                0x612063,\n                0x612064,\n                0x617265,\n                0x617420,\n                0x617465,\n                0x617520,\n                0x636172,\n                0x636f6e,\n                0x637520,\n                0x63e320,\n                0x646520,\n                0x652061,\n                0x652063,\n                0x652064,\n                0x652070,\n                0x652073,\n                0x656120,\n                0x656920,\n                0x656c65,\n                0x656e74,\n                0x657374,\n                0x692061,\n                0x692063,\n                0x692064,\n                0x692070,\n                0x696520,\n                0x696920,\n                0x696e20,\n                0x6c6120,\n                0x6c6520,\n                0x6c6f72,\n                0x6c7569,\n                0x6e6520,\n                0x6e7472,\n                0x6f7220,\n                0x70656e,\n                0x726520,\n                0x726561,\n                0x727520,\n                0x73e320,\n                0x746520,\n                0x747275,\n                0x74e320,\n                0x756920,\n                0x756c20,\n                0xba6920,\n                0xee6e20,\n            ]),\n        ];\n    }\n    name(det) {\n        return det && det.fC1Bytes ? 'windows-1250' : 'ISO-8859-2';\n    }\n}\nexports.ISO_8859_2 = ISO_8859_2;\nclass ISO_8859_5 extends sbcs {\n    byteMap() {\n        return [\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x00,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xf1,\n            0xf2,\n            0xf3,\n            0xf4,\n            0xf5,\n            0xf6,\n            0xf7,\n            0xf8,\n            0xf9,\n            0xfa,\n            0xfb,\n            0xfc,\n            0x20,\n            0xfe,\n            0xff,\n            0xd0,\n            0xd1,\n            0xd2,\n            0xd3,\n            0xd4,\n            0xd5,\n            0xd6,\n            0xd7,\n            0xd8,\n            0xd9,\n            0xda,\n            0xdb,\n            0xdc,\n            0xdd,\n            0xde,\n            0xdf,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0xd0,\n            0xd1,\n            0xd2,\n            0xd3,\n            0xd4,\n            0xd5,\n            0xd6,\n            0xd7,\n            0xd8,\n            0xd9,\n            0xda,\n            0xdb,\n            0xdc,\n            0xdd,\n            0xde,\n            0xdf,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0x20,\n            0xf1,\n            0xf2,\n            0xf3,\n            0xf4,\n            0xf5,\n            0xf6,\n            0xf7,\n            0xf8,\n            0xf9,\n            0xfa,\n            0xfb,\n            0xfc,\n            0x20,\n            0xfe,\n            0xff,\n        ];\n    }\n    ngrams() {\n        return [\n            0x20d220,\n            0x20d2de,\n            0x20d4de,\n            0x20d7d0,\n            0x20d820,\n            0x20dad0,\n            0x20dade,\n            0x20ddd0,\n            0x20ddd5,\n            0x20ded1,\n            0x20dfde,\n            0x20dfe0,\n            0x20e0d0,\n            0x20e1de,\n            0x20e1e2,\n            0x20e2de,\n            0x20e7e2,\n            0x20ede2,\n            0xd0ddd8,\n            0xd0e2ec,\n            0xd3de20,\n            0xd5dbec,\n            0xd5ddd8,\n            0xd5e1e2,\n            0xd5e220,\n            0xd820df,\n            0xd8d520,\n            0xd8d820,\n            0xd8ef20,\n            0xdbd5dd,\n            0xdbd820,\n            0xdbecdd,\n            0xddd020,\n            0xddd520,\n            0xddd8d5,\n            0xddd8ef,\n            0xddde20,\n            0xddded2,\n            0xde20d2,\n            0xde20df,\n            0xde20e1,\n            0xded220,\n            0xded2d0,\n            0xded3de,\n            0xded920,\n            0xdedbec,\n            0xdedc20,\n            0xdee1e2,\n            0xdfdedb,\n            0xdfe0d5,\n            0xdfe0d8,\n            0xdfe0de,\n            0xe0d0d2,\n            0xe0d5d4,\n            0xe1e2d0,\n            0xe1e2d2,\n            0xe1e2d8,\n            0xe1ef20,\n            0xe2d5db,\n            0xe2de20,\n            0xe2dee0,\n            0xe2ec20,\n            0xe7e2de,\n            0xebe520,\n        ];\n    }\n    name() {\n        return 'ISO-8859-5';\n    }\n    language() {\n        return 'ru';\n    }\n}\nexports.ISO_8859_5 = ISO_8859_5;\nclass ISO_8859_6 extends sbcs {\n    byteMap() {\n        return [\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x00,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xc1,\n            0xc2,\n            0xc3,\n            0xc4,\n            0xc5,\n            0xc6,\n            0xc7,\n            0xc8,\n            0xc9,\n            0xca,\n            0xcb,\n            0xcc,\n            0xcd,\n            0xce,\n            0xcf,\n            0xd0,\n            0xd1,\n            0xd2,\n            0xd3,\n            0xd4,\n            0xd5,\n            0xd6,\n            0xd7,\n            0xd8,\n            0xd9,\n            0xda,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n        ];\n    }\n    ngrams() {\n        return [\n            0x20c7e4,\n            0x20c7e6,\n            0x20c8c7,\n            0x20d9e4,\n            0x20e1ea,\n            0x20e4e4,\n            0x20e5e6,\n            0x20e8c7,\n            0xc720c7,\n            0xc7c120,\n            0xc7ca20,\n            0xc7d120,\n            0xc7e420,\n            0xc7e4c3,\n            0xc7e4c7,\n            0xc7e4c8,\n            0xc7e4ca,\n            0xc7e4cc,\n            0xc7e4cd,\n            0xc7e4cf,\n            0xc7e4d3,\n            0xc7e4d9,\n            0xc7e4e2,\n            0xc7e4e5,\n            0xc7e4e8,\n            0xc7e4ea,\n            0xc7e520,\n            0xc7e620,\n            0xc7e6ca,\n            0xc820c7,\n            0xc920c7,\n            0xc920e1,\n            0xc920e4,\n            0xc920e5,\n            0xc920e8,\n            0xca20c7,\n            0xcf20c7,\n            0xcfc920,\n            0xd120c7,\n            0xd1c920,\n            0xd320c7,\n            0xd920c7,\n            0xd9e4e9,\n            0xe1ea20,\n            0xe420c7,\n            0xe4c920,\n            0xe4e920,\n            0xe4ea20,\n            0xe520c7,\n            0xe5c720,\n            0xe5c920,\n            0xe5e620,\n            0xe620c7,\n            0xe720c7,\n            0xe7c720,\n            0xe8c7e4,\n            0xe8e620,\n            0xe920c7,\n            0xea20c7,\n            0xea20e5,\n            0xea20e8,\n            0xeac920,\n            0xead120,\n            0xeae620,\n        ];\n    }\n    name() {\n        return 'ISO-8859-6';\n    }\n    language() {\n        return 'ar';\n    }\n}\nexports.ISO_8859_6 = ISO_8859_6;\nclass ISO_8859_7 extends sbcs {\n    byteMap() {\n        return [\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x00,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xa1,\n            0xa2,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xdc,\n            0x20,\n            0xdd,\n            0xde,\n            0xdf,\n            0x20,\n            0xfc,\n            0x20,\n            0xfd,\n            0xfe,\n            0xc0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0xf0,\n            0xf1,\n            0x20,\n            0xf3,\n            0xf4,\n            0xf5,\n            0xf6,\n            0xf7,\n            0xf8,\n            0xf9,\n            0xfa,\n            0xfb,\n            0xdc,\n            0xdd,\n            0xde,\n            0xdf,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0xf0,\n            0xf1,\n            0xf2,\n            0xf3,\n            0xf4,\n            0xf5,\n            0xf6,\n            0xf7,\n            0xf8,\n            0xf9,\n            0xfa,\n            0xfb,\n            0xfc,\n            0xfd,\n            0xfe,\n            0x20,\n        ];\n    }\n    ngrams() {\n        return [\n            0x20e1ed,\n            0x20e1f0,\n            0x20e3e9,\n            0x20e4e9,\n            0x20e5f0,\n            0x20e720,\n            0x20eae1,\n            0x20ece5,\n            0x20ede1,\n            0x20ef20,\n            0x20f0e1,\n            0x20f0ef,\n            0x20f0f1,\n            0x20f3f4,\n            0x20f3f5,\n            0x20f4e7,\n            0x20f4ef,\n            0xdfe120,\n            0xe120e1,\n            0xe120f4,\n            0xe1e920,\n            0xe1ed20,\n            0xe1f0fc,\n            0xe1f220,\n            0xe3e9e1,\n            0xe5e920,\n            0xe5f220,\n            0xe720f4,\n            0xe7ed20,\n            0xe7f220,\n            0xe920f4,\n            0xe9e120,\n            0xe9eade,\n            0xe9f220,\n            0xeae1e9,\n            0xeae1f4,\n            0xece520,\n            0xed20e1,\n            0xed20e5,\n            0xed20f0,\n            0xede120,\n            0xeff220,\n            0xeff520,\n            0xf0eff5,\n            0xf0f1ef,\n            0xf0fc20,\n            0xf220e1,\n            0xf220e5,\n            0xf220ea,\n            0xf220f0,\n            0xf220f4,\n            0xf3e520,\n            0xf3e720,\n            0xf3f4ef,\n            0xf4e120,\n            0xf4e1e9,\n            0xf4e7ed,\n            0xf4e7f2,\n            0xf4e9ea,\n            0xf4ef20,\n            0xf4eff5,\n            0xf4f9ed,\n            0xf9ed20,\n            0xfeed20,\n        ];\n    }\n    name(det) {\n        return det && det.fC1Bytes ? 'windows-1253' : 'ISO-8859-7';\n    }\n    language() {\n        return 'el';\n    }\n}\nexports.ISO_8859_7 = ISO_8859_7;\nclass ISO_8859_8 extends sbcs {\n    byteMap() {\n        return [\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x00,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xb5,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0xf0,\n            0xf1,\n            0xf2,\n            0xf3,\n            0xf4,\n            0xf5,\n            0xf6,\n            0xf7,\n            0xf8,\n            0xf9,\n            0xfa,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n        ];\n    }\n    ngrams() {\n        return [\n            new NGramsPlusLang('he', [\n                0x20e0e5,\n                0x20e0e7,\n                0x20e0e9,\n                0x20e0fa,\n                0x20e1e9,\n                0x20e1ee,\n                0x20e4e0,\n                0x20e4e5,\n                0x20e4e9,\n                0x20e4ee,\n                0x20e4f2,\n                0x20e4f9,\n                0x20e4fa,\n                0x20ece0,\n                0x20ece4,\n                0x20eee0,\n                0x20f2ec,\n                0x20f9ec,\n                0xe0fa20,\n                0xe420e0,\n                0xe420e1,\n                0xe420e4,\n                0xe420ec,\n                0xe420ee,\n                0xe420f9,\n                0xe4e5e0,\n                0xe5e020,\n                0xe5ed20,\n                0xe5ef20,\n                0xe5f820,\n                0xe5fa20,\n                0xe920e4,\n                0xe9e420,\n                0xe9e5fa,\n                0xe9e9ed,\n                0xe9ed20,\n                0xe9ef20,\n                0xe9f820,\n                0xe9fa20,\n                0xec20e0,\n                0xec20e4,\n                0xece020,\n                0xece420,\n                0xed20e0,\n                0xed20e1,\n                0xed20e4,\n                0xed20ec,\n                0xed20ee,\n                0xed20f9,\n                0xeee420,\n                0xef20e4,\n                0xf0e420,\n                0xf0e920,\n                0xf0e9ed,\n                0xf2ec20,\n                0xf820e4,\n                0xf8e9ed,\n                0xf9ec20,\n                0xfa20e0,\n                0xfa20e1,\n                0xfa20e4,\n                0xfa20ec,\n                0xfa20ee,\n                0xfa20f9,\n            ]),\n            new NGramsPlusLang('he', [\n                0x20e0e5,\n                0x20e0ec,\n                0x20e4e9,\n                0x20e4ec,\n                0x20e4ee,\n                0x20e4f0,\n                0x20e9f0,\n                0x20ecf2,\n                0x20ecf9,\n                0x20ede5,\n                0x20ede9,\n                0x20efe5,\n                0x20efe9,\n                0x20f8e5,\n                0x20f8e9,\n                0x20fae0,\n                0x20fae5,\n                0x20fae9,\n                0xe020e4,\n                0xe020ec,\n                0xe020ed,\n                0xe020fa,\n                0xe0e420,\n                0xe0e5e4,\n                0xe0ec20,\n                0xe0ee20,\n                0xe120e4,\n                0xe120ed,\n                0xe120fa,\n                0xe420e4,\n                0xe420e9,\n                0xe420ec,\n                0xe420ed,\n                0xe420ef,\n                0xe420f8,\n                0xe420fa,\n                0xe4ec20,\n                0xe5e020,\n                0xe5e420,\n                0xe7e020,\n                0xe9e020,\n                0xe9e120,\n                0xe9e420,\n                0xec20e4,\n                0xec20ed,\n                0xec20fa,\n                0xecf220,\n                0xecf920,\n                0xede9e9,\n                0xede9f0,\n                0xede9f8,\n                0xee20e4,\n                0xee20ed,\n                0xee20fa,\n                0xeee120,\n                0xeee420,\n                0xf2e420,\n                0xf920e4,\n                0xf920ed,\n                0xf920fa,\n                0xf9e420,\n                0xfae020,\n                0xfae420,\n                0xfae5e9,\n            ]),\n        ];\n    }\n    name(det) {\n        return det && det.fC1Bytes ? 'windows-1255' : 'ISO-8859-8';\n    }\n    language() {\n        return 'he';\n    }\n}\nexports.ISO_8859_8 = ISO_8859_8;\nclass ISO_8859_9 extends sbcs {\n    byteMap() {\n        return [\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x00,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xaa,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xb5,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xba,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0xf0,\n            0xf1,\n            0xf2,\n            0xf3,\n            0xf4,\n            0xf5,\n            0xf6,\n            0x20,\n            0xf8,\n            0xf9,\n            0xfa,\n            0xfb,\n            0xfc,\n            0x69,\n            0xfe,\n            0xdf,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0xf0,\n            0xf1,\n            0xf2,\n            0xf3,\n            0xf4,\n            0xf5,\n            0xf6,\n            0x20,\n            0xf8,\n            0xf9,\n            0xfa,\n            0xfb,\n            0xfc,\n            0xfd,\n            0xfe,\n            0xff,\n        ];\n    }\n    ngrams() {\n        return [\n            0x206261,\n            0x206269,\n            0x206275,\n            0x206461,\n            0x206465,\n            0x206765,\n            0x206861,\n            0x20696c,\n            0x206b61,\n            0x206b6f,\n            0x206d61,\n            0x206f6c,\n            0x207361,\n            0x207461,\n            0x207665,\n            0x207961,\n            0x612062,\n            0x616b20,\n            0x616c61,\n            0x616d61,\n            0x616e20,\n            0x616efd,\n            0x617220,\n            0x617261,\n            0x6172fd,\n            0x6173fd,\n            0x617961,\n            0x626972,\n            0x646120,\n            0x646520,\n            0x646920,\n            0x652062,\n            0x65206b,\n            0x656469,\n            0x656e20,\n            0x657220,\n            0x657269,\n            0x657369,\n            0x696c65,\n            0x696e20,\n            0x696e69,\n            0x697220,\n            0x6c616e,\n            0x6c6172,\n            0x6c6520,\n            0x6c6572,\n            0x6e2061,\n            0x6e2062,\n            0x6e206b,\n            0x6e6461,\n            0x6e6465,\n            0x6e6520,\n            0x6e6920,\n            0x6e696e,\n            0x6efd20,\n            0x72696e,\n            0x72fd6e,\n            0x766520,\n            0x796120,\n            0x796f72,\n            0xfd6e20,\n            0xfd6e64,\n            0xfd6efd,\n            0xfdf0fd,\n        ];\n    }\n    name(det) {\n        return det && det.fC1Bytes ? 'windows-1254' : 'ISO-8859-9';\n    }\n    language() {\n        return 'tr';\n    }\n}\nexports.ISO_8859_9 = ISO_8859_9;\nclass windows_1251 extends sbcs {\n    byteMap() {\n        return [\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x00,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x90,\n            0x83,\n            0x20,\n            0x83,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x9a,\n            0x20,\n            0x9c,\n            0x9d,\n            0x9e,\n            0x9f,\n            0x90,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x9a,\n            0x20,\n            0x9c,\n            0x9d,\n            0x9e,\n            0x9f,\n            0x20,\n            0xa2,\n            0xa2,\n            0xbc,\n            0x20,\n            0xb4,\n            0x20,\n            0x20,\n            0xb8,\n            0x20,\n            0xba,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xbf,\n            0x20,\n            0x20,\n            0xb3,\n            0xb3,\n            0xb4,\n            0xb5,\n            0x20,\n            0x20,\n            0xb8,\n            0x20,\n            0xba,\n            0x20,\n            0xbc,\n            0xbe,\n            0xbe,\n            0xbf,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0xf0,\n            0xf1,\n            0xf2,\n            0xf3,\n            0xf4,\n            0xf5,\n            0xf6,\n            0xf7,\n            0xf8,\n            0xf9,\n            0xfa,\n            0xfb,\n            0xfc,\n            0xfd,\n            0xfe,\n            0xff,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0xf0,\n            0xf1,\n            0xf2,\n            0xf3,\n            0xf4,\n            0xf5,\n            0xf6,\n            0xf7,\n            0xf8,\n            0xf9,\n            0xfa,\n            0xfb,\n            0xfc,\n            0xfd,\n            0xfe,\n            0xff,\n        ];\n    }\n    ngrams() {\n        return [\n            0x20e220,\n            0x20e2ee,\n            0x20e4ee,\n            0x20e7e0,\n            0x20e820,\n            0x20eae0,\n            0x20eaee,\n            0x20ede0,\n            0x20ede5,\n            0x20eee1,\n            0x20efee,\n            0x20eff0,\n            0x20f0e0,\n            0x20f1ee,\n            0x20f1f2,\n            0x20f2ee,\n            0x20f7f2,\n            0x20fdf2,\n            0xe0ede8,\n            0xe0f2fc,\n            0xe3ee20,\n            0xe5ebfc,\n            0xe5ede8,\n            0xe5f1f2,\n            0xe5f220,\n            0xe820ef,\n            0xe8e520,\n            0xe8e820,\n            0xe8ff20,\n            0xebe5ed,\n            0xebe820,\n            0xebfced,\n            0xede020,\n            0xede520,\n            0xede8e5,\n            0xede8ff,\n            0xedee20,\n            0xedeee2,\n            0xee20e2,\n            0xee20ef,\n            0xee20f1,\n            0xeee220,\n            0xeee2e0,\n            0xeee3ee,\n            0xeee920,\n            0xeeebfc,\n            0xeeec20,\n            0xeef1f2,\n            0xefeeeb,\n            0xeff0e5,\n            0xeff0e8,\n            0xeff0ee,\n            0xf0e0e2,\n            0xf0e5e4,\n            0xf1f2e0,\n            0xf1f2e2,\n            0xf1f2e8,\n            0xf1ff20,\n            0xf2e5eb,\n            0xf2ee20,\n            0xf2eef0,\n            0xf2fc20,\n            0xf7f2ee,\n            0xfbf520,\n        ];\n    }\n    name() {\n        return 'windows-1251';\n    }\n    language() {\n        return 'ru';\n    }\n}\nexports.windows_1251 = windows_1251;\nclass windows_1256 extends sbcs {\n    byteMap() {\n        return [\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x00,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x81,\n            0x20,\n            0x83,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x88,\n            0x20,\n            0x8a,\n            0x20,\n            0x9c,\n            0x8d,\n            0x8e,\n            0x8f,\n            0x90,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x98,\n            0x20,\n            0x9a,\n            0x20,\n            0x9c,\n            0x20,\n            0x20,\n            0x9f,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xaa,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xb5,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xc0,\n            0xc1,\n            0xc2,\n            0xc3,\n            0xc4,\n            0xc5,\n            0xc6,\n            0xc7,\n            0xc8,\n            0xc9,\n            0xca,\n            0xcb,\n            0xcc,\n            0xcd,\n            0xce,\n            0xcf,\n            0xd0,\n            0xd1,\n            0xd2,\n            0xd3,\n            0xd4,\n            0xd5,\n            0xd6,\n            0x20,\n            0xd8,\n            0xd9,\n            0xda,\n            0xdb,\n            0xdc,\n            0xdd,\n            0xde,\n            0xdf,\n            0xe0,\n            0xe1,\n            0xe2,\n            0xe3,\n            0xe4,\n            0xe5,\n            0xe6,\n            0xe7,\n            0xe8,\n            0xe9,\n            0xea,\n            0xeb,\n            0xec,\n            0xed,\n            0xee,\n            0xef,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xf4,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xf9,\n            0x20,\n            0xfb,\n            0xfc,\n            0x20,\n            0x20,\n            0xff,\n        ];\n    }\n    ngrams() {\n        return [\n            0x20c7e1,\n            0x20c7e4,\n            0x20c8c7,\n            0x20dae1,\n            0x20dded,\n            0x20e1e1,\n            0x20e3e4,\n            0x20e6c7,\n            0xc720c7,\n            0xc7c120,\n            0xc7ca20,\n            0xc7d120,\n            0xc7e120,\n            0xc7e1c3,\n            0xc7e1c7,\n            0xc7e1c8,\n            0xc7e1ca,\n            0xc7e1cc,\n            0xc7e1cd,\n            0xc7e1cf,\n            0xc7e1d3,\n            0xc7e1da,\n            0xc7e1de,\n            0xc7e1e3,\n            0xc7e1e6,\n            0xc7e1ed,\n            0xc7e320,\n            0xc7e420,\n            0xc7e4ca,\n            0xc820c7,\n            0xc920c7,\n            0xc920dd,\n            0xc920e1,\n            0xc920e3,\n            0xc920e6,\n            0xca20c7,\n            0xcf20c7,\n            0xcfc920,\n            0xd120c7,\n            0xd1c920,\n            0xd320c7,\n            0xda20c7,\n            0xdae1ec,\n            0xdded20,\n            0xe120c7,\n            0xe1c920,\n            0xe1ec20,\n            0xe1ed20,\n            0xe320c7,\n            0xe3c720,\n            0xe3c920,\n            0xe3e420,\n            0xe420c7,\n            0xe520c7,\n            0xe5c720,\n            0xe6c7e1,\n            0xe6e420,\n            0xec20c7,\n            0xed20c7,\n            0xed20e3,\n            0xed20e6,\n            0xedc920,\n            0xedd120,\n            0xede420,\n        ];\n    }\n    name() {\n        return 'windows-1256';\n    }\n    language() {\n        return 'ar';\n    }\n}\nexports.windows_1256 = windows_1256;\nclass KOI8_R extends sbcs {\n    byteMap() {\n        return [\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x00,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x61,\n            0x62,\n            0x63,\n            0x64,\n            0x65,\n            0x66,\n            0x67,\n            0x68,\n            0x69,\n            0x6a,\n            0x6b,\n            0x6c,\n            0x6d,\n            0x6e,\n            0x6f,\n            0x70,\n            0x71,\n            0x72,\n            0x73,\n            0x74,\n            0x75,\n            0x76,\n            0x77,\n            0x78,\n            0x79,\n            0x7a,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xa3,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xa3,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0x20,\n            0xc0,\n            0xc1,\n            0xc2,\n            0xc3,\n            0xc4,\n            0xc5,\n            0xc6,\n            0xc7,\n            0xc8,\n            0xc9,\n            0xca,\n            0xcb,\n            0xcc,\n            0xcd,\n            0xce,\n            0xcf,\n            0xd0,\n            0xd1,\n            0xd2,\n            0xd3,\n            0xd4,\n            0xd5,\n            0xd6,\n            0xd7,\n            0xd8,\n            0xd9,\n            0xda,\n            0xdb,\n            0xdc,\n            0xdd,\n            0xde,\n            0xdf,\n            0xc0,\n            0xc1,\n            0xc2,\n            0xc3,\n            0xc4,\n            0xc5,\n            0xc6,\n            0xc7,\n            0xc8,\n            0xc9,\n            0xca,\n            0xcb,\n            0xcc,\n            0xcd,\n            0xce,\n            0xcf,\n            0xd0,\n            0xd1,\n            0xd2,\n            0xd3,\n            0xd4,\n            0xd5,\n            0xd6,\n            0xd7,\n            0xd8,\n            0xd9,\n            0xda,\n            0xdb,\n            0xdc,\n            0xdd,\n            0xde,\n            0xdf,\n        ];\n    }\n    ngrams() {\n        return [\n            0x20c4cf,\n            0x20c920,\n            0x20cbc1,\n            0x20cbcf,\n            0x20cec1,\n            0x20cec5,\n            0x20cfc2,\n            0x20d0cf,\n            0x20d0d2,\n            0x20d2c1,\n            0x20d3cf,\n            0x20d3d4,\n            0x20d4cf,\n            0x20d720,\n            0x20d7cf,\n            0x20dac1,\n            0x20dcd4,\n            0x20ded4,\n            0xc1cec9,\n            0xc1d4d8,\n            0xc5ccd8,\n            0xc5cec9,\n            0xc5d3d4,\n            0xc5d420,\n            0xc7cf20,\n            0xc920d0,\n            0xc9c520,\n            0xc9c920,\n            0xc9d120,\n            0xccc5ce,\n            0xccc920,\n            0xccd8ce,\n            0xcec120,\n            0xcec520,\n            0xcec9c5,\n            0xcec9d1,\n            0xcecf20,\n            0xcecfd7,\n            0xcf20d0,\n            0xcf20d3,\n            0xcf20d7,\n            0xcfc7cf,\n            0xcfca20,\n            0xcfccd8,\n            0xcfcd20,\n            0xcfd3d4,\n            0xcfd720,\n            0xcfd7c1,\n            0xd0cfcc,\n            0xd0d2c5,\n            0xd0d2c9,\n            0xd0d2cf,\n            0xd2c1d7,\n            0xd2c5c4,\n            0xd3d120,\n            0xd3d4c1,\n            0xd3d4c9,\n            0xd3d4d7,\n            0xd4c5cc,\n            0xd4cf20,\n            0xd4cfd2,\n            0xd4d820,\n            0xd9c820,\n            0xded4cf,\n        ];\n    }\n    name() {\n        return 'KOI8-R';\n    }\n    language() {\n        return 'ru';\n    }\n}\nexports.KOI8_R = KOI8_R;\n//# sourceMappingURL=sbcs.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UTF_32LE = exports.UTF_32BE = exports.UTF_16LE = exports.UTF_16BE = void 0;\nconst match_1 = __importDefault(require(\"../match\"));\nclass UTF_16BE {\n    name() {\n        return 'UTF-16BE';\n    }\n    match(det) {\n        const input = det.fRawInput;\n        if (input.length >= 2 &&\n            (input[0] & 0xff) == 0xfe &&\n            (input[1] & 0xff) == 0xff) {\n            return match_1.default(det, this, 100);\n        }\n        return null;\n    }\n}\nexports.UTF_16BE = UTF_16BE;\nclass UTF_16LE {\n    name() {\n        return 'UTF-16LE';\n    }\n    match(det) {\n        const input = det.fRawInput;\n        if (input.length >= 2 &&\n            (input[0] & 0xff) == 0xff &&\n            (input[1] & 0xff) == 0xfe) {\n            if (input.length >= 4 && input[2] == 0x00 && input[3] == 0x00) {\n                return null;\n            }\n            return match_1.default(det, this, 100);\n        }\n        return null;\n    }\n}\nexports.UTF_16LE = UTF_16LE;\nclass UTF_32 {\n    name() {\n        return 'UTF-32';\n    }\n    getChar(input, index) {\n        return -1;\n    }\n    match(det) {\n        let numValid = 0, numInvalid = 0, hasBOM = false, confidence = 0;\n        const limit = (det.fRawLength / 4) * 4;\n        const input = det.fRawInput;\n        if (limit == 0) {\n            return null;\n        }\n        if (this.getChar(input, 0) == 0x0000feff) {\n            hasBOM = true;\n        }\n        for (let i = 0; i < limit; i += 4) {\n            const ch = this.getChar(input, i);\n            if (ch < 0 || ch >= 0x10ffff || (ch >= 0xd800 && ch <= 0xdfff)) {\n                numInvalid += 1;\n            }\n            else {\n                numValid += 1;\n            }\n        }\n        if (hasBOM && numInvalid == 0) {\n            confidence = 100;\n        }\n        else if (hasBOM && numValid > numInvalid * 10) {\n            confidence = 80;\n        }\n        else if (numValid > 3 && numInvalid == 0) {\n            confidence = 100;\n        }\n        else if (numValid > 0 && numInvalid == 0) {\n            confidence = 80;\n        }\n        else if (numValid > numInvalid * 10) {\n            confidence = 25;\n        }\n        return confidence == 0 ? null : match_1.default(det, this, confidence);\n    }\n}\nclass UTF_32BE extends UTF_32 {\n    name() {\n        return 'UTF-32BE';\n    }\n    getChar(input, index) {\n        return (((input[index + 0] & 0xff) << 24) |\n            ((input[index + 1] & 0xff) << 16) |\n            ((input[index + 2] & 0xff) << 8) |\n            (input[index + 3] & 0xff));\n    }\n}\nexports.UTF_32BE = UTF_32BE;\nclass UTF_32LE extends UTF_32 {\n    name() {\n        return 'UTF-32LE';\n    }\n    getChar(input, index) {\n        return (((input[index + 3] & 0xff) << 24) |\n            ((input[index + 2] & 0xff) << 16) |\n            ((input[index + 1] & 0xff) << 8) |\n            (input[index + 0] & 0xff));\n    }\n}\nexports.UTF_32LE = UTF_32LE;\n//# sourceMappingURL=unicode.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst match_1 = __importDefault(require(\"../match\"));\nclass Utf8 {\n    name() {\n        return 'UTF-8';\n    }\n    match(det) {\n        let hasBOM = false, numValid = 0, numInvalid = 0, trailBytes = 0, confidence;\n        const input = det.fRawInput;\n        if (det.fRawLength >= 3 &&\n            (input[0] & 0xff) == 0xef &&\n            (input[1] & 0xff) == 0xbb &&\n            (input[2] & 0xff) == 0xbf) {\n            hasBOM = true;\n        }\n        for (let i = 0; i < det.fRawLength; i++) {\n            const b = input[i];\n            if ((b & 0x80) == 0)\n                continue;\n            if ((b & 0x0e0) == 0x0c0) {\n                trailBytes = 1;\n            }\n            else if ((b & 0x0f0) == 0x0e0) {\n                trailBytes = 2;\n            }\n            else if ((b & 0x0f8) == 0xf0) {\n                trailBytes = 3;\n            }\n            else {\n                numInvalid++;\n                if (numInvalid > 5)\n                    break;\n                trailBytes = 0;\n            }\n            for (;;) {\n                i++;\n                if (i >= det.fRawLength)\n                    break;\n                if ((input[i] & 0xc0) != 0x080) {\n                    numInvalid++;\n                    break;\n                }\n                if (--trailBytes == 0) {\n                    numValid++;\n                    break;\n                }\n            }\n        }\n        confidence = 0;\n        if (hasBOM && numInvalid == 0)\n            confidence = 100;\n        else if (hasBOM && numValid > numInvalid * 10)\n            confidence = 80;\n        else if (numValid > 3 && numInvalid == 0)\n            confidence = 100;\n        else if (numValid > 0 && numInvalid == 0)\n            confidence = 80;\n        else if (numValid == 0 && numInvalid == 0)\n            confidence = 10;\n        else if (numValid > numInvalid * 10)\n            confidence = 25;\n        else\n            return null;\n        return match_1.default(det, this, confidence);\n    }\n}\nexports.default = Utf8;\n//# sourceMappingURL=utf8.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet fsModule;\nexports.default = () => {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        fsModule = fsModule ? fsModule : require('fs');\n        return fsModule;\n    }\n    throw new Error('File system is not available');\n};\n//# sourceMappingURL=node.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.detectFileSync = exports.detectFile = exports.analyse = exports.detect = void 0;\nconst node_1 = __importDefault(require(\"./fs/node\"));\nconst utf8_1 = __importDefault(require(\"./encoding/utf8\"));\nconst unicode = __importStar(require(\"./encoding/unicode\"));\nconst mbcs = __importStar(require(\"./encoding/mbcs\"));\nconst sbcs = __importStar(require(\"./encoding/sbcs\"));\nconst iso2022 = __importStar(require(\"./encoding/iso2022\"));\nconst recognisers = [\n    new utf8_1.default(),\n    new unicode.UTF_16BE(),\n    new unicode.UTF_16LE(),\n    new unicode.UTF_32BE(),\n    new unicode.UTF_32LE(),\n    new mbcs.sjis(),\n    new mbcs.big5(),\n    new mbcs.euc_jp(),\n    new mbcs.euc_kr(),\n    new mbcs.gb_18030(),\n    new iso2022.ISO_2022_JP(),\n    new iso2022.ISO_2022_KR(),\n    new iso2022.ISO_2022_CN(),\n    new sbcs.ISO_8859_1(),\n    new sbcs.ISO_8859_2(),\n    new sbcs.ISO_8859_5(),\n    new sbcs.ISO_8859_6(),\n    new sbcs.ISO_8859_7(),\n    new sbcs.ISO_8859_8(),\n    new sbcs.ISO_8859_9(),\n    new sbcs.windows_1251(),\n    new sbcs.windows_1256(),\n    new sbcs.KOI8_R(),\n];\nexports.detect = (buffer) => {\n    const matches = exports.analyse(buffer);\n    return matches.length > 0 ? matches[0].name : null;\n};\nexports.analyse = (buffer) => {\n    const fByteStats = [];\n    for (let i = 0; i < 256; i++)\n        fByteStats[i] = 0;\n    for (let i = buffer.length - 1; i >= 0; i--)\n        fByteStats[buffer[i] & 0x00ff]++;\n    let fC1Bytes = false;\n    for (let i = 0x80; i <= 0x9f; i += 1) {\n        if (fByteStats[i] !== 0) {\n            fC1Bytes = true;\n            break;\n        }\n    }\n    const context = {\n        fByteStats,\n        fC1Bytes,\n        fRawInput: buffer,\n        fRawLength: buffer.length,\n        fInputBytes: buffer,\n        fInputLen: buffer.length,\n    };\n    const matches = recognisers\n        .map((rec) => {\n        return rec.match(context);\n    })\n        .filter((match) => {\n        return !!match;\n    })\n        .sort((a, b) => {\n        return b.confidence - a.confidence;\n    });\n    return matches;\n};\nexports.detectFile = (filepath, opts = {}) => new Promise((resolve, reject) => {\n    let fd;\n    const fs = node_1.default();\n    const handler = (err, buffer) => {\n        if (fd) {\n            fs.closeSync(fd);\n        }\n        if (err) {\n            reject(err);\n        }\n        else {\n            resolve(exports.detect(buffer));\n        }\n    };\n    if (opts && opts.sampleSize) {\n        fd = fs.openSync(filepath, 'r');\n        const sample = Buffer.allocUnsafe(opts.sampleSize);\n        fs.read(fd, sample, 0, opts.sampleSize, null, (err) => {\n            handler(err, sample);\n        });\n        return;\n    }\n    fs.readFile(filepath, handler);\n});\nexports.detectFileSync = (filepath, opts = {}) => {\n    const fs = node_1.default();\n    if (opts && opts.sampleSize) {\n        const fd = fs.openSync(filepath, 'r');\n        const sample = Buffer.allocUnsafe(opts.sampleSize);\n        fs.readSync(fd, sample, 0, opts.sampleSize);\n        fs.closeSync(fd);\n        return exports.detect(sample);\n    }\n    return exports.detect(fs.readFileSync(filepath));\n};\nexports.default = {\n    analyse: exports.analyse,\n    detect: exports.detect,\n    detectFileSync: exports.detectFileSync,\n    detectFile: exports.detectFile,\n};\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (det, rec, confidence, name, lang) => ({\n    confidence,\n    name: name || rec.name(det),\n    lang,\n});\n//# sourceMappingURL=match.js.map","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",$=\"Invalid Date\",l=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},g={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},D=\"en\",v={};v[D]=M;var p=function(t){return t instanceof _},S=function(t,e,n){var r;if(!t)return D;if(\"string\"==typeof t)v[t]&&(r=t),e&&(v[t]=e,r=t);else{var i=t.name;v[i]=t,r=i}return!n&&r&&(D=r),r||!n&&D},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=g;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===$)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),$=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},l=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,g=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?$(1,0):$(31,11);case f:return r?$(1,M):$(0,M+1);case o:var D=this.$locale().weekStart||0,v=(y<D?y+7:y)-D;return $(r?m-v:m+(6-v),M);case a:case d:return l(g+\"Hours\",0);case u:return l(g+\"Minutes\",1);case s:return l(g+\"Seconds\",2);case i:return l(g+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),$=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],l=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[$](l),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,$=this;r=Number(r);var l=O.p(h),y=function(t){var e=w($);return O.w(e.date(e.date()+Math.round(t*r)),$)};if(l===f)return this.set(f,this.$M+r);if(l===c)return this.set(c,this.$y+r);if(l===a)return y(1);if(l===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[l]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this;if(!this.isValid())return $;var n=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=O.z(this),i=this.$locale(),s=this.$H,u=this.$m,a=this.$M,o=i.weekdays,f=i.months,h=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=i.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(i.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,o,2),ddd:h(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:r};return n.replace(y,(function(t,e){return e||l[t]||r.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,$){var l,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,g=this-M,D=O.m(this,M);return D=(l={},l[c]=D/12,l[f]=D,l[h]=D/3,l[o]=(g-m)/6048e5,l[a]=(g-m)/864e5,l[u]=g/n,l[s]=g/e,l[i]=g/t,l)[y]||g,$?D:O.a(D)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return v[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),b=_.prototype;return w.prototype=b,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=v[D],w.Ls=v,w.p={},w}));","!function(r,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(r=\"undefined\"!=typeof globalThis?globalThis:r||self).dayjs_plugin_relativeTime=e()}(this,(function(){\"use strict\";return function(r,e,t){r=r||{};var n=e.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};function i(r,e,t,o){return n.fromToBase(r,e,t,o)}t.en.relativeTime=o,n.fromToBase=function(e,n,i,d,u){for(var f,a,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(f=d?t(e).diff(i,y.d,!0):i.diff(e,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(f));if(s=f>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(\"\"+p)),a=\"string\"==typeof v?v.replace(\"%d\",p):v(p,n,y.l,s);break}}if(n)return a;var M=s?l.future:l.past;return\"function\"==typeof M?M(a):M.replace(\"%s\",a)},n.to=function(r,e){return i(r,e,this,!0)},n.from=function(r,e){return i(r,e,this)};var d=function(r){return r.$u?t.utc():t()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}}));","module.exports = realpath\nrealpath.realpath = realpath\nrealpath.sync = realpathSync\nrealpath.realpathSync = realpathSync\nrealpath.monkeypatch = monkeypatch\nrealpath.unmonkeypatch = unmonkeypatch\n\nvar fs = require('fs')\nvar origRealpath = fs.realpath\nvar origRealpathSync = fs.realpathSync\n\nvar version = process.version\nvar ok = /^v[0-5]\\./.test(version)\nvar old = require('./old.js')\n\nfunction newError (er) {\n  return er && er.syscall === 'realpath' && (\n    er.code === 'ELOOP' ||\n    er.code === 'ENOMEM' ||\n    er.code === 'ENAMETOOLONG'\n  )\n}\n\nfunction realpath (p, cache, cb) {\n  if (ok) {\n    return origRealpath(p, cache, cb)\n  }\n\n  if (typeof cache === 'function') {\n    cb = cache\n    cache = null\n  }\n  origRealpath(p, cache, function (er, result) {\n    if (newError(er)) {\n      old.realpath(p, cache, cb)\n    } else {\n      cb(er, result)\n    }\n  })\n}\n\nfunction realpathSync (p, cache) {\n  if (ok) {\n    return origRealpathSync(p, cache)\n  }\n\n  try {\n    return origRealpathSync(p, cache)\n  } catch (er) {\n    if (newError(er)) {\n      return old.realpathSync(p, cache)\n    } else {\n      throw er\n    }\n  }\n}\n\nfunction monkeypatch () {\n  fs.realpath = realpath\n  fs.realpathSync = realpathSync\n}\n\nfunction unmonkeypatch () {\n  fs.realpath = origRealpath\n  fs.realpathSync = origRealpathSync\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar pathModule = require('path');\nvar isWindows = process.platform === 'win32';\nvar fs = require('fs');\n\n// JavaScript implementation of realpath, ported from node pre-v6\n\nvar DEBUG = process.env.NODE_DEBUG && /fs/.test(process.env.NODE_DEBUG);\n\nfunction rethrow() {\n  // Only enable in debug mode. A backtrace uses ~1000 bytes of heap space and\n  // is fairly slow to generate.\n  var callback;\n  if (DEBUG) {\n    var backtrace = new Error;\n    callback = debugCallback;\n  } else\n    callback = missingCallback;\n\n  return callback;\n\n  function debugCallback(err) {\n    if (err) {\n      backtrace.message = err.message;\n      err = backtrace;\n      missingCallback(err);\n    }\n  }\n\n  function missingCallback(err) {\n    if (err) {\n      if (process.throwDeprecation)\n        throw err;  // Forgot a callback but don't know where? Use NODE_DEBUG=fs\n      else if (!process.noDeprecation) {\n        var msg = 'fs: missing callback ' + (err.stack || err.message);\n        if (process.traceDeprecation)\n          console.trace(msg);\n        else\n          console.error(msg);\n      }\n    }\n  }\n}\n\nfunction maybeCallback(cb) {\n  return typeof cb === 'function' ? cb : rethrow();\n}\n\nvar normalize = pathModule.normalize;\n\n// Regexp that finds the next partion of a (partial) path\n// result is [base_with_slash, base], e.g. ['somedir/', 'somedir']\nif (isWindows) {\n  var nextPartRe = /(.*?)(?:[\\/\\\\]+|$)/g;\n} else {\n  var nextPartRe = /(.*?)(?:[\\/]+|$)/g;\n}\n\n// Regex to find the device root, including trailing slash. E.g. 'c:\\\\'.\nif (isWindows) {\n  var splitRootRe = /^(?:[a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/][^\\\\\\/]+)?[\\\\\\/]*/;\n} else {\n  var splitRootRe = /^[\\/]*/;\n}\n\nexports.realpathSync = function realpathSync(p, cache) {\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return cache[p];\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstatSync(base);\n      knownHard[base] = true;\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  // NB: p.length changes.\n  while (pos < p.length) {\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      continue;\n    }\n\n    var resolvedLink;\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // some known symbolic link.  no need to stat again.\n      resolvedLink = cache[base];\n    } else {\n      var stat = fs.lstatSync(base);\n      if (!stat.isSymbolicLink()) {\n        knownHard[base] = true;\n        if (cache) cache[base] = base;\n        continue;\n      }\n\n      // read the link if it wasn't read before\n      // dev/ino always return 0 on windows, so skip the check.\n      var linkTarget = null;\n      if (!isWindows) {\n        var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n        if (seenLinks.hasOwnProperty(id)) {\n          linkTarget = seenLinks[id];\n        }\n      }\n      if (linkTarget === null) {\n        fs.statSync(base);\n        linkTarget = fs.readlinkSync(base);\n      }\n      resolvedLink = pathModule.resolve(previous, linkTarget);\n      // track this, if given a cache.\n      if (cache) cache[base] = resolvedLink;\n      if (!isWindows) seenLinks[id] = linkTarget;\n    }\n\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n\n  if (cache) cache[original] = p;\n\n  return p;\n};\n\n\nexports.realpath = function realpath(p, cache, cb) {\n  if (typeof cb !== 'function') {\n    cb = maybeCallback(cache);\n    cache = null;\n  }\n\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return process.nextTick(cb.bind(null, null, cache[p]));\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstat(base, function(err) {\n        if (err) return cb(err);\n        knownHard[base] = true;\n        LOOP();\n      });\n    } else {\n      process.nextTick(LOOP);\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  function LOOP() {\n    // stop if scanned past end of path\n    if (pos >= p.length) {\n      if (cache) cache[original] = p;\n      return cb(null, p);\n    }\n\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      return process.nextTick(LOOP);\n    }\n\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // known symbolic link.  no need to stat again.\n      return gotResolvedLink(cache[base]);\n    }\n\n    return fs.lstat(base, gotStat);\n  }\n\n  function gotStat(err, stat) {\n    if (err) return cb(err);\n\n    // if not a symlink, skip to the next path part\n    if (!stat.isSymbolicLink()) {\n      knownHard[base] = true;\n      if (cache) cache[base] = base;\n      return process.nextTick(LOOP);\n    }\n\n    // stat & read the link if not read before\n    // call gotTarget as soon as the link target is known\n    // dev/ino always return 0 on windows, so skip the check.\n    if (!isWindows) {\n      var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n      if (seenLinks.hasOwnProperty(id)) {\n        return gotTarget(null, seenLinks[id], base);\n      }\n    }\n    fs.stat(base, function(err) {\n      if (err) return cb(err);\n\n      fs.readlink(base, function(err, target) {\n        if (!isWindows) seenLinks[id] = target;\n        gotTarget(err, target);\n      });\n    });\n  }\n\n  function gotTarget(err, target, base) {\n    if (err) return cb(err);\n\n    var resolvedLink = pathModule.resolve(previous, target);\n    if (cache) cache[base] = resolvedLink;\n    gotResolvedLink(resolvedLink);\n  }\n\n  function gotResolvedLink(resolvedLink) {\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n};\n","exports.setopts = setopts\nexports.ownProp = ownProp\nexports.makeAbs = makeAbs\nexports.finish = finish\nexports.mark = mark\nexports.isIgnored = isIgnored\nexports.childrenIgnored = childrenIgnored\n\nfunction ownProp (obj, field) {\n  return Object.prototype.hasOwnProperty.call(obj, field)\n}\n\nvar path = require(\"path\")\nvar minimatch = require(\"minimatch\")\nvar isAbsolute = require(\"path-is-absolute\")\nvar Minimatch = minimatch.Minimatch\n\nfunction alphasort (a, b) {\n  return a.localeCompare(b, 'en')\n}\n\nfunction setupIgnores (self, options) {\n  self.ignore = options.ignore || []\n\n  if (!Array.isArray(self.ignore))\n    self.ignore = [self.ignore]\n\n  if (self.ignore.length) {\n    self.ignore = self.ignore.map(ignoreMap)\n  }\n}\n\n// ignore patterns are always in dot:true mode.\nfunction ignoreMap (pattern) {\n  var gmatcher = null\n  if (pattern.slice(-3) === '/**') {\n    var gpattern = pattern.replace(/(\\/\\*\\*)+$/, '')\n    gmatcher = new Minimatch(gpattern, { dot: true })\n  }\n\n  return {\n    matcher: new Minimatch(pattern, { dot: true }),\n    gmatcher: gmatcher\n  }\n}\n\nfunction setopts (self, pattern, options) {\n  if (!options)\n    options = {}\n\n  // base-matching: just use globstar for that.\n  if (options.matchBase && -1 === pattern.indexOf(\"/\")) {\n    if (options.noglobstar) {\n      throw new Error(\"base matching requires globstar\")\n    }\n    pattern = \"**/\" + pattern\n  }\n\n  self.silent = !!options.silent\n  self.pattern = pattern\n  self.strict = options.strict !== false\n  self.realpath = !!options.realpath\n  self.realpathCache = options.realpathCache || Object.create(null)\n  self.follow = !!options.follow\n  self.dot = !!options.dot\n  self.mark = !!options.mark\n  self.nodir = !!options.nodir\n  if (self.nodir)\n    self.mark = true\n  self.sync = !!options.sync\n  self.nounique = !!options.nounique\n  self.nonull = !!options.nonull\n  self.nosort = !!options.nosort\n  self.nocase = !!options.nocase\n  self.stat = !!options.stat\n  self.noprocess = !!options.noprocess\n  self.absolute = !!options.absolute\n\n  self.maxLength = options.maxLength || Infinity\n  self.cache = options.cache || Object.create(null)\n  self.statCache = options.statCache || Object.create(null)\n  self.symlinks = options.symlinks || Object.create(null)\n\n  setupIgnores(self, options)\n\n  self.changedCwd = false\n  var cwd = process.cwd()\n  if (!ownProp(options, \"cwd\"))\n    self.cwd = cwd\n  else {\n    self.cwd = path.resolve(options.cwd)\n    self.changedCwd = self.cwd !== cwd\n  }\n\n  self.root = options.root || path.resolve(self.cwd, \"/\")\n  self.root = path.resolve(self.root)\n  if (process.platform === \"win32\")\n    self.root = self.root.replace(/\\\\/g, \"/\")\n\n  // TODO: is an absolute `cwd` supposed to be resolved against `root`?\n  // e.g. { cwd: '/test', root: __dirname } === path.join(__dirname, '/test')\n  self.cwdAbs = isAbsolute(self.cwd) ? self.cwd : makeAbs(self, self.cwd)\n  if (process.platform === \"win32\")\n    self.cwdAbs = self.cwdAbs.replace(/\\\\/g, \"/\")\n  self.nomount = !!options.nomount\n\n  // disable comments and negation in Minimatch.\n  // Note that they are not supported in Glob itself anyway.\n  options.nonegate = true\n  options.nocomment = true\n\n  self.minimatch = new Minimatch(pattern, options)\n  self.options = self.minimatch.options\n}\n\nfunction finish (self) {\n  var nou = self.nounique\n  var all = nou ? [] : Object.create(null)\n\n  for (var i = 0, l = self.matches.length; i < l; i ++) {\n    var matches = self.matches[i]\n    if (!matches || Object.keys(matches).length === 0) {\n      if (self.nonull) {\n        // do like the shell, and spit out the literal glob\n        var literal = self.minimatch.globSet[i]\n        if (nou)\n          all.push(literal)\n        else\n          all[literal] = true\n      }\n    } else {\n      // had matches\n      var m = Object.keys(matches)\n      if (nou)\n        all.push.apply(all, m)\n      else\n        m.forEach(function (m) {\n          all[m] = true\n        })\n    }\n  }\n\n  if (!nou)\n    all = Object.keys(all)\n\n  if (!self.nosort)\n    all = all.sort(alphasort)\n\n  // at *some* point we statted all of these\n  if (self.mark) {\n    for (var i = 0; i < all.length; i++) {\n      all[i] = self._mark(all[i])\n    }\n    if (self.nodir) {\n      all = all.filter(function (e) {\n        var notDir = !(/\\/$/.test(e))\n        var c = self.cache[e] || self.cache[makeAbs(self, e)]\n        if (notDir && c)\n          notDir = c !== 'DIR' && !Array.isArray(c)\n        return notDir\n      })\n    }\n  }\n\n  if (self.ignore.length)\n    all = all.filter(function(m) {\n      return !isIgnored(self, m)\n    })\n\n  self.found = all\n}\n\nfunction mark (self, p) {\n  var abs = makeAbs(self, p)\n  var c = self.cache[abs]\n  var m = p\n  if (c) {\n    var isDir = c === 'DIR' || Array.isArray(c)\n    var slash = p.slice(-1) === '/'\n\n    if (isDir && !slash)\n      m += '/'\n    else if (!isDir && slash)\n      m = m.slice(0, -1)\n\n    if (m !== p) {\n      var mabs = makeAbs(self, m)\n      self.statCache[mabs] = self.statCache[abs]\n      self.cache[mabs] = self.cache[abs]\n    }\n  }\n\n  return m\n}\n\n// lotta situps...\nfunction makeAbs (self, f) {\n  var abs = f\n  if (f.charAt(0) === '/') {\n    abs = path.join(self.root, f)\n  } else if (isAbsolute(f) || f === '') {\n    abs = f\n  } else if (self.changedCwd) {\n    abs = path.resolve(self.cwd, f)\n  } else {\n    abs = path.resolve(f)\n  }\n\n  if (process.platform === 'win32')\n    abs = abs.replace(/\\\\/g, '/')\n\n  return abs\n}\n\n\n// Return true, if pattern ends with globstar '**', for the accompanying parent directory.\n// Ex:- If node_modules/** is the pattern, add 'node_modules' to ignore list along with it's contents\nfunction isIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return item.matcher.match(path) || !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n\nfunction childrenIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n","// Approach:\n//\n// 1. Get the minimatch set\n// 2. For each pattern in the set, PROCESS(pattern, false)\n// 3. Store matches per-set, then uniq them\n//\n// PROCESS(pattern, inGlobStar)\n// Get the first [n] items from pattern that are all strings\n// Join these together.  This is PREFIX.\n//   If there is no more remaining, then stat(PREFIX) and\n//   add to matches if it succeeds.  END.\n//\n// If inGlobStar and PREFIX is symlink and points to dir\n//   set ENTRIES = []\n// else readdir(PREFIX) as ENTRIES\n//   If fail, END\n//\n// with ENTRIES\n//   If pattern[n] is GLOBSTAR\n//     // handle the case where the globstar match is empty\n//     // by pruning it out, and testing the resulting pattern\n//     PROCESS(pattern[0..n] + pattern[n+1 .. $], false)\n//     // handle other cases.\n//     for ENTRY in ENTRIES (not dotfiles)\n//       // attach globstar + tail onto the entry\n//       // Mark that this entry is a globstar match\n//       PROCESS(pattern[0..n] + ENTRY + pattern[n .. $], true)\n//\n//   else // not globstar\n//     for ENTRY in ENTRIES (not dotfiles, unless pattern[n] is dot)\n//       Test ENTRY against pattern[n]\n//       If fails, continue\n//       If passes, PROCESS(pattern[0..n] + item + pattern[n+1 .. $])\n//\n// Caveat:\n//   Cache all stats and readdirs results to minimize syscall.  Since all\n//   we ever care about is existence and directory-ness, we can just keep\n//   `true` for files, and [children,...] for directories, or `false` for\n//   things that don't exist.\n\nmodule.exports = glob\n\nvar fs = require('fs')\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar inherits = require('inherits')\nvar EE = require('events').EventEmitter\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar globSync = require('./sync.js')\nvar common = require('./common.js')\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar inflight = require('inflight')\nvar util = require('util')\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nvar once = require('once')\n\nfunction glob (pattern, options, cb) {\n  if (typeof options === 'function') cb = options, options = {}\n  if (!options) options = {}\n\n  if (options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return globSync(pattern, options)\n  }\n\n  return new Glob(pattern, options, cb)\n}\n\nglob.sync = globSync\nvar GlobSync = glob.GlobSync = globSync.GlobSync\n\n// old api surface\nglob.glob = glob\n\nfunction extend (origin, add) {\n  if (add === null || typeof add !== 'object') {\n    return origin\n  }\n\n  var keys = Object.keys(add)\n  var i = keys.length\n  while (i--) {\n    origin[keys[i]] = add[keys[i]]\n  }\n  return origin\n}\n\nglob.hasMagic = function (pattern, options_) {\n  var options = extend({}, options_)\n  options.noprocess = true\n\n  var g = new Glob(pattern, options)\n  var set = g.minimatch.set\n\n  if (!pattern)\n    return false\n\n  if (set.length > 1)\n    return true\n\n  for (var j = 0; j < set[0].length; j++) {\n    if (typeof set[0][j] !== 'string')\n      return true\n  }\n\n  return false\n}\n\nglob.Glob = Glob\ninherits(Glob, EE)\nfunction Glob (pattern, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = null\n  }\n\n  if (options && options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return new GlobSync(pattern, options)\n  }\n\n  if (!(this instanceof Glob))\n    return new Glob(pattern, options, cb)\n\n  setopts(this, pattern, options)\n  this._didRealPath = false\n\n  // process each pattern in the minimatch set\n  var n = this.minimatch.set.length\n\n  // The matches are stored as {<filename>: true,...} so that\n  // duplicates are automagically pruned.\n  // Later, we do an Object.keys() on these.\n  // Keep them as a list so we can fill in when nonull is set.\n  this.matches = new Array(n)\n\n  if (typeof cb === 'function') {\n    cb = once(cb)\n    this.on('error', cb)\n    this.on('end', function (matches) {\n      cb(null, matches)\n    })\n  }\n\n  var self = this\n  this._processing = 0\n\n  this._emitQueue = []\n  this._processQueue = []\n  this.paused = false\n\n  if (this.noprocess)\n    return this\n\n  if (n === 0)\n    return done()\n\n  var sync = true\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false, done)\n  }\n  sync = false\n\n  function done () {\n    --self._processing\n    if (self._processing <= 0) {\n      if (sync) {\n        process.nextTick(function () {\n          self._finish()\n        })\n      } else {\n        self._finish()\n      }\n    }\n  }\n}\n\nGlob.prototype._finish = function () {\n  assert(this instanceof Glob)\n  if (this.aborted)\n    return\n\n  if (this.realpath && !this._didRealpath)\n    return this._realpath()\n\n  common.finish(this)\n  this.emit('end', this.found)\n}\n\nGlob.prototype._realpath = function () {\n  if (this._didRealpath)\n    return\n\n  this._didRealpath = true\n\n  var n = this.matches.length\n  if (n === 0)\n    return this._finish()\n\n  var self = this\n  for (var i = 0; i < this.matches.length; i++)\n    this._realpathSet(i, next)\n\n  function next () {\n    if (--n === 0)\n      self._finish()\n  }\n}\n\nGlob.prototype._realpathSet = function (index, cb) {\n  var matchset = this.matches[index]\n  if (!matchset)\n    return cb()\n\n  var found = Object.keys(matchset)\n  var self = this\n  var n = found.length\n\n  if (n === 0)\n    return cb()\n\n  var set = this.matches[index] = Object.create(null)\n  found.forEach(function (p, i) {\n    // If there's a problem with the stat, then it means that\n    // one or more of the links in the realpath couldn't be\n    // resolved.  just return the abs value in that case.\n    p = self._makeAbs(p)\n    rp.realpath(p, self.realpathCache, function (er, real) {\n      if (!er)\n        set[real] = true\n      else if (er.syscall === 'stat')\n        set[p] = true\n      else\n        self.emit('error', er) // srsly wtf right here\n\n      if (--n === 0) {\n        self.matches[index] = set\n        cb()\n      }\n    })\n  })\n}\n\nGlob.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlob.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n\nGlob.prototype.abort = function () {\n  this.aborted = true\n  this.emit('abort')\n}\n\nGlob.prototype.pause = function () {\n  if (!this.paused) {\n    this.paused = true\n    this.emit('pause')\n  }\n}\n\nGlob.prototype.resume = function () {\n  if (this.paused) {\n    this.emit('resume')\n    this.paused = false\n    if (this._emitQueue.length) {\n      var eq = this._emitQueue.slice(0)\n      this._emitQueue.length = 0\n      for (var i = 0; i < eq.length; i ++) {\n        var e = eq[i]\n        this._emitMatch(e[0], e[1])\n      }\n    }\n    if (this._processQueue.length) {\n      var pq = this._processQueue.slice(0)\n      this._processQueue.length = 0\n      for (var i = 0; i < pq.length; i ++) {\n        var p = pq[i]\n        this._processing--\n        this._process(p[0], p[1], p[2], p[3])\n      }\n    }\n  }\n}\n\nGlob.prototype._process = function (pattern, index, inGlobStar, cb) {\n  assert(this instanceof Glob)\n  assert(typeof cb === 'function')\n\n  if (this.aborted)\n    return\n\n  this._processing++\n  if (this.paused) {\n    this._processQueue.push([pattern, index, inGlobStar, cb])\n    return\n  }\n\n  //console.error('PROCESS %d', this._processing, pattern)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // see if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index, cb)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip _processing\n  if (childrenIgnored(this, read))\n    return cb()\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar, cb)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar, cb)\n}\n\nGlob.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    return self._processReaddir2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\nGlob.prototype._processReaddir2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return cb()\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  //console.error('prd2', prefix, entries, remain[0]._glob, matchedEntries)\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return cb()\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return cb()\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix) {\n      if (prefix !== '/')\n        e = prefix + '/' + e\n      else\n        e = prefix + e\n    }\n    this._process([e].concat(remain), index, inGlobStar, cb)\n  }\n  cb()\n}\n\nGlob.prototype._emitMatch = function (index, e) {\n  if (this.aborted)\n    return\n\n  if (isIgnored(this, e))\n    return\n\n  if (this.paused) {\n    this._emitQueue.push([index, e])\n    return\n  }\n\n  var abs = isAbsolute(e) ? e : this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute)\n    e = abs\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  var st = this.statCache[abs]\n  if (st)\n    this.emit('stat', e, st)\n\n  this.emit('match', e)\n}\n\nGlob.prototype._readdirInGlobStar = function (abs, cb) {\n  if (this.aborted)\n    return\n\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false, cb)\n\n  var lstatkey = 'lstat\\0' + abs\n  var self = this\n  var lstatcb = inflight(lstatkey, lstatcb_)\n\n  if (lstatcb)\n    fs.lstat(abs, lstatcb)\n\n  function lstatcb_ (er, lstat) {\n    if (er && er.code === 'ENOENT')\n      return cb()\n\n    var isSym = lstat && lstat.isSymbolicLink()\n    self.symlinks[abs] = isSym\n\n    // If it's not a symlink or a dir, then it's definitely a regular file.\n    // don't bother doing a readdir in that case.\n    if (!isSym && lstat && !lstat.isDirectory()) {\n      self.cache[abs] = 'FILE'\n      cb()\n    } else\n      self._readdir(abs, false, cb)\n  }\n}\n\nGlob.prototype._readdir = function (abs, inGlobStar, cb) {\n  if (this.aborted)\n    return\n\n  cb = inflight('readdir\\0'+abs+'\\0'+inGlobStar, cb)\n  if (!cb)\n    return\n\n  //console.error('RD %j %j', +inGlobStar, abs)\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs, cb)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return cb()\n\n    if (Array.isArray(c))\n      return cb(null, c)\n  }\n\n  var self = this\n  fs.readdir(abs, readdirCb(this, abs, cb))\n}\n\nfunction readdirCb (self, abs, cb) {\n  return function (er, entries) {\n    if (er)\n      self._readdirError(abs, er, cb)\n    else\n      self._readdirEntries(abs, entries, cb)\n  }\n}\n\nGlob.prototype._readdirEntries = function (abs, entries, cb) {\n  if (this.aborted)\n    return\n\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n  return cb(null, entries)\n}\n\nGlob.prototype._readdirError = function (f, er, cb) {\n  if (this.aborted)\n    return\n\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        this.emit('error', error)\n        this.abort()\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict) {\n        this.emit('error', er)\n        // If the error is handled, then we abort\n        // if not, we threw out of here\n        this.abort()\n      }\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n\n  return cb()\n}\n\nGlob.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    self._processGlobStar2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\n\nGlob.prototype._processGlobStar2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n  //console.error('pgs2', prefix, remain[0], entries)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return cb()\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false, cb)\n\n  var isSym = this.symlinks[abs]\n  var len = entries.length\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return cb()\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true, cb)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true, cb)\n  }\n\n  cb()\n}\n\nGlob.prototype._processSimple = function (prefix, index, cb) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var self = this\n  this._stat(prefix, function (er, exists) {\n    self._processSimple2(prefix, index, er, exists, cb)\n  })\n}\nGlob.prototype._processSimple2 = function (prefix, index, er, exists, cb) {\n\n  //console.error('ps2', prefix, exists)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return cb()\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n  cb()\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlob.prototype._stat = function (f, cb) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return cb()\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return cb(null, c)\n\n    if (needDir && c === 'FILE')\n      return cb()\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (stat !== undefined) {\n    if (stat === false)\n      return cb(null, stat)\n    else {\n      var type = stat.isDirectory() ? 'DIR' : 'FILE'\n      if (needDir && type === 'FILE')\n        return cb()\n      else\n        return cb(null, type, stat)\n    }\n  }\n\n  var self = this\n  var statcb = inflight('stat\\0' + abs, lstatcb_)\n  if (statcb)\n    fs.lstat(abs, statcb)\n\n  function lstatcb_ (er, lstat) {\n    if (lstat && lstat.isSymbolicLink()) {\n      // If it's a symlink, then treat it as the target, unless\n      // the target does not exist, then treat it as a file.\n      return fs.stat(abs, function (er, stat) {\n        if (er)\n          self._stat2(f, abs, null, lstat, cb)\n        else\n          self._stat2(f, abs, er, stat, cb)\n      })\n    } else {\n      self._stat2(f, abs, er, lstat, cb)\n    }\n  }\n}\n\nGlob.prototype._stat2 = function (f, abs, er, stat, cb) {\n  if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n    this.statCache[abs] = false\n    return cb()\n  }\n\n  var needDir = f.slice(-1) === '/'\n  this.statCache[abs] = stat\n\n  if (abs.slice(-1) === '/' && stat && !stat.isDirectory())\n    return cb(null, false, stat)\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return cb()\n\n  return cb(null, c, stat)\n}\n","module.exports = globSync\nglobSync.GlobSync = GlobSync\n\nvar fs = require('fs')\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar Glob = require('./glob.js').Glob\nvar util = require('util')\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar common = require('./common.js')\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nfunction globSync (pattern, options) {\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  return new GlobSync(pattern, options).found\n}\n\nfunction GlobSync (pattern, options) {\n  if (!pattern)\n    throw new Error('must provide pattern')\n\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  if (!(this instanceof GlobSync))\n    return new GlobSync(pattern, options)\n\n  setopts(this, pattern, options)\n\n  if (this.noprocess)\n    return this\n\n  var n = this.minimatch.set.length\n  this.matches = new Array(n)\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false)\n  }\n  this._finish()\n}\n\nGlobSync.prototype._finish = function () {\n  assert(this instanceof GlobSync)\n  if (this.realpath) {\n    var self = this\n    this.matches.forEach(function (matchset, index) {\n      var set = self.matches[index] = Object.create(null)\n      for (var p in matchset) {\n        try {\n          p = self._makeAbs(p)\n          var real = rp.realpathSync(p, self.realpathCache)\n          set[real] = true\n        } catch (er) {\n          if (er.syscall === 'stat')\n            set[self._makeAbs(p)] = true\n          else\n            throw er\n        }\n      }\n    })\n  }\n  common.finish(this)\n}\n\n\nGlobSync.prototype._process = function (pattern, index, inGlobStar) {\n  assert(this instanceof GlobSync)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // See if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip processing\n  if (childrenIgnored(this, read))\n    return\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar)\n}\n\n\nGlobSync.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar) {\n  var entries = this._readdir(abs, inGlobStar)\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix.slice(-1) !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix)\n      newPattern = [prefix, e]\n    else\n      newPattern = [e]\n    this._process(newPattern.concat(remain), index, inGlobStar)\n  }\n}\n\n\nGlobSync.prototype._emitMatch = function (index, e) {\n  if (isIgnored(this, e))\n    return\n\n  var abs = this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute) {\n    e = abs\n  }\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  if (this.stat)\n    this._stat(e)\n}\n\n\nGlobSync.prototype._readdirInGlobStar = function (abs) {\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false)\n\n  var entries\n  var lstat\n  var stat\n  try {\n    lstat = fs.lstatSync(abs)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      // lstat failed, doesn't exist\n      return null\n    }\n  }\n\n  var isSym = lstat && lstat.isSymbolicLink()\n  this.symlinks[abs] = isSym\n\n  // If it's not a symlink or a dir, then it's definitely a regular file.\n  // don't bother doing a readdir in that case.\n  if (!isSym && lstat && !lstat.isDirectory())\n    this.cache[abs] = 'FILE'\n  else\n    entries = this._readdir(abs, false)\n\n  return entries\n}\n\nGlobSync.prototype._readdir = function (abs, inGlobStar) {\n  var entries\n\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return null\n\n    if (Array.isArray(c))\n      return c\n  }\n\n  try {\n    return this._readdirEntries(abs, fs.readdirSync(abs))\n  } catch (er) {\n    this._readdirError(abs, er)\n    return null\n  }\n}\n\nGlobSync.prototype._readdirEntries = function (abs, entries) {\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n\n  // mark and cache dir-ness\n  return entries\n}\n\nGlobSync.prototype._readdirError = function (f, er) {\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        throw error\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict)\n        throw er\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n}\n\nGlobSync.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar) {\n\n  var entries = this._readdir(abs, inGlobStar)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false)\n\n  var len = entries.length\n  var isSym = this.symlinks[abs]\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true)\n  }\n}\n\nGlobSync.prototype._processSimple = function (prefix, index) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var exists = this._stat(prefix)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlobSync.prototype._stat = function (f) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return false\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return c\n\n    if (needDir && c === 'FILE')\n      return false\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (!stat) {\n    var lstat\n    try {\n      lstat = fs.lstatSync(abs)\n    } catch (er) {\n      if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n        this.statCache[abs] = false\n        return false\n      }\n    }\n\n    if (lstat && lstat.isSymbolicLink()) {\n      try {\n        stat = fs.statSync(abs)\n      } catch (er) {\n        stat = lstat\n      }\n    } else {\n      stat = lstat\n    }\n  }\n\n  this.statCache[abs] = stat\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return false\n\n  return c\n}\n\nGlobSync.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlobSync.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n","var wrappy = require('wrappy')\nvar reqs = Object.create(null)\nvar once = require('once')\n\nmodule.exports = wrappy(inflight)\n\nfunction inflight (key, cb) {\n  if (reqs[key]) {\n    reqs[key].push(cb)\n    return null\n  } else {\n    reqs[key] = [cb]\n    return makeres(key)\n  }\n}\n\nfunction makeres (key) {\n  return once(function RES () {\n    var cbs = reqs[key]\n    var len = cbs.length\n    var args = slice(arguments)\n\n    // XXX It's somewhat ambiguous whether a new callback added in this\n    // pass should be queued for later execution if something in the\n    // list of callbacks throws, or if it should just be discarded.\n    // However, it's such an edge case that it hardly matters, and either\n    // choice is likely as surprising as the other.\n    // As it happens, we do go ahead and schedule it for later execution.\n    try {\n      for (var i = 0; i < len; i++) {\n        cbs[i].apply(null, args)\n      }\n    } finally {\n      if (cbs.length > len) {\n        // added more in the interim.\n        // de-zalgo, just in case, but don't call again.\n        cbs.splice(0, len)\n        process.nextTick(function () {\n          RES.apply(null, args)\n        })\n      } else {\n        delete reqs[key]\n      }\n    }\n  })\n}\n\nfunction slice (args) {\n  var length = args.length\n  var array = []\n\n  for (var i = 0; i < length; i++) array[i] = args[i]\n  return array\n}\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = { sep: '/' }\ntry {\n  path = require('path')\n} catch (er) {}\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  a = a || {}\n  b = b || {}\n  var t = {}\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return minimatch\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig.minimatch(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return Minimatch\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  // \"\" only matches \"\"\n  if (pattern.trim() === '') return p === ''\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  // don't do it more than once.\n  if (this._made) return\n\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = console.error\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  if (typeof pattern === 'undefined') {\n    throw new TypeError('undefined pattern')\n  }\n\n  if (options.nobrace ||\n    !pattern.match(/\\{.*\\}/)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  if (pattern.length > 1024 * 64) {\n    throw new TypeError('pattern is too long')\n  }\n\n  var options = this.options\n\n  // shortcuts\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      case '/':\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        if (inClass) {\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          var cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            var sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '.':\n    case '[':\n    case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = match\nfunction match (f, partial) {\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      if (options.nocase) {\n        hit = f.toLowerCase() === p.toLowerCase()\n      } else {\n        hit = f === p\n      }\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\n    return emptyFileEnd\n  }\n\n  // should be unreachable.\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","﻿'use strict';\n\nvar _default = require('fs');\n\nmodule.exports = _default;\n","'use strict';\n\nfunction posix(path) {\n\treturn path.charAt(0) === '/';\n}\n\nfunction win32(path) {\n\t// https://github.com/nodejs/node/blob/b3fcc245fb25539909ef1d5eaa01dbf92e168633/lib/path.js#L56\n\tvar splitDeviceRe = /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\n\tvar result = splitDeviceRe.exec(path);\n\tvar device = result[1] || '';\n\tvar isUnc = Boolean(device && device.charAt(1) !== ':');\n\n\t// UNC paths are always absolute\n\treturn Boolean(result[2] || isUnc);\n}\n\nmodule.exports = process.platform === 'win32' ? win32 : posix;\nmodule.exports.posix = posix;\nmodule.exports.win32 = win32;\n",";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c\n          if (c === ']') {\n            parser.state = S.DOCTYPE\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            strictFail(parser, 'Unquoted attribute value')\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser)\n            parser.entity = ''\n            parser.state = returnState\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false\n      }\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    const sameDirectionIncreasing =\n      (this.operator === '>=' || this.operator === '>') &&\n      (comp.operator === '>=' || comp.operator === '>')\n    const sameDirectionDecreasing =\n      (this.operator === '<=' || this.operator === '<') &&\n      (comp.operator === '<=' || comp.operator === '<')\n    const sameSemVer = this.semver.version === comp.semver.version\n    const differentDirectionsInclusive =\n      (this.operator === '>=' || this.operator === '<=') &&\n      (comp.operator === '>=' || comp.operator === '<=')\n    const oppositeDirectionsLessThan =\n      cmp(this.semver, '<', comp.semver, options) &&\n      (this.operator === '>=' || this.operator === '>') &&\n        (comp.operator === '<=' || comp.operator === '<')\n    const oppositeDirectionsGreaterThan =\n      cmp(this.semver, '>', comp.semver, options) &&\n      (this.operator === '<=' || this.operator === '<') &&\n        (comp.operator === '>=' || comp.operator === '>')\n\n    return (\n      sameDirectionIncreasing ||\n      sameDirectionDecreasing ||\n      (sameSemVer && differentDirectionsInclusive) ||\n      oppositeDirectionsLessThan ||\n      oppositeDirectionsGreaterThan\n    )\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst {re, t} = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First, split based on boolean or ||\n    this.raw = range\n    this.set = range\n      .split(/\\s*\\|\\|\\s*/)\n      // map the range to a 2d array of comparators\n      .map(range => this.parseRange(range.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0)\n        this.set = [first]\n      else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => {\n        return comps.join(' ').trim()\n      })\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    range = range.trim()\n\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts = Object.keys(this.options).join(',')\n    const memoKey = `parseRange:${memoOpts}:${range}`\n    const cached = cache.get(memoKey)\n    if (cached)\n      return cached\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // normalize spaces\n    range = range.split(/\\s+/).join(' ')\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    const compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n      // in loose mode, throw out any that are not valid comparators\n      .filter(this.options.loose ? comp => !!comp.match(compRe) : () => true)\n      .map(comp => new Comparator(comp, this.options))\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const l = rangeList.length\n    const rangeMap = new Map()\n    for (const comp of rangeList) {\n      if (isNullSet(comp))\n        return [comp]\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has(''))\n      rangeMap.delete('')\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace\n} = require('../internal/re')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\nconst replaceTildes = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceTilde(comp, options)\n  }).join(' ')\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\nconst replaceCarets = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceCaret(comp, options)\n  }).join(' ')\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map((comp) => {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<')\n        pr = '-0'\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp.trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return (`${from} ${to}`).trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst {re, t} = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null)\n    return null\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const parse = require('./parse')\nconst eq = require('./eq')\n\nconst diff = (version1, version2) => {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    const v1 = parse(version1)\n    const v2 = parse(version2)\n    const hasPre = v1.prerelease.length || v2.prerelease.length\n    const prefix = hasPre ? 'pre' : ''\n    const defaultResult = hasPre ? 'prerelease' : ''\n    for (const key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\nmodule.exports = diff\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier) => {\n  if (typeof (options) === 'string') {\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(version, options).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const {MAX_LENGTH} = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parseOptions = require('../internal/parse-options')\nconst parse = (version, options) => {\n  options = parseOptions(options)\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nmodule.exports = {\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: require('./internal/constants').SEMVER_SPEC_VERSION,\n  SemVer: require('./classes/semver'),\n  compareIdentifiers: require('./internal/identifiers').compareIdentifiers,\n  rcompareIdentifiers: require('./internal/identifiers').rcompareIdentifiers,\n  parse: require('./functions/parse'),\n  valid: require('./functions/valid'),\n  clean: require('./functions/clean'),\n  inc: require('./functions/inc'),\n  diff: require('./functions/diff'),\n  major: require('./functions/major'),\n  minor: require('./functions/minor'),\n  patch: require('./functions/patch'),\n  prerelease: require('./functions/prerelease'),\n  compare: require('./functions/compare'),\n  rcompare: require('./functions/rcompare'),\n  compareLoose: require('./functions/compare-loose'),\n  compareBuild: require('./functions/compare-build'),\n  sort: require('./functions/sort'),\n  rsort: require('./functions/rsort'),\n  gt: require('./functions/gt'),\n  lt: require('./functions/lt'),\n  eq: require('./functions/eq'),\n  neq: require('./functions/neq'),\n  gte: require('./functions/gte'),\n  lte: require('./functions/lte'),\n  cmp: require('./functions/cmp'),\n  coerce: require('./functions/coerce'),\n  Comparator: require('./classes/comparator'),\n  Range: require('./classes/range'),\n  satisfies: require('./functions/satisfies'),\n  toComparators: require('./ranges/to-comparators'),\n  maxSatisfying: require('./ranges/max-satisfying'),\n  minSatisfying: require('./ranges/min-satisfying'),\n  minVersion: require('./ranges/min-version'),\n  validRange: require('./ranges/valid'),\n  outside: require('./ranges/outside'),\n  gtr: require('./ranges/gtr'),\n  ltr: require('./ranges/ltr'),\n  intersects: require('./ranges/intersects'),\n  simplifyRange: require('./ranges/simplify'),\n  subset: require('./ranges/subset'),\n}\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers\n}\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((options, k) => {\n    options[k] = true\n    return options\n  }, {})\nmodule.exports = parseOptions\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\.0\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\.0\\.0-0\\\\s*$')\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\nmodule.exports = intersects\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin)))\n      minver = setMin\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst {ANY} = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let min = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!min)\n        min = version\n    } else {\n      if (prev) {\n        set.push([min, prev])\n      }\n      prev = null\n      min = null\n    }\n  }\n  if (min)\n    set.push([min, null])\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max)\n      ranges.push(min)\n    else if (!max && min === v[0])\n      ranges.push('*')\n    else if (!max)\n      ranges.push(`>=${min}`)\n    else if (min === v[0])\n      ranges.push(`<=${max}`)\n    else\n      ranges.push(`${min} - ${max}`)\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom)\n    return true\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub)\n        continue OUTER\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull)\n      return false\n  }\n  return true\n}\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom)\n    return true\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY)\n      return true\n    else if (options.includePrerelease)\n      sub = [ new Comparator('>=0.0.0-0') ]\n    else\n      sub = [ new Comparator('>=0.0.0') ]\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease)\n      return true\n    else\n      dom = [ new Comparator('>=0.0.0') ]\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=')\n      gt = higherGT(gt, c, options)\n    else if (c.operator === '<' || c.operator === '<=')\n      lt = lowerLT(lt, c, options)\n    else\n      eqSet.add(c.semver)\n  }\n\n  if (eqSet.size > 1)\n    return null\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0)\n      return null\n    else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<='))\n      return null\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options))\n      return null\n\n    if (lt && !satisfies(eq, String(lt), options))\n      return null\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options))\n        return false\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt)\n          return false\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options))\n        return false\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt)\n          return false\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options))\n        return false\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0)\n      return false\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0)\n    return false\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0)\n    return false\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre)\n    return false\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","/*!\n * Tmp\n *\n * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>\n *\n * MIT Licensed\n */\n\n/*\n * Module dependencies.\n */\nconst fs = require('fs');\nconst os = require('os');\nconst path = require('path');\nconst crypto = require('crypto');\nconst _c = { fs: fs.constants, os: os.constants };\nconst rimraf = require('rimraf');\n\n/*\n * The working inner variables.\n */\nconst\n  // the random characters to choose from\n  RANDOM_CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n\n  TEMPLATE_PATTERN = /XXXXXX/,\n\n  DEFAULT_TRIES = 3,\n\n  CREATE_FLAGS = (_c.O_CREAT || _c.fs.O_CREAT) | (_c.O_EXCL || _c.fs.O_EXCL) | (_c.O_RDWR || _c.fs.O_RDWR),\n\n  // constants are off on the windows platform and will not match the actual errno codes\n  IS_WIN32 = os.platform() === 'win32',\n  EBADF = _c.EBADF || _c.os.errno.EBADF,\n  ENOENT = _c.ENOENT || _c.os.errno.ENOENT,\n\n  DIR_MODE = 0o700 /* 448 */,\n  FILE_MODE = 0o600 /* 384 */,\n\n  EXIT = 'exit',\n\n  // this will hold the objects need to be removed on exit\n  _removeObjects = [],\n\n  // API change in fs.rmdirSync leads to error when passing in a second parameter, e.g. the callback\n  FN_RMDIR_SYNC = fs.rmdirSync.bind(fs),\n  FN_RIMRAF_SYNC = rimraf.sync;\n\nlet\n  _gracefulCleanup = false;\n\n/**\n * Gets a temporary file name.\n *\n * @param {(Options|tmpNameCallback)} options options or callback\n * @param {?tmpNameCallback} callback the callback function\n */\nfunction tmpName(options, callback) {\n  const\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1];\n\n  try {\n    _assertAndSanitizeOptions(opts);\n  } catch (err) {\n    return cb(err);\n  }\n\n  let tries = opts.tries;\n  (function _getUniqueName() {\n    try {\n      const name = _generateTmpName(opts);\n\n      // check whether the path exists then retry if needed\n      fs.stat(name, function (err) {\n        /* istanbul ignore else */\n        if (!err) {\n          /* istanbul ignore else */\n          if (tries-- > 0) return _getUniqueName();\n\n          return cb(new Error('Could not get a unique tmp filename, max tries reached ' + name));\n        }\n\n        cb(null, name);\n      });\n    } catch (err) {\n      cb(err);\n    }\n  }());\n}\n\n/**\n * Synchronous version of tmpName.\n *\n * @param {Object} options\n * @returns {string} the generated random name\n * @throws {Error} if the options are invalid or could not generate a filename\n */\nfunction tmpNameSync(options) {\n  const\n    args = _parseArguments(options),\n    opts = args[0];\n\n  _assertAndSanitizeOptions(opts);\n\n  let tries = opts.tries;\n  do {\n    const name = _generateTmpName(opts);\n    try {\n      fs.statSync(name);\n    } catch (e) {\n      return name;\n    }\n  } while (tries-- > 0);\n\n  throw new Error('Could not get a unique tmp filename, max tries reached');\n}\n\n/**\n * Creates and opens a temporary file.\n *\n * @param {(Options|null|undefined|fileCallback)} options the config options or the callback function or null or undefined\n * @param {?fileCallback} callback\n */\nfunction file(options, callback) {\n  const\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1];\n\n  // gets a temporary filename\n  tmpName(opts, function _tmpNameCreated(err, name) {\n    /* istanbul ignore else */\n    if (err) return cb(err);\n\n    // create and open the file\n    fs.open(name, CREATE_FLAGS, opts.mode || FILE_MODE, function _fileCreated(err, fd) {\n      /* istanbu ignore else */\n      if (err) return cb(err);\n\n      if (opts.discardDescriptor) {\n        return fs.close(fd, function _discardCallback(possibleErr) {\n          // the chance of getting an error on close here is rather low and might occur in the most edgiest cases only\n          return cb(possibleErr, name, undefined, _prepareTmpFileRemoveCallback(name, -1, opts, false));\n        });\n      } else {\n        // detachDescriptor passes the descriptor whereas discardDescriptor closes it, either way, we no longer care\n        // about the descriptor\n        const discardOrDetachDescriptor = opts.discardDescriptor || opts.detachDescriptor;\n        cb(null, name, fd, _prepareTmpFileRemoveCallback(name, discardOrDetachDescriptor ? -1 : fd, opts, false));\n      }\n    });\n  });\n}\n\n/**\n * Synchronous version of file.\n *\n * @param {Options} options\n * @returns {FileSyncObject} object consists of name, fd and removeCallback\n * @throws {Error} if cannot create a file\n */\nfunction fileSync(options) {\n  const\n    args = _parseArguments(options),\n    opts = args[0];\n\n  const discardOrDetachDescriptor = opts.discardDescriptor || opts.detachDescriptor;\n  const name = tmpNameSync(opts);\n  var fd = fs.openSync(name, CREATE_FLAGS, opts.mode || FILE_MODE);\n  /* istanbul ignore else */\n  if (opts.discardDescriptor) {\n    fs.closeSync(fd);\n    fd = undefined;\n  }\n\n  return {\n    name: name,\n    fd: fd,\n    removeCallback: _prepareTmpFileRemoveCallback(name, discardOrDetachDescriptor ? -1 : fd, opts, true)\n  };\n}\n\n/**\n * Creates a temporary directory.\n *\n * @param {(Options|dirCallback)} options the options or the callback function\n * @param {?dirCallback} callback\n */\nfunction dir(options, callback) {\n  const\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1];\n\n  // gets a temporary filename\n  tmpName(opts, function _tmpNameCreated(err, name) {\n    /* istanbul ignore else */\n    if (err) return cb(err);\n\n    // create the directory\n    fs.mkdir(name, opts.mode || DIR_MODE, function _dirCreated(err) {\n      /* istanbul ignore else */\n      if (err) return cb(err);\n\n      cb(null, name, _prepareTmpDirRemoveCallback(name, opts, false));\n    });\n  });\n}\n\n/**\n * Synchronous version of dir.\n *\n * @param {Options} options\n * @returns {DirSyncObject} object consists of name and removeCallback\n * @throws {Error} if it cannot create a directory\n */\nfunction dirSync(options) {\n  const\n    args = _parseArguments(options),\n    opts = args[0];\n\n  const name = tmpNameSync(opts);\n  fs.mkdirSync(name, opts.mode || DIR_MODE);\n\n  return {\n    name: name,\n    removeCallback: _prepareTmpDirRemoveCallback(name, opts, true)\n  };\n}\n\n/**\n * Removes files asynchronously.\n *\n * @param {Object} fdPath\n * @param {Function} next\n * @private\n */\nfunction _removeFileAsync(fdPath, next) {\n  const _handler = function (err) {\n    if (err && !_isENOENT(err)) {\n      // reraise any unanticipated error\n      return next(err);\n    }\n    next();\n  };\n\n  if (0 <= fdPath[0])\n    fs.close(fdPath[0], function () {\n      fs.unlink(fdPath[1], _handler);\n    });\n  else fs.unlink(fdPath[1], _handler);\n}\n\n/**\n * Removes files synchronously.\n *\n * @param {Object} fdPath\n * @private\n */\nfunction _removeFileSync(fdPath) {\n  let rethrownException = null;\n  try {\n    if (0 <= fdPath[0]) fs.closeSync(fdPath[0]);\n  } catch (e) {\n    // reraise any unanticipated error\n    if (!_isEBADF(e) && !_isENOENT(e)) throw e;\n  } finally {\n    try {\n      fs.unlinkSync(fdPath[1]);\n    }\n    catch (e) {\n      // reraise any unanticipated error\n      if (!_isENOENT(e)) rethrownException = e;\n    }\n  }\n  if (rethrownException !== null) {\n    throw rethrownException;\n  }\n}\n\n/**\n * Prepares the callback for removal of the temporary file.\n *\n * Returns either a sync callback or a async callback depending on whether\n * fileSync or file was called, which is expressed by the sync parameter.\n *\n * @param {string} name the path of the file\n * @param {number} fd file descriptor\n * @param {Object} opts\n * @param {boolean} sync\n * @returns {fileCallback | fileCallbackSync}\n * @private\n */\nfunction _prepareTmpFileRemoveCallback(name, fd, opts, sync) {\n  const removeCallbackSync = _prepareRemoveCallback(_removeFileSync, [fd, name], sync);\n  const removeCallback = _prepareRemoveCallback(_removeFileAsync, [fd, name], sync, removeCallbackSync);\n\n  if (!opts.keep) _removeObjects.unshift(removeCallbackSync);\n\n  return sync ? removeCallbackSync : removeCallback;\n}\n\n/**\n * Prepares the callback for removal of the temporary directory.\n *\n * Returns either a sync callback or a async callback depending on whether\n * tmpFileSync or tmpFile was called, which is expressed by the sync parameter.\n *\n * @param {string} name\n * @param {Object} opts\n * @param {boolean} sync\n * @returns {Function} the callback\n * @private\n */\nfunction _prepareTmpDirRemoveCallback(name, opts, sync) {\n  const removeFunction = opts.unsafeCleanup ? rimraf : fs.rmdir.bind(fs);\n  const removeFunctionSync = opts.unsafeCleanup ? FN_RIMRAF_SYNC : FN_RMDIR_SYNC;\n  const removeCallbackSync = _prepareRemoveCallback(removeFunctionSync, name, sync);\n  const removeCallback = _prepareRemoveCallback(removeFunction, name, sync, removeCallbackSync);\n  if (!opts.keep) _removeObjects.unshift(removeCallbackSync);\n\n  return sync ? removeCallbackSync : removeCallback;\n}\n\n/**\n * Creates a guarded function wrapping the removeFunction call.\n *\n * The cleanup callback is save to be called multiple times.\n * Subsequent invocations will be ignored.\n *\n * @param {Function} removeFunction\n * @param {string} fileOrDirName\n * @param {boolean} sync\n * @param {cleanupCallbackSync?} cleanupCallbackSync\n * @returns {cleanupCallback | cleanupCallbackSync}\n * @private\n */\nfunction _prepareRemoveCallback(removeFunction, fileOrDirName, sync, cleanupCallbackSync) {\n  let called = false;\n\n  // if sync is true, the next parameter will be ignored\n  return function _cleanupCallback(next) {\n\n    /* istanbul ignore else */\n    if (!called) {\n      // remove cleanupCallback from cache\n      const toRemove = cleanupCallbackSync || _cleanupCallback;\n      const index = _removeObjects.indexOf(toRemove);\n      /* istanbul ignore else */\n      if (index >= 0) _removeObjects.splice(index, 1);\n\n      called = true;\n      if (sync || removeFunction === FN_RMDIR_SYNC || removeFunction === FN_RIMRAF_SYNC) {\n        return removeFunction(fileOrDirName);\n      } else {\n        return removeFunction(fileOrDirName, next || function() {});\n      }\n    }\n  };\n}\n\n/**\n * The garbage collector.\n *\n * @private\n */\nfunction _garbageCollector() {\n  /* istanbul ignore else */\n  if (!_gracefulCleanup) return;\n\n  // the function being called removes itself from _removeObjects,\n  // loop until _removeObjects is empty\n  while (_removeObjects.length) {\n    try {\n      _removeObjects[0]();\n    } catch (e) {\n      // already removed?\n    }\n  }\n}\n\n/**\n * Random name generator based on crypto.\n * Adapted from http://blog.tompawlak.org/how-to-generate-random-values-nodejs-javascript\n *\n * @param {number} howMany\n * @returns {string} the generated random name\n * @private\n */\nfunction _randomChars(howMany) {\n  let\n    value = [],\n    rnd = null;\n\n  // make sure that we do not fail because we ran out of entropy\n  try {\n    rnd = crypto.randomBytes(howMany);\n  } catch (e) {\n    rnd = crypto.pseudoRandomBytes(howMany);\n  }\n\n  for (var i = 0; i < howMany; i++) {\n    value.push(RANDOM_CHARS[rnd[i] % RANDOM_CHARS.length]);\n  }\n\n  return value.join('');\n}\n\n/**\n * Helper which determines whether a string s is blank, that is undefined, or empty or null.\n *\n * @private\n * @param {string} s\n * @returns {Boolean} true whether the string s is blank, false otherwise\n */\nfunction _isBlank(s) {\n  return s === null || _isUndefined(s) || !s.trim();\n}\n\n/**\n * Checks whether the `obj` parameter is defined or not.\n *\n * @param {Object} obj\n * @returns {boolean} true if the object is undefined\n * @private\n */\nfunction _isUndefined(obj) {\n  return typeof obj === 'undefined';\n}\n\n/**\n * Parses the function arguments.\n *\n * This function helps to have optional arguments.\n *\n * @param {(Options|null|undefined|Function)} options\n * @param {?Function} callback\n * @returns {Array} parsed arguments\n * @private\n */\nfunction _parseArguments(options, callback) {\n  /* istanbul ignore else */\n  if (typeof options === 'function') {\n    return [{}, options];\n  }\n\n  /* istanbul ignore else */\n  if (_isUndefined(options)) {\n    return [{}, callback];\n  }\n\n  // copy options so we do not leak the changes we make internally\n  const actualOptions = {};\n  for (const key of Object.getOwnPropertyNames(options)) {\n    actualOptions[key] = options[key];\n  }\n\n  return [actualOptions, callback];\n}\n\n/**\n * Generates a new temporary name.\n *\n * @param {Object} opts\n * @returns {string} the new random name according to opts\n * @private\n */\nfunction _generateTmpName(opts) {\n\n  const tmpDir = opts.tmpdir;\n\n  /* istanbul ignore else */\n  if (!_isUndefined(opts.name))\n    return path.join(tmpDir, opts.dir, opts.name);\n\n  /* istanbul ignore else */\n  if (!_isUndefined(opts.template))\n    return path.join(tmpDir, opts.dir, opts.template).replace(TEMPLATE_PATTERN, _randomChars(6));\n\n  // prefix and postfix\n  const name = [\n    opts.prefix ? opts.prefix : 'tmp',\n    '-',\n    process.pid,\n    '-',\n    _randomChars(12),\n    opts.postfix ? '-' + opts.postfix : ''\n  ].join('');\n\n  return path.join(tmpDir, opts.dir, name);\n}\n\n/**\n * Asserts whether the specified options are valid, also sanitizes options and provides sane defaults for missing\n * options.\n *\n * @param {Options} options\n * @private\n */\nfunction _assertAndSanitizeOptions(options) {\n\n  options.tmpdir = _getTmpDir(options);\n\n  const tmpDir = options.tmpdir;\n\n  /* istanbul ignore else */\n  if (!_isUndefined(options.name))\n    _assertIsRelative(options.name, 'name', tmpDir);\n  /* istanbul ignore else */\n  if (!_isUndefined(options.dir))\n    _assertIsRelative(options.dir, 'dir', tmpDir);\n  /* istanbul ignore else */\n  if (!_isUndefined(options.template)) {\n    _assertIsRelative(options.template, 'template', tmpDir);\n    if (!options.template.match(TEMPLATE_PATTERN))\n      throw new Error(`Invalid template, found \"${options.template}\".`);\n  }\n  /* istanbul ignore else */\n  if (!_isUndefined(options.tries) && isNaN(options.tries) || options.tries < 0)\n    throw new Error(`Invalid tries, found \"${options.tries}\".`);\n\n  // if a name was specified we will try once\n  options.tries = _isUndefined(options.name) ? options.tries || DEFAULT_TRIES : 1;\n  options.keep = !!options.keep;\n  options.detachDescriptor = !!options.detachDescriptor;\n  options.discardDescriptor = !!options.discardDescriptor;\n  options.unsafeCleanup = !!options.unsafeCleanup;\n\n  // sanitize dir, also keep (multiple) blanks if the user, purportedly sane, requests us to\n  options.dir = _isUndefined(options.dir) ? '' : path.relative(tmpDir, _resolvePath(options.dir, tmpDir));\n  options.template = _isUndefined(options.template) ? undefined : path.relative(tmpDir, _resolvePath(options.template, tmpDir));\n  // sanitize further if template is relative to options.dir\n  options.template = _isBlank(options.template) ? undefined : path.relative(options.dir, options.template);\n\n  // for completeness' sake only, also keep (multiple) blanks if the user, purportedly sane, requests us to\n  options.name = _isUndefined(options.name) ? undefined : _sanitizeName(options.name);\n  options.prefix = _isUndefined(options.prefix) ? '' : options.prefix;\n  options.postfix = _isUndefined(options.postfix) ? '' : options.postfix;\n}\n\n/**\n * Resolve the specified path name in respect to tmpDir.\n *\n * The specified name might include relative path components, e.g. ../\n * so we need to resolve in order to be sure that is is located inside tmpDir\n *\n * @param name\n * @param tmpDir\n * @returns {string}\n * @private\n */\nfunction _resolvePath(name, tmpDir) {\n  const sanitizedName = _sanitizeName(name);\n  if (sanitizedName.startsWith(tmpDir)) {\n    return path.resolve(sanitizedName);\n  } else {\n    return path.resolve(path.join(tmpDir, sanitizedName));\n  }\n}\n\n/**\n * Sanitize the specified path name by removing all quote characters.\n *\n * @param name\n * @returns {string}\n * @private\n */\nfunction _sanitizeName(name) {\n  if (_isBlank(name)) {\n    return name;\n  }\n  return name.replace(/[\"']/g, '');\n}\n\n/**\n * Asserts whether specified name is relative to the specified tmpDir.\n *\n * @param {string} name\n * @param {string} option\n * @param {string} tmpDir\n * @throws {Error}\n * @private\n */\nfunction _assertIsRelative(name, option, tmpDir) {\n  if (option === 'name') {\n    // assert that name is not absolute and does not contain a path\n    if (path.isAbsolute(name))\n      throw new Error(`${option} option must not contain an absolute path, found \"${name}\".`);\n    // must not fail on valid .<name> or ..<name> or similar such constructs\n    let basename = path.basename(name);\n    if (basename === '..' || basename === '.' || basename !== name)\n      throw new Error(`${option} option must not contain a path, found \"${name}\".`);\n  }\n  else { // if (option === 'dir' || option === 'template') {\n    // assert that dir or template are relative to tmpDir\n    if (path.isAbsolute(name) && !name.startsWith(tmpDir)) {\n      throw new Error(`${option} option must be relative to \"${tmpDir}\", found \"${name}\".`);\n    }\n    let resolvedPath = _resolvePath(name, tmpDir);\n    if (!resolvedPath.startsWith(tmpDir))\n      throw new Error(`${option} option must be relative to \"${tmpDir}\", found \"${resolvedPath}\".`);\n  }\n}\n\n/**\n * Helper for testing against EBADF to compensate changes made to Node 7.x under Windows.\n *\n * @private\n */\nfunction _isEBADF(error) {\n  return _isExpectedError(error, -EBADF, 'EBADF');\n}\n\n/**\n * Helper for testing against ENOENT to compensate changes made to Node 7.x under Windows.\n *\n * @private\n */\nfunction _isENOENT(error) {\n  return _isExpectedError(error, -ENOENT, 'ENOENT');\n}\n\n/**\n * Helper to determine whether the expected error code matches the actual code and errno,\n * which will differ between the supported node versions.\n *\n * - Node >= 7.0:\n *   error.code {string}\n *   error.errno {number} any numerical value will be negated\n *\n * CAVEAT\n *\n * On windows, the errno for EBADF is -4083 but os.constants.errno.EBADF is different and we must assume that ENOENT\n * is no different here.\n *\n * @param {SystemError} error\n * @param {number} errno\n * @param {string} code\n * @private\n */\nfunction _isExpectedError(error, errno, code) {\n  return IS_WIN32 ? error.code === code : error.code === code && error.errno === errno;\n}\n\n/**\n * Sets the graceful cleanup.\n *\n * If graceful cleanup is set, tmp will remove all controlled temporary objects on process exit, otherwise the\n * temporary objects will remain in place, waiting to be cleaned up on system restart or otherwise scheduled temporary\n * object removals.\n */\nfunction setGracefulCleanup() {\n  _gracefulCleanup = true;\n}\n\n/**\n * Returns the currently configured tmp dir from os.tmpdir().\n *\n * @private\n * @param {?Options} options\n * @returns {string} the currently configured tmp dir\n */\nfunction _getTmpDir(options) {\n  return path.resolve(_sanitizeName(options && options.tmpdir || os.tmpdir()));\n}\n\n// Install process exit listener\nprocess.addListener(EXIT, _garbageCollector);\n\n/**\n * Configuration options.\n *\n * @typedef {Object} Options\n * @property {?boolean} keep the temporary object (file or dir) will not be garbage collected\n * @property {?number} tries the number of tries before give up the name generation\n * @property (?int) mode the access mode, defaults are 0o700 for directories and 0o600 for files\n * @property {?string} template the \"mkstemp\" like filename template\n * @property {?string} name fixed name relative to tmpdir or the specified dir option\n * @property {?string} dir tmp directory relative to the root tmp directory in use\n * @property {?string} prefix prefix for the generated name\n * @property {?string} postfix postfix for the generated name\n * @property {?string} tmpdir the root tmp directory which overrides the os tmpdir\n * @property {?boolean} unsafeCleanup recursively removes the created temporary directory, even when it's not empty\n * @property {?boolean} detachDescriptor detaches the file descriptor, caller is responsible for closing the file, tmp will no longer try closing the file during garbage collection\n * @property {?boolean} discardDescriptor discards the file descriptor (closes file, fd is -1), tmp will no longer try closing the file during garbage collection\n */\n\n/**\n * @typedef {Object} FileSyncObject\n * @property {string} name the name of the file\n * @property {string} fd the file descriptor or -1 if the fd has been discarded\n * @property {fileCallback} removeCallback the callback function to remove the file\n */\n\n/**\n * @typedef {Object} DirSyncObject\n * @property {string} name the name of the directory\n * @property {fileCallback} removeCallback the callback function to remove the directory\n */\n\n/**\n * @callback tmpNameCallback\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n */\n\n/**\n * @callback fileCallback\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {number} fd the file descriptor or -1 if the fd had been discarded\n * @param {cleanupCallback} fn the cleanup callback function\n */\n\n/**\n * @callback fileCallbackSync\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {number} fd the file descriptor or -1 if the fd had been discarded\n * @param {cleanupCallbackSync} fn the cleanup callback function\n */\n\n/**\n * @callback dirCallback\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {cleanupCallback} fn the cleanup callback function\n */\n\n/**\n * @callback dirCallbackSync\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {cleanupCallbackSync} fn the cleanup callback function\n */\n\n/**\n * Removes the temporary created file or directory.\n *\n * @callback cleanupCallback\n * @param {simpleCallback} [next] function to call whenever the tmp object needs to be removed\n */\n\n/**\n * Removes the temporary created file or directory.\n *\n * @callback cleanupCallbackSync\n */\n\n/**\n * Callback function for function composition.\n * @see {@link https://github.com/raszi/node-tmp/issues/57|raszi/node-tmp#57}\n *\n * @callback simpleCallback\n */\n\n// exporting all the needed methods\n\n// evaluate _getTmpDir() lazily, mainly for simplifying testing but it also will\n// allow users to reconfigure the temporary directory\nObject.defineProperty(module.exports, 'tmpdir', {\n  enumerable: true,\n  configurable: false,\n  get: function () {\n    return _getTmpDir();\n  }\n});\n\nmodule.exports.dir = dir;\nmodule.exports.dirSync = dirSync;\n\nmodule.exports.file = file;\nmodule.exports.fileSync = fileSync;\n\nmodule.exports.tmpName = tmpName;\nmodule.exports.tmpNameSync = tmpNameSync;\n\nmodule.exports.setGracefulCleanup = setGracefulCleanup;\n","const assert = require(\"assert\")\nconst path = require(\"path\")\nconst fs = require(\"fs\")\nlet glob = undefined\ntry {\n  glob = require(\"glob\")\n} catch (_err) {\n  // treat glob as optional.\n}\n\nconst defaultGlobOpts = {\n  nosort: true,\n  silent: true\n}\n\n// for EMFILE handling\nlet timeout = 0\n\nconst isWindows = (process.platform === \"win32\")\n\nconst defaults = options => {\n  const methods = [\n    'unlink',\n    'chmod',\n    'stat',\n    'lstat',\n    'rmdir',\n    'readdir'\n  ]\n  methods.forEach(m => {\n    options[m] = options[m] || fs[m]\n    m = m + 'Sync'\n    options[m] = options[m] || fs[m]\n  })\n\n  options.maxBusyTries = options.maxBusyTries || 3\n  options.emfileWait = options.emfileWait || 1000\n  if (options.glob === false) {\n    options.disableGlob = true\n  }\n  if (options.disableGlob !== true && glob === undefined) {\n    throw Error('glob dependency not found, set `options.disableGlob = true` if intentional')\n  }\n  options.disableGlob = options.disableGlob || false\n  options.glob = options.glob || defaultGlobOpts\n}\n\nconst rimraf = (p, options, cb) => {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert.equal(typeof cb, 'function', 'rimraf: callback function required')\n  assert(options, 'rimraf: invalid options argument provided')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  defaults(options)\n\n  let busyTries = 0\n  let errState = null\n  let n = 0\n\n  const next = (er) => {\n    errState = errState || er\n    if (--n === 0)\n      cb(errState)\n  }\n\n  const afterGlob = (er, results) => {\n    if (er)\n      return cb(er)\n\n    n = results.length\n    if (n === 0)\n      return cb()\n\n    results.forEach(p => {\n      const CB = (er) => {\n        if (er) {\n          if ((er.code === \"EBUSY\" || er.code === \"ENOTEMPTY\" || er.code === \"EPERM\") &&\n              busyTries < options.maxBusyTries) {\n            busyTries ++\n            // try again, with the same exact callback as this one.\n            return setTimeout(() => rimraf_(p, options, CB), busyTries * 100)\n          }\n\n          // this one won't happen if graceful-fs is used.\n          if (er.code === \"EMFILE\" && timeout < options.emfileWait) {\n            return setTimeout(() => rimraf_(p, options, CB), timeout ++)\n          }\n\n          // already gone\n          if (er.code === \"ENOENT\") er = null\n        }\n\n        timeout = 0\n        next(er)\n      }\n      rimraf_(p, options, CB)\n    })\n  }\n\n  if (options.disableGlob || !glob.hasMagic(p))\n    return afterGlob(null, [p])\n\n  options.lstat(p, (er, stat) => {\n    if (!er)\n      return afterGlob(null, [p])\n\n    glob(p, options.glob, afterGlob)\n  })\n\n}\n\n// Two possible strategies.\n// 1. Assume it's a file.  unlink it, then do the dir stuff on EPERM or EISDIR\n// 2. Assume it's a directory.  readdir, then do the file stuff on ENOTDIR\n//\n// Both result in an extra syscall when you guess wrong.  However, there\n// are likely far more normal files in the world than directories.  This\n// is based on the assumption that a the average number of files per\n// directory is >= 1.\n//\n// If anyone ever complains about this, then I guess the strategy could\n// be made configurable somehow.  But until then, YAGNI.\nconst rimraf_ = (p, options, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // sunos lets the root user unlink directories, which is... weird.\n  // so we have to lstat here and make sure it's not a dir.\n  options.lstat(p, (er, st) => {\n    if (er && er.code === \"ENOENT\")\n      return cb(null)\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er && er.code === \"EPERM\" && isWindows)\n      fixWinEPERM(p, options, er, cb)\n\n    if (st && st.isDirectory())\n      return rmdir(p, options, er, cb)\n\n    options.unlink(p, er => {\n      if (er) {\n        if (er.code === \"ENOENT\")\n          return cb(null)\n        if (er.code === \"EPERM\")\n          return (isWindows)\n            ? fixWinEPERM(p, options, er, cb)\n            : rmdir(p, options, er, cb)\n        if (er.code === \"EISDIR\")\n          return rmdir(p, options, er, cb)\n      }\n      return cb(er)\n    })\n  })\n}\n\nconst fixWinEPERM = (p, options, er, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.chmod(p, 0o666, er2 => {\n    if (er2)\n      cb(er2.code === \"ENOENT\" ? null : er)\n    else\n      options.stat(p, (er3, stats) => {\n        if (er3)\n          cb(er3.code === \"ENOENT\" ? null : er)\n        else if (stats.isDirectory())\n          rmdir(p, options, er, cb)\n        else\n          options.unlink(p, cb)\n      })\n  })\n}\n\nconst fixWinEPERMSync = (p, options, er) => {\n  assert(p)\n  assert(options)\n\n  try {\n    options.chmodSync(p, 0o666)\n  } catch (er2) {\n    if (er2.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  let stats\n  try {\n    stats = options.statSync(p)\n  } catch (er3) {\n    if (er3.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  if (stats.isDirectory())\n    rmdirSync(p, options, er)\n  else\n    options.unlinkSync(p)\n}\n\nconst rmdir = (p, options, originalEr, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // try to rmdir first, and only readdir on ENOTEMPTY or EEXIST (SunOS)\n  // if we guessed wrong, and it's not a directory, then\n  // raise the original error.\n  options.rmdir(p, er => {\n    if (er && (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\"))\n      rmkids(p, options, cb)\n    else if (er && er.code === \"ENOTDIR\")\n      cb(originalEr)\n    else\n      cb(er)\n  })\n}\n\nconst rmkids = (p, options, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.readdir(p, (er, files) => {\n    if (er)\n      return cb(er)\n    let n = files.length\n    if (n === 0)\n      return options.rmdir(p, cb)\n    let errState\n    files.forEach(f => {\n      rimraf(path.join(p, f), options, er => {\n        if (errState)\n          return\n        if (er)\n          return cb(errState = er)\n        if (--n === 0)\n          options.rmdir(p, cb)\n      })\n    })\n  })\n}\n\n// this looks simpler, and is strictly *faster*, but will\n// tie up the JavaScript thread and fail on excessively\n// deep directory trees.\nconst rimrafSync = (p, options) => {\n  options = options || {}\n  defaults(options)\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert(options, 'rimraf: missing options')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  let results\n\n  if (options.disableGlob || !glob.hasMagic(p)) {\n    results = [p]\n  } else {\n    try {\n      options.lstatSync(p)\n      results = [p]\n    } catch (er) {\n      results = glob.sync(p, options.glob)\n    }\n  }\n\n  if (!results.length)\n    return\n\n  for (let i = 0; i < results.length; i++) {\n    const p = results[i]\n\n    let st\n    try {\n      st = options.lstatSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n\n      // Windows can EPERM on stat.  Life is suffering.\n      if (er.code === \"EPERM\" && isWindows)\n        fixWinEPERMSync(p, options, er)\n    }\n\n    try {\n      // sunos lets the root user unlink directories, which is... weird.\n      if (st && st.isDirectory())\n        rmdirSync(p, options, null)\n      else\n        options.unlinkSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n      if (er.code === \"EPERM\")\n        return isWindows ? fixWinEPERMSync(p, options, er) : rmdirSync(p, options, er)\n      if (er.code !== \"EISDIR\")\n        throw er\n\n      rmdirSync(p, options, er)\n    }\n  }\n}\n\nconst rmdirSync = (p, options, originalEr) => {\n  assert(p)\n  assert(options)\n\n  try {\n    options.rmdirSync(p)\n  } catch (er) {\n    if (er.code === \"ENOENT\")\n      return\n    if (er.code === \"ENOTDIR\")\n      throw originalEr\n    if (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\")\n      rmkidsSync(p, options)\n  }\n}\n\nconst rmkidsSync = (p, options) => {\n  assert(p)\n  assert(options)\n  options.readdirSync(p).forEach(f => rimrafSync(path.join(p, f), options))\n\n  // We only end up here once we got ENOTEMPTY at least once, and\n  // at this point, we are guaranteed to have removed all the kids.\n  // So, we know that it won't be ENOENT or ENOTDIR or anything else.\n  // try really hard to delete stuff on windows, because it has a\n  // PROFOUNDLY annoying habit of not closing handles promptly when\n  // files are deleted, resulting in spurious ENOTEMPTY errors.\n  const retries = isWindows ? 100 : 1\n  let i = 0\n  do {\n    let threw = true\n    try {\n      const ret = options.rmdirSync(p, options)\n      threw = false\n      return ret\n    } finally {\n      if (++i < retries && threw)\n        continue\n    }\n  } while (true)\n}\n\nmodule.exports = rimraf\nrimraf.sync = rimrafSync\n","import { QuickPickItem, window } from \"vscode\";\nimport { configuration } from \"./helpers/configuration\";\nimport ChangeListItem from \"./quickPickItems/changeListItem\";\nimport IgnoredChangeListItem from \"./quickPickItems/ignoredChangeListItem\";\nimport NewChangeListItem from \"./quickPickItems/newChangeListItem\";\nimport RemoveChangeListItem from \"./quickPickItems/removeChangeListItem\";\nimport { Repository } from \"./repository\";\nimport { FileItem } from \"./quickPickItems/fileItem\";\n\nexport function getChangelistPickOptions(\n  repository: Repository,\n  canRemove = false\n): QuickPickItem[] {\n  const picks: QuickPickItem[] = [];\n\n  picks.push(new NewChangeListItem());\n  repository.changelists.forEach((group, _changelist) => {\n    if (group.resourceStates.length) {\n      picks.push(new ChangeListItem(group));\n    }\n  });\n\n  const ignoreOnCommitList = configuration.get<string[]>(\n    \"sourceControl.ignoreOnCommit\"\n  );\n  for (const ignoreOnCommit of ignoreOnCommitList) {\n    if (!picks.some(p => p.label === ignoreOnCommit)) {\n      picks.push(new IgnoredChangeListItem(ignoreOnCommit));\n    }\n  }\n\n  if (canRemove) {\n    picks.push(new RemoveChangeListItem());\n  }\n\n  return picks;\n}\n\nexport function getCommitChangelistPickOptions(\n  repository: Repository\n): ChangeListItem[] {\n  const picks: ChangeListItem[] = [];\n\n  if (repository.changes.resourceStates.length) {\n    picks.push(new ChangeListItem(repository.changes));\n  }\n\n  const ignoreOnCommitList = configuration.get<string[]>(\n    \"sourceControl.ignoreOnCommit\"\n  );\n\n  repository.changelists.forEach((group, changelist) => {\n    if (\n      group.resourceStates.length &&\n      !ignoreOnCommitList.includes(changelist)\n    ) {\n      picks.push(new ChangeListItem(group));\n    }\n  });\n  return picks;\n}\n\nexport async function inputSwitchChangelist(\n  repository: Repository,\n  canRemove = false\n) {\n  const picks: QuickPickItem[] = getChangelistPickOptions(\n    repository,\n    canRemove\n  );\n\n  const selectedChoice: any = await window.showQuickPick(picks, {\n    placeHolder: \"Select an existing changelist or create a new\"\n  });\n  if (!selectedChoice) {\n    return;\n  }\n\n  let changelistName;\n\n  if (selectedChoice instanceof RemoveChangeListItem) {\n    return false;\n  } else if (selectedChoice instanceof NewChangeListItem) {\n    const newChangelistName = await window.showInputBox({\n      placeHolder: \"Changelist name\",\n      prompt: \"Please enter a changelist name\"\n    });\n    if (!newChangelistName) {\n      return;\n    }\n    changelistName = newChangelistName;\n  } else {\n    changelistName = selectedChoice.label;\n  }\n\n  return changelistName;\n}\n\nexport async function inputCommitChangelist(repository: Repository) {\n  const picks: ChangeListItem[] = getCommitChangelistPickOptions(repository);\n\n  if (picks.length === 0) {\n    window.showInformationMessage(\"There are no changes to commit.\");\n    return;\n  }\n\n  let choice;\n  // If has only changes, not prompt to select changelist\n  if (picks.length === 1 && repository.changes.resourceStates.length) {\n    choice = picks[0];\n  } else {\n    choice = await window.showQuickPick(picks, {\n      placeHolder: \"Select a changelist to commit\"\n    });\n  }\n\n  return choice;\n}\n\nexport async function inputCommitFiles(repository: Repository) {\n  const choice = await inputCommitChangelist(repository);\n  if (!choice) {\n    return;\n  }\n\n  if (\n    choice.id === \"changes\" &&\n    choice.resourceGroup.resourceStates.length > 1\n  ) {\n    const selectedAll = configuration.get(\"commit.changes.selectedAll\", true);\n\n    const picks = choice.resourceGroup.resourceStates.map(\n      r => new FileItem(repository, r, selectedAll)\n    );\n    const selected = await window.showQuickPick(picks, {\n      placeHolder: \"Select files to commit\",\n      canPickMany: true\n    });\n\n    if (selected !== undefined && selected.length > 0) {\n      return selected.map(s => s.state);\n    }\n\n    return;\n  }\n\n  return choice.resourceGroup.resourceStates;\n}\n\nexport function patchChangelistOptions(repository: Repository) {\n  const picks: QuickPickItem[] = [];\n\n  repository.changelists.forEach((group, _changelist) => {\n    if (group.resourceStates.length) {\n      picks.push(new ChangeListItem(group));\n    }\n  });\n\n  return picks;\n}\n\nexport async function getPatchChangelist(repository: Repository) {\n  const picks: QuickPickItem[] = patchChangelistOptions(repository);\n\n  if (!picks.length) {\n    window.showErrorMessage(\"No changelists to pick from\");\n    return;\n  }\n\n  const selectedChoice: any = await window.showQuickPick(picks, {\n    placeHolder: \"Select a changelist\"\n  });\n  if (!selectedChoice) {\n    return;\n  }\n\n  return selectedChoice.label;\n}\n","import { Disposable } from \"vscode\";\nimport { Add } from \"./commands/add\";\nimport { AddToIgnoreExplorer } from \"./commands/addToIgnoreExplorer\";\nimport { AddToIgnoreSCM } from \"./commands/addToIgnoreSCM\";\nimport { ChangeList } from \"./commands/changeList\";\nimport { Checkout } from \"./commands/checkout\";\nimport { Cleanup } from \"./commands/cleanup\";\nimport { Close } from \"./commands/close\";\nimport { Commit } from \"./commands/commit\";\nimport { CommitWithMessage } from \"./commands/commitWithMessage\";\nimport { DeleteUnversioned } from \"./commands/deleteUnversioned\";\nimport { FileOpen } from \"./commands/fileOpen\";\nimport { FinishCheckout } from \"./commands/finishCheckout\";\nimport { GetSourceControlManager } from \"./commands/get_source_control_manager\";\nimport { Log } from \"./commands/log\";\nimport { OpenChangeBase } from \"./commands/openChangeBase\";\nimport { OpenChangeHead } from \"./commands/openChangeHead\";\nimport { OpenChangePrev } from \"./commands/openChangePrev\";\nimport { OpenFile } from \"./commands/openFile\";\nimport { OpenHeadFile } from \"./commands/openHeadFile\";\nimport { OpenResourceBase } from \"./commands/openResourceBase\";\nimport { OpenResourceHead } from \"./commands/openResourceHead\";\nimport { Patch } from \"./commands/patch\";\nimport { PatchAll } from \"./commands/patchAll\";\nimport { PatchChangeList } from \"./commands/patchChangeList\";\nimport { PickCommitMessage } from \"./commands/pickCommitMessage\";\nimport { PromptAuth } from \"./commands/promptAuth\";\nimport { PromptRemove } from \"./commands/promptRemove\";\nimport { PullIncommingChange } from \"./commands/pullIncomingChange\";\nimport { Refresh } from \"./commands/refresh\";\nimport { RefreshRemoteChanges } from \"./commands/refreshRemoteChanges\";\nimport { Remove } from \"./commands/remove\";\nimport { RemoveUnversioned } from \"./commands/removeUnversioned\";\nimport { RenameExplorer } from \"./commands/renameExplorer\";\nimport { Resolve } from \"./commands/resolve\";\nimport { ResolveAll } from \"./commands/resolveAll\";\nimport { Resolved } from \"./commands/resolved\";\nimport { Revert } from \"./commands/revert\";\nimport { RevertAll } from \"./commands/revertAll\";\nimport { RevertChange } from \"./commands/revertChange\";\nimport { RevertExplorer } from \"./commands/revertExplorer\";\nimport { SwitchBranch } from \"./commands/switchBranch\";\nimport { Update } from \"./commands/update\";\nimport { Upgrade } from \"./commands/upgrade\";\nimport { SourceControlManager } from \"./source_control_manager\";\nimport { SearchLogByRevision } from \"./commands/search_log_by_revision\";\nimport { SearchLogByText } from \"./commands/search_log_by_text\";\n\nexport function registerCommands(\n  sourceControlManager: SourceControlManager,\n  disposables: Disposable[]\n) {\n  disposables.push(new GetSourceControlManager(sourceControlManager));\n  disposables.push(new FileOpen());\n  disposables.push(new OpenFile());\n  disposables.push(new PromptAuth());\n  disposables.push(new CommitWithMessage());\n  disposables.push(new Add());\n  disposables.push(new ChangeList());\n  disposables.push(new Refresh());\n  disposables.push(new Commit());\n  disposables.push(new OpenResourceBase());\n  disposables.push(new OpenResourceHead());\n  disposables.push(new OpenChangeBase());\n  disposables.push(new SwitchBranch());\n  disposables.push(new Revert());\n  disposables.push(new Update());\n  disposables.push(new PullIncommingChange());\n  disposables.push(new PatchAll());\n  disposables.push(new Patch());\n  disposables.push(new PatchChangeList());\n  disposables.push(new Remove());\n  disposables.push(new ResolveAll());\n  disposables.push(new Resolve());\n  disposables.push(new Resolved());\n  disposables.push(new Log());\n  disposables.push(new RevertChange());\n  disposables.push(new Close());\n  disposables.push(new Cleanup());\n  disposables.push(new RemoveUnversioned());\n  disposables.push(new FinishCheckout());\n  disposables.push(new AddToIgnoreSCM());\n  disposables.push(new AddToIgnoreExplorer());\n  disposables.push(new RenameExplorer());\n  disposables.push(new Upgrade());\n  disposables.push(new OpenChangePrev());\n  disposables.push(new PromptRemove());\n  disposables.push(new Checkout());\n  disposables.push(new RefreshRemoteChanges());\n  disposables.push(new DeleteUnversioned());\n  disposables.push(new OpenChangeHead());\n  disposables.push(new OpenHeadFile());\n  disposables.push(new RevertAll());\n  disposables.push(new PickCommitMessage(sourceControlManager.svn.version));\n  disposables.push(new RevertExplorer());\n  disposables.push(new SearchLogByRevision());\n  disposables.push(new SearchLogByText());\n}\n","import { SourceControlResourceState, window } from \"vscode\";\nimport { Command } from \"./command\";\n\nexport class Add extends Command {\n  constructor() {\n    super(\"svn.add\");\n  }\n\n  public async execute(...resourceStates: SourceControlResourceState[]) {\n    const selection = await this.getResourceStates(resourceStates);\n\n    if (selection.length === 0) {\n      return;\n    }\n\n    const uris = selection.map(resource => resource.resourceUri);\n\n    await this.runByRepository(uris, async (repository, resources) => {\n      if (!repository) {\n        return;\n      }\n\n      const paths = resources.map(resource => resource.fsPath);\n\n      try {\n        await repository.addFiles(paths);\n      } catch (error) {\n        console.log(error);\n        window.showErrorMessage(\"Unable to add file\");\n      }\n    });\n  }\n}\n","import { Uri } from \"vscode\";\nimport { Command } from \"./command\";\n\nexport class AddToIgnoreExplorer extends Command {\n  constructor() {\n    super(\"svn.addToIgnoreExplorer\");\n  }\n\n  public async execute(_mainUri?: Uri, allUris?: Uri[]) {\n    if (!allUris || allUris.length === 0) {\n      return;\n    }\n\n    return this.addToIgnore(allUris);\n  }\n}\n","import { SourceControlResourceState } from \"vscode\";\nimport { Command } from \"./command\";\n\nexport class AddToIgnoreSCM extends Command {\n  constructor() {\n    super(\"svn.addToIgnoreSCM\");\n  }\n\n  public async execute(...resourceStates: SourceControlResourceState[]) {\n    const selection = await this.getResourceStates(resourceStates);\n\n    if (selection.length === 0) {\n      return;\n    }\n\n    const uris = selection.map(resource => resource.resourceUri);\n\n    return this.addToIgnore(uris);\n  }\n}\n","import { commands, Uri, window } from \"vscode\";\nimport { inputSwitchChangelist } from \"../changelistItems\";\nimport { SourceControlManager } from \"../source_control_manager\";\nimport { Resource } from \"../resource\";\nimport { normalizePath } from \"../util\";\nimport { Command } from \"./command\";\n\nexport class ChangeList extends Command {\n  constructor() {\n    super(\"svn.changelist\");\n  }\n\n  public async execute(...args: any[]) {\n    let uris: Uri[];\n\n    if (args[0] instanceof Resource) {\n      uris = (args as Resource[]).map(resource => resource.resourceUri);\n    } else if (args[0] instanceof Uri) {\n      uris = args[1] as Uri[];\n    } else if (window.activeTextEditor) {\n      uris = [window.activeTextEditor.document.uri];\n    } else {\n      console.error(\"Unhandled type for changelist command\");\n      return;\n    }\n\n    const sourceControlManager = (await commands.executeCommand(\n      \"svn.getSourceControlManager\",\n      \"\"\n    )) as SourceControlManager;\n\n    const promiseArray = uris.map(async uri =>\n      sourceControlManager.getRepositoryFromUri(uri)\n    );\n    let repositories = await Promise.all(promiseArray);\n    repositories = repositories.filter(repository => repository);\n\n    if (repositories.length === 0) {\n      window.showErrorMessage(\n        \"Files are not under version control and cannot be added to a change list\"\n      );\n      return;\n    }\n\n    const uniqueRepositories = Array.from(new Set(repositories));\n\n    if (uniqueRepositories.length !== 1) {\n      window.showErrorMessage(\n        \"Unable to add files from different repositories to change list\"\n      );\n      return;\n    }\n\n    if (repositories.length !== uris.length) {\n      window.showErrorMessage(\n        \"Some Files are not under version control and cannot be added to a change list\"\n      );\n      return;\n    }\n\n    const repository = repositories[0];\n\n    if (!repository) {\n      return;\n    }\n\n    const paths = uris.map(uri => uri.fsPath);\n    let canRemove = false;\n\n    repository.changelists.forEach((group, _changelist) => {\n      if (\n        group.resourceStates.some(state => {\n          return paths.some(path => {\n            return (\n              normalizePath(path) === normalizePath(state.resourceUri.path)\n            );\n          });\n        })\n      ) {\n        canRemove = true;\n        return false;\n      }\n\n      return;\n    });\n\n    const changelistName = await inputSwitchChangelist(repository, canRemove);\n\n    if (!changelistName && changelistName !== false) {\n      return;\n    }\n\n    if (changelistName === false) {\n      try {\n        await repository.removeChangelist(paths);\n      } catch (error) {\n        console.log(error);\n        window.showErrorMessage(\n          `Unable to remove file \"${paths.join(\",\")}\" from changelist`\n        );\n      }\n    } else {\n      try {\n        await repository.addChangelist(paths, changelistName);\n        window.showInformationMessage(\n          `Added files \"${paths.join(\",\")}\" to changelist \"${changelistName}\"`\n        );\n      } catch (error) {\n        console.log(error);\n        window.showErrorMessage(\n          `Unable to add file \"${paths.join(\n            \",\"\n          )}\" to changelist \"${changelistName}\"`\n        );\n      }\n    }\n  }\n}\n","import * as os from \"os\";\nimport * as path from \"path\";\nimport { commands, ProgressLocation, Uri, window, workspace } from \"vscode\";\nimport { IAuth, ICpOptions } from \"../common/types\";\nimport { getBranchName } from \"../helpers/branch\";\nimport { configuration } from \"../helpers/configuration\";\nimport { SourceControlManager } from \"../source_control_manager\";\nimport { svnErrorCodes } from \"../svn\";\nimport { Command } from \"./command\";\n\nexport class Checkout extends Command {\n  constructor() {\n    super(\"svn.checkout\");\n  }\n\n  public async execute(url?: string) {\n    if (!url) {\n      url = await window.showInputBox({\n        prompt: \"Repository URL\",\n        ignoreFocusOut: true\n      });\n    }\n\n    if (!url) {\n      return;\n    }\n\n    let defaultCheckoutDirectory =\n      configuration.get<string>(\"defaultCheckoutDirectory\") || os.homedir();\n    defaultCheckoutDirectory = defaultCheckoutDirectory.replace(\n      /^~/,\n      os.homedir()\n    );\n\n    const uris = await window.showOpenDialog({\n      canSelectFiles: false,\n      canSelectFolders: true,\n      canSelectMany: false,\n      defaultUri: Uri.file(defaultCheckoutDirectory),\n      openLabel: \"Select Repository Location\"\n    });\n\n    if (!uris || uris.length === 0) {\n      return;\n    }\n\n    const uri = uris[0];\n    const parentPath = uri.fsPath;\n\n    let folderName: string | undefined;\n\n    // Get folder name from branch\n    const branch = getBranchName(url);\n    if (branch) {\n      const baseUrl = url.replace(/\\//g, \"/\").replace(branch.path, \"\");\n      folderName = path.basename(baseUrl);\n    }\n\n    folderName = await window.showInputBox({\n      prompt: \"Folder name\",\n      value: folderName,\n      ignoreFocusOut: true\n    });\n\n    if (!folderName) {\n      return;\n    }\n\n    const repositoryPath = path.join(parentPath, folderName);\n\n    // Use Notification location if supported\n    let location = ProgressLocation.Window;\n    if ((ProgressLocation as any).Notification) {\n      location = (ProgressLocation as any).Notification;\n    }\n\n    const progressOptions = {\n      location,\n      title: `Checkout svn repository '${url}'...`,\n      cancellable: true\n    };\n\n    let attempt = 0;\n\n    const opt: ICpOptions = {};\n\n    while (true) {\n      attempt++;\n      try {\n        await window.withProgress(progressOptions, async () => {\n          const sourceControlManager = (await commands.executeCommand(\n            \"svn.getSourceControlManager\",\n            \"\"\n          )) as SourceControlManager;\n          const args = [\"checkout\", url, repositoryPath];\n          await sourceControlManager.svn.exec(parentPath, args, opt);\n        });\n        break;\n      } catch (err) {\n        if (\n          err.svnErrorCode === svnErrorCodes.AuthorizationFailed &&\n          attempt <= 3\n        ) {\n          const auth = (await commands.executeCommand(\n            \"svn.promptAuth\",\n            opt.username\n          )) as IAuth;\n          if (auth) {\n            opt.username = auth.username;\n            opt.password = auth.password;\n            continue;\n          }\n        }\n        throw err;\n      }\n    }\n\n    const choices = [];\n    let message = \"Would you like to open the checked out repository?\";\n    const open = \"Open Repository\";\n    choices.push(open);\n\n    const addToWorkspace = \"Add to Workspace\";\n    if (\n      workspace.workspaceFolders &&\n      (workspace as any).updateWorkspaceFolders // For VSCode >= 1.21\n    ) {\n      message =\n        \"Would you like to open the checked out repository, or add it to the current workspace?\";\n      choices.push(addToWorkspace);\n    }\n\n    const result = await window.showInformationMessage(message, ...choices);\n\n    const openFolder = result === open;\n\n    if (openFolder) {\n      commands.executeCommand(\"vscode.openFolder\", Uri.file(repositoryPath));\n    } else if (result === addToWorkspace) {\n      // For VSCode >= 1.21\n      (workspace as any).updateWorkspaceFolders(\n        workspace.workspaceFolders!.length,\n        0,\n        {\n          uri: Uri.file(repositoryPath)\n        }\n      );\n    }\n  }\n}\n","import { Repository } from \"../repository\";\nimport { Command } from \"./command\";\n\nexport class Cleanup extends Command {\n  constructor() {\n    super(\"svn.cleanup\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    await repository.cleanup();\n  }\n}\n","import { commands } from \"vscode\";\nimport { SourceControlManager } from \"../source_control_manager\";\nimport { Repository } from \"../repository\";\nimport { Command } from \"./command\";\n\nexport class Close extends Command {\n  constructor() {\n    super(\"svn.close\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    const sourceControlManager = (await commands.executeCommand(\n      \"svn.getSourceControlManager\",\n      \"\"\n    )) as SourceControlManager;\n\n    sourceControlManager.close(repository);\n  }\n}\n","import * as path from \"path\";\nimport {\n  commands,\n  Disposable,\n  Position,\n  Range,\n  SourceControlResourceState,\n  TextDocumentShowOptions,\n  TextEditor,\n  Uri,\n  ViewColumn,\n  window,\n  workspace,\n  WorkspaceEdit\n} from \"vscode\";\nimport {\n  ICommandOptions,\n  Status,\n  SvnUriAction,\n  LineChange\n} from \"../common/types\";\nimport { exists, readFile, stat, unlink } from \"../fs\";\nimport { inputIgnoreList } from \"../ignoreitems\";\nimport { applyLineChanges } from \"../lineChanges\";\nimport { SourceControlManager } from \"../source_control_manager\";\nimport { Repository } from \"../repository\";\nimport { Resource } from \"../resource\";\nimport IncomingChangeNode from \"../treeView/nodes/incomingChangeNode\";\nimport { fromSvnUri, toSvnUri } from \"../uri\";\n\nexport abstract class Command implements Disposable {\n  private _disposable?: Disposable;\n\n  constructor(commandName: string, options: ICommandOptions = {}) {\n    if (options.repository) {\n      const command = this.createRepositoryCommand(this.execute);\n\n      this._disposable = commands.registerCommand(commandName, command);\n\n      return;\n    }\n\n    if (!options.repository) {\n      this._disposable = commands.registerCommand(\n        commandName,\n        (...args: any[]) => this.execute(...args)\n      );\n\n      return;\n    }\n  }\n\n  public abstract execute(...args: any[]): any;\n\n  public dispose() {\n    this._disposable && this._disposable.dispose(); // tslint:disable-line\n  }\n\n  private createRepositoryCommand(\n    method: (...args: any[]) => void\n  ): (...args: any[]) => any {\n    const result = async (...args: any[]) => {\n      const sourceControlManager = (await commands.executeCommand(\n        \"svn.getSourceControlManager\",\n        \"\"\n      )) as SourceControlManager;\n      const repository = sourceControlManager.getRepository(args[0]);\n      let repositoryPromise;\n\n      if (repository) {\n        repositoryPromise = Promise.resolve(repository);\n      } else if (sourceControlManager.repositories.length === 1) {\n        repositoryPromise = Promise.resolve(\n          sourceControlManager.repositories[0]\n        );\n      } else {\n        repositoryPromise = sourceControlManager.pickRepository();\n      }\n\n      const result = repositoryPromise.then(repository => {\n        if (!repository) {\n          return Promise.resolve();\n        }\n\n        return Promise.resolve(method.apply(this, [repository, ...args]));\n      });\n\n      return result.catch(err => {\n        console.error(err);\n      });\n    };\n\n    return result;\n  }\n\n  protected async getResourceStates(\n    resourceStates: SourceControlResourceState[]\n  ): Promise<Resource[]> {\n    if (\n      resourceStates.length === 0 ||\n      !(resourceStates[0].resourceUri instanceof Uri)\n    ) {\n      const resource = await this.getSCMResource();\n\n      if (!resource) {\n        return [];\n      }\n\n      resourceStates = [resource];\n    }\n\n    return resourceStates.filter(s => s instanceof Resource) as Resource[];\n  }\n\n  protected runByRepository<T>(\n    resource: Uri,\n    fn: (repository: Repository, resource: Uri) => Promise<T>\n  ): Promise<T[]>;\n  protected runByRepository<T>(\n    resources: Uri[],\n    fn: (repository: Repository, resources: Uri[]) => Promise<T>\n  ): Promise<T[]>;\n  protected async runByRepository<T>(\n    arg: Uri | Uri[],\n    fn: (repository: Repository, resources: any) => Promise<T>\n  ): Promise<T[]> {\n    const resources = arg instanceof Uri ? [arg] : arg;\n    const isSingleResource = arg instanceof Uri;\n\n    const sourceControlManager = (await commands.executeCommand(\n      \"svn.getSourceControlManager\",\n      \"\"\n    )) as SourceControlManager;\n\n    const groups: Array<{ repository: Repository; resources: Uri[] }> = [];\n\n    for (const resource of resources) {\n      const repository = sourceControlManager.getRepository(resource);\n\n      if (!repository) {\n        console.warn(\"Could not find Svn repository for \", resource);\n        continue;\n      }\n\n      const tuple = groups.filter(p => p.repository === repository)[0];\n\n      if (tuple) {\n        tuple.resources.push(resource);\n      } else {\n        groups.push({ repository, resources: [resource] });\n      }\n    }\n\n    const promises = groups.map(({ repository, resources }) =>\n      fn(repository as Repository, isSingleResource ? resources[0] : resources)\n    );\n\n    return Promise.all(promises);\n  }\n\n  protected async getSCMResource(uri?: Uri): Promise<Resource | undefined> {\n    uri = uri\n      ? uri\n      : window.activeTextEditor && window.activeTextEditor.document.uri;\n\n    if (!uri) {\n      return undefined;\n    }\n\n    if (uri.scheme === \"svn\") {\n      const { fsPath } = fromSvnUri(uri);\n      uri = Uri.file(fsPath);\n    }\n\n    if (uri.scheme === \"file\") {\n      const sourceControlManager = (await commands.executeCommand(\n        \"svn.getSourceControlManager\",\n        \"\"\n      )) as SourceControlManager;\n      const repository = sourceControlManager.getRepository(uri);\n\n      if (!repository) {\n        return undefined;\n      }\n\n      return repository.getResourceFromFile(uri);\n    }\n\n    return;\n  }\n\n  protected async _openResource(\n    resource: Resource,\n    against?: string,\n    preview?: boolean,\n    preserveFocus?: boolean,\n    preserveSelection?: boolean\n  ): Promise<void> {\n    let left = await this.getLeftResource(resource, against);\n    let right = this.getRightResource(resource, against);\n    const title = this.getTitle(resource, against);\n\n    if (resource.remote && left) {\n      [left, right] = [right, left];\n    }\n\n    if (!right) {\n      // TODO\n      console.error(\"oh no\");\n      return;\n    }\n\n    if (\n      (await exists(right.fsPath)) &&\n      (await stat(right.fsPath)).isDirectory()\n    ) {\n      return;\n    }\n\n    const opts: TextDocumentShowOptions = {\n      preserveFocus,\n      preview,\n      viewColumn: ViewColumn.Active\n    };\n\n    const activeTextEditor = window.activeTextEditor;\n\n    if (\n      preserveSelection &&\n      activeTextEditor &&\n      activeTextEditor.document.uri.toString() === right.toString()\n    ) {\n      opts.selection = activeTextEditor.selection;\n    }\n\n    if (!left) {\n      return commands.executeCommand<void>(\"vscode.open\", right, opts);\n    }\n\n    return commands.executeCommand<void>(\n      \"vscode.diff\",\n      left,\n      right,\n      title,\n      opts\n    );\n  }\n\n  protected async getLeftResource(\n    resource: Resource,\n    against: string = \"\"\n  ): Promise<Uri | undefined> {\n    if (resource.remote) {\n      if (resource.type !== Status.DELETED) {\n        return toSvnUri(resource.resourceUri, SvnUriAction.SHOW, {\n          ref: against\n        });\n      }\n      return;\n    }\n\n    if (resource.type === Status.ADDED && resource.renameResourceUri) {\n      return toSvnUri(resource.renameResourceUri, SvnUriAction.SHOW, {\n        ref: against\n      });\n    }\n\n    // Show file if has conflicts marks\n    if (\n      resource.type === Status.CONFLICTED &&\n      (await exists(resource.resourceUri.fsPath))\n    ) {\n      const text = (await readFile(resource.resourceUri.fsPath, {\n        encoding: \"utf8\"\n      })) as string;\n\n      // Check for lines begin with \"<<<<<<\", \"=======\", \">>>>>>>\"\n      if (/^<{7}[^]+^={7}[^]+^>{7}/m.test(text)) {\n        return undefined;\n      }\n    }\n\n    switch (resource.type) {\n      case Status.CONFLICTED:\n      case Status.MODIFIED:\n      case Status.REPLACED:\n        return toSvnUri(resource.resourceUri, SvnUriAction.SHOW, {\n          ref: against\n        });\n    }\n\n    return;\n  }\n\n  protected getRightResource(\n    resource: Resource,\n    against: string = \"\"\n  ): Uri | undefined {\n    if (resource.remote) {\n      if (resource.type !== Status.ADDED) {\n        return resource.resourceUri;\n      }\n      return;\n    }\n    switch (resource.type) {\n      case Status.ADDED:\n      case Status.CONFLICTED:\n      case Status.IGNORED:\n      case Status.MODIFIED:\n      case Status.UNVERSIONED:\n      case Status.REPLACED:\n        return resource.resourceUri;\n      case Status.DELETED:\n      case Status.MISSING:\n        return toSvnUri(resource.resourceUri, SvnUriAction.SHOW, {\n          ref: against\n        });\n    }\n\n    return;\n  }\n\n  private getTitle(resource: Resource, against?: string): string {\n    if (resource.type === Status.ADDED && resource.renameResourceUri) {\n      const basename = path.basename(resource.renameResourceUri.fsPath);\n\n      const newname = path.relative(\n        path.dirname(resource.renameResourceUri.fsPath),\n        resource.resourceUri.fsPath\n      );\n      if (against) {\n        return `${basename} -> ${newname} (${against})`;\n      }\n      return `${basename} -> ${newname}`;\n    }\n    const basename = path.basename(resource.resourceUri.fsPath);\n\n    if (against) {\n      return `${basename} (${against})`;\n    }\n\n    return \"\";\n  }\n\n  protected async openChange(\n    arg?: Resource | Uri | IncomingChangeNode,\n    against?: string,\n    resourceStates?: SourceControlResourceState[]\n  ): Promise<void> {\n    const preserveFocus = arg instanceof Resource;\n    const preserveSelection = arg instanceof Uri || !arg;\n    let resources: Resource[] | undefined;\n\n    if (arg instanceof Uri) {\n      const resource = await this.getSCMResource(arg);\n      if (resource !== undefined) {\n        resources = [resource];\n      }\n    } else if (arg instanceof IncomingChangeNode) {\n      const resource = new Resource(\n        arg.uri,\n        arg.type,\n        undefined,\n        arg.props,\n        true\n      );\n\n      resources = [resource];\n    } else {\n      let resource: Resource | undefined;\n\n      if (arg instanceof Resource) {\n        resource = arg;\n      } else {\n        resource = await this.getSCMResource();\n      }\n\n      if (resource) {\n        resources = [...(resourceStates as Resource[]), resource];\n      }\n    }\n\n    if (!resources) {\n      return;\n    }\n\n    const preview = resources.length === 1 ? undefined : false;\n    for (const resource of resources) {\n      await this._openResource(\n        resource,\n        against,\n        preview,\n        preserveFocus,\n        preserveSelection\n      );\n    }\n  }\n\n  protected async showDiffPath(repository: Repository, content: string) {\n    try {\n      const tempFile = path.join(repository.root, \".svn\", \"tmp\", \"svn.patch\");\n\n      if (await exists(tempFile)) {\n        try {\n          await unlink(tempFile);\n        } catch (err) {\n          // TODO(cjohnston)//log error\n        }\n      }\n\n      const uri = Uri.file(tempFile).with({\n        scheme: \"untitled\"\n      });\n\n      const document = await workspace.openTextDocument(uri);\n      const textEditor = await window.showTextDocument(document);\n\n      await textEditor.edit(e => {\n        // if is opened, clear content\n        e.delete(\n          new Range(\n            new Position(0, 0),\n            new Position(Number.MAX_SAFE_INTEGER, 0)\n          )\n        );\n        e.insert(new Position(0, 0), content);\n      });\n    } catch (error) {\n      console.error(error);\n      window.showErrorMessage(\"Unable to patch\");\n    }\n  }\n\n  protected async _revertChanges(\n    textEditor: TextEditor,\n    changes: LineChange[]\n  ): Promise<void> {\n    const modifiedDocument = textEditor.document;\n    const modifiedUri = modifiedDocument.uri;\n\n    if (modifiedUri.scheme !== \"file\") {\n      return;\n    }\n\n    const originalUri = toSvnUri(modifiedUri, SvnUriAction.SHOW, {\n      ref: \"BASE\"\n    });\n    const originalDocument = await workspace.openTextDocument(originalUri);\n\n    const result = applyLineChanges(\n      originalDocument,\n      modifiedDocument,\n      changes\n    );\n    const edit = new WorkspaceEdit();\n    edit.replace(\n      modifiedUri,\n      new Range(\n        new Position(0, 0),\n        modifiedDocument.lineAt(modifiedDocument.lineCount - 1).range.end\n      ),\n      result\n    );\n    workspace.applyEdit(edit);\n    await modifiedDocument.save();\n  }\n\n  protected async addToIgnore(uris: Uri[]): Promise<void> {\n    await this.runByRepository(uris, async (repository, resources) => {\n      if (!repository) {\n        return;\n      }\n\n      try {\n        const ignored = await inputIgnoreList(repository, resources);\n\n        if (ignored) {\n          window.showInformationMessage(`File(s) is now being ignored`);\n        }\n      } catch (error) {\n        console.log(error);\n        window.showErrorMessage(\"Unable to set property ignore\");\n      }\n    });\n  }\n}\n","import * as path from \"path\";\nimport { SourceControlResourceState, Uri, window } from \"vscode\";\nimport { Status } from \"../common/types\";\nimport { inputCommitMessage } from \"../messages\";\nimport { Resource } from \"../resource\";\nimport { Command } from \"./command\";\n\nexport class Commit extends Command {\n  constructor() {\n    super(\"svn.commit\");\n  }\n\n  public async execute(...resources: SourceControlResourceState[]) {\n    if (resources.length === 0 || !(resources[0].resourceUri instanceof Uri)) {\n      const resource = await this.getSCMResource();\n\n      if (!resource) {\n        return;\n      }\n\n      resources = [resource];\n    }\n\n    const selection = resources.filter(\n      s => s instanceof Resource\n    ) as Resource[];\n\n    const uris = selection.map(resource => resource.resourceUri);\n    selection.forEach(resource => {\n      if (resource.type === Status.ADDED && resource.renameResourceUri) {\n        uris.push(resource.renameResourceUri);\n      }\n    });\n\n    await this.runByRepository(uris, async (repository, resources) => {\n      if (!repository) {\n        return;\n      }\n\n      const paths = resources.map(resource => resource.fsPath);\n\n      for (const resource of resources) {\n        let dir = path.dirname(resource.fsPath);\n        let parent = repository.getResourceFromFile(dir);\n\n        while (parent) {\n          if (parent.type === Status.ADDED) {\n            paths.push(dir);\n          }\n          dir = path.dirname(dir);\n          parent = repository.getResourceFromFile(dir);\n        }\n      }\n\n      try {\n        const message = await inputCommitMessage(\n          repository.inputBox.value,\n          true,\n          paths\n        );\n\n        if (message === undefined) {\n          return;\n        }\n\n        repository.inputBox.value = message;\n\n        const result = await repository.commitFiles(message, paths);\n        window.showInformationMessage(result);\n        repository.inputBox.value = \"\";\n      } catch (error) {\n        console.error(error);\n        window.showErrorMessage(error.stderrFormated);\n      }\n    });\n  }\n}\n","import * as path from \"path\";\nimport { window } from \"vscode\";\nimport { inputCommitFiles } from \"../changelistItems\";\nimport { Status } from \"../common/types\";\nimport { inputCommitMessage } from \"../messages\";\nimport { Repository } from \"../repository\";\nimport { Resource } from \"../resource\";\nimport { Command } from \"./command\";\n\nexport class CommitWithMessage extends Command {\n  constructor() {\n    super(\"svn.commitWithMessage\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    const resourceStates = await inputCommitFiles(repository);\n    if (!resourceStates || resourceStates.length === 0) {\n      return;\n    }\n\n    const filePaths = resourceStates.map(state => {\n      return state.resourceUri.fsPath;\n    });\n\n    const message = await inputCommitMessage(\n      repository.inputBox.value,\n      false,\n      filePaths\n    );\n    if (message === undefined) {\n      return;\n    }\n\n    // If files is renamed, the commit need previous file\n    resourceStates.forEach(state => {\n      if (state instanceof Resource) {\n        if (state.type === Status.ADDED && state.renameResourceUri) {\n          filePaths.push(state.renameResourceUri.fsPath);\n        }\n\n        let dir = path.dirname(state.resourceUri.fsPath);\n        let parent = repository.getResourceFromFile(dir);\n\n        while (parent) {\n          if (parent.type === Status.ADDED) {\n            filePaths.push(dir);\n          }\n          dir = path.dirname(dir);\n          parent = repository.getResourceFromFile(dir);\n        }\n      }\n    });\n\n    try {\n      const result = await repository.commitFiles(message, filePaths);\n      window.showInformationMessage(result);\n      repository.inputBox.value = \"\";\n    } catch (error) {\n      console.error(error);\n      window.showErrorMessage(error.stderrFormated);\n    }\n  }\n}\n","import { SourceControlResourceState, window } from \"vscode\";\nimport { exists, lstat, unlink } from \"../fs\";\nimport { deleteDirectory } from \"../util\";\nimport { Command } from \"./command\";\n\nexport class DeleteUnversioned extends Command {\n  constructor() {\n    super(\"svn.deleteUnversioned\");\n  }\n\n  public async execute(...resourceStates: SourceControlResourceState[]) {\n    const selection = await this.getResourceStates(resourceStates);\n    if (selection.length === 0) {\n      return;\n    }\n    const uris = selection.map(resource => resource.resourceUri);\n    const answer = await window.showWarningMessage(\n      \"Would you like to delete selected files?\",\n      { modal: true },\n      \"Yes\",\n      \"No\"\n    );\n    if (answer === \"Yes\") {\n      for (const uri of uris) {\n        const fsPath = uri.fsPath;\n\n        try {\n          if (!(await exists(fsPath))) {\n            continue;\n          }\n\n          const stat = await lstat(fsPath);\n\n          if (stat.isDirectory()) {\n            deleteDirectory(fsPath);\n          } else {\n            await unlink(fsPath);\n          }\n        } catch (err) {\n          // TODO(cjohnston) Show meaningful error to user\n        }\n      }\n    }\n  }\n}\n","import { commands, Uri } from \"vscode\";\nimport { Command } from \"./command\";\n\nexport class FileOpen extends Command {\n  constructor() {\n    super(\"svn.fileOpen\");\n  }\n\n  public async execute(resourceUri: Uri) {\n    await commands.executeCommand(\"vscode.open\", resourceUri);\n  }\n}\n","import { Repository } from \"../repository\";\nimport { Command } from \"./command\";\n\nexport class FinishCheckout extends Command {\n  constructor() {\n    super(\"svn.finishCheckout\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    await repository.finishCheckout();\n  }\n}\n","import { SourceControlManager } from \"../source_control_manager\";\nimport { Command } from \"./command\";\n\nexport class GetSourceControlManager extends Command {\n  constructor(protected sourceControlManager: SourceControlManager) {\n    super(\"svn.getSourceControlManager\");\n  }\n\n  public async execute() {\n    return this.sourceControlManager;\n  }\n}\n","import * as path from \"path\";\nimport { commands, Uri, window } from \"vscode\";\nimport { SvnUriAction } from \"../common/types\";\nimport { Repository } from \"../repository\";\nimport { toSvnUri } from \"../uri\";\nimport { Command } from \"./command\";\n\nexport class Log extends Command {\n  constructor() {\n    super(\"svn.log\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    try {\n      const resource = toSvnUri(\n        Uri.file(repository.workspaceRoot),\n        SvnUriAction.LOG\n      );\n      const uri = resource.with({\n        path: path.join(resource.path, \"svn.log\") // change document title\n      });\n\n      await commands.executeCommand<void>(\"vscode.open\", uri);\n    } catch (error) {\n      console.error(error);\n      window.showErrorMessage(\"Unable to log\");\n    }\n  }\n}\n","import { SourceControlResourceState, Uri } from \"vscode\";\nimport { Resource } from \"../resource\";\nimport { Command } from \"./command\";\n\nexport class OpenChangeBase extends Command {\n  constructor() {\n    super(\"svn.openChangeBase\", {});\n  }\n\n  public async execute(\n    arg?: Resource | Uri,\n    ...resourceStates: SourceControlResourceState[]\n  ) {\n    return this.openChange(arg, \"BASE\", resourceStates);\n  }\n}\n","import { SourceControlResourceState, Uri } from \"vscode\";\nimport { Resource } from \"../resource\";\nimport IncomingChangeNode from \"../treeView/nodes/incomingChangeNode\";\nimport { Command } from \"./command\";\n\nexport class OpenChangeHead extends Command {\n  constructor() {\n    super(\"svn.openChangeHead\");\n  }\n\n  public async execute(\n    arg?: Resource | Uri | IncomingChangeNode,\n    ...resourceStates: SourceControlResourceState[]\n  ) {\n    return this.openChange(arg, \"HEAD\", resourceStates);\n  }\n}\n","import { SourceControlResourceState, Uri } from \"vscode\";\nimport { Resource } from \"../resource\";\nimport IncomingChangeNode from \"../treeView/nodes/incomingChangeNode\";\nimport { Command } from \"./command\";\n\nexport class OpenChangePrev extends Command {\n  constructor() {\n    super(\"svn.openChangePrev\", {});\n  }\n\n  public async execute(\n    arg?: Resource | Uri | IncomingChangeNode,\n    ...resourceStates: SourceControlResourceState[]\n  ) {\n    return this.openChange(arg, \"PREV\", resourceStates);\n  }\n}\n","import {\n  SourceControlResourceState,\n  TextDocumentShowOptions,\n  Uri,\n  ViewColumn,\n  window,\n  workspace\n} from \"vscode\";\nimport { exists, stat } from \"../fs\";\nimport { Resource } from \"../resource\";\nimport IncomingChangeNode from \"../treeView/nodes/incomingChangeNode\";\nimport { fromSvnUri } from \"../uri\";\nimport { Command } from \"./command\";\n\nexport class OpenFile extends Command {\n  constructor() {\n    super(\"svn.openFile\");\n  }\n\n  public async execute(\n    arg?: Resource | Uri | IncomingChangeNode,\n    ...resourceStates: SourceControlResourceState[]\n  ) {\n    const preserveFocus = arg instanceof Resource;\n\n    let uris: Uri[] | undefined;\n\n    if (arg instanceof Uri) {\n      if (arg.scheme === \"svn\") {\n        uris = [Uri.file(fromSvnUri(arg).fsPath)];\n      } else if (arg.scheme === \"file\") {\n        uris = [arg];\n      }\n    } else if (arg instanceof IncomingChangeNode) {\n      const resource = new Resource(\n        arg.uri,\n        arg.type,\n        undefined,\n        arg.props,\n        true\n      );\n\n      uris = [resource.resourceUri];\n    } else {\n      const resource = arg;\n\n      if (!(resource instanceof Resource)) {\n        // can happen when called from a keybinding\n        // TODO(@JohnstonCode) fix this\n        // resource = this.getSCMResource();\n      }\n\n      if (resource) {\n        uris = [\n          ...resourceStates.map(r => r.resourceUri),\n          resource.resourceUri\n        ];\n      }\n    }\n\n    if (!uris) {\n      return;\n    }\n\n    const preview = uris.length === 1 ? true : false;\n    const activeTextEditor = window.activeTextEditor;\n    for (const uri of uris) {\n      if (\n        !uri ||\n        ((await exists(uri.fsPath)) && (await stat(uri.fsPath)).isDirectory())\n      ) {\n        continue;\n      }\n\n      const opts: TextDocumentShowOptions = {\n        preserveFocus,\n        preview,\n        viewColumn: ViewColumn.Active\n      };\n\n      if (\n        activeTextEditor &&\n        activeTextEditor.document.uri.toString() === uri.toString()\n      ) {\n        opts.selection = activeTextEditor.selection;\n      }\n\n      const document = await workspace.openTextDocument(uri);\n      await window.showTextDocument(document, opts);\n    }\n  }\n}\n","import * as path from \"path\";\nimport { commands, Uri, window } from \"vscode\";\nimport { Resource } from \"../resource\";\nimport IncomingChangeNode from \"../treeView/nodes/incomingChangeNode\";\nimport { Command } from \"./command\";\n\nexport class OpenHeadFile extends Command {\n  constructor() {\n    super(\"svn.openHEADFile\");\n  }\n\n  public async execute(arg?: Resource | Uri | IncomingChangeNode) {\n    let resource: Resource | undefined;\n\n    if (arg instanceof Resource) {\n      resource = arg;\n    } else if (arg instanceof Uri) {\n      resource = await this.getSCMResource(arg);\n    } else if (arg instanceof IncomingChangeNode) {\n      resource = new Resource(arg.uri, arg.type, undefined, arg.props, true);\n    } else {\n      resource = await this.getSCMResource();\n    }\n\n    if (!resource) {\n      return;\n    }\n\n    const HEAD = await this.getLeftResource(resource, \"HEAD\");\n\n    const basename = path.basename(resource.resourceUri.fsPath);\n    if (!HEAD) {\n      window.showWarningMessage(\n        `\"HEAD version of '${basename}' is not available.\"`\n      );\n      return;\n    }\n\n    const basedir = path.dirname(resource.resourceUri.fsPath);\n\n    const uri = HEAD.with({\n      path: path.join(basedir, `(HEAD) ${basename}`) // change document title\n    });\n\n    return commands.executeCommand<void>(\"vscode.open\", uri, {\n      preview: true\n    });\n  }\n}\n","import { Resource } from \"../resource\";\nimport { Command } from \"./command\";\n\nexport class OpenResourceBase extends Command {\n  constructor() {\n    super(\"svn.openResourceBase\");\n  }\n\n  public async execute(resource: Resource) {\n    await this._openResource(resource, \"BASE\", undefined, true, false);\n  }\n}\n","import { Resource } from \"../resource\";\nimport { Command } from \"./command\";\n\nexport class OpenResourceHead extends Command {\n  constructor() {\n    super(\"svn.openResourceHead\");\n  }\n\n  public async execute(resource: Resource) {\n    await this._openResource(resource, \"HEAD\", undefined, true, false);\n  }\n}\n","import { SourceControlResourceState } from \"vscode\";\nimport { Command } from \"./command\";\n\nexport class Patch extends Command {\n  constructor() {\n    super(\"svn.patch\");\n  }\n\n  public async execute(...resourceStates: SourceControlResourceState[]) {\n    const selection = await this.getResourceStates(resourceStates);\n\n    if (selection.length === 0) {\n      return;\n    }\n\n    const uris = selection.map(resource => resource.resourceUri);\n\n    await this.runByRepository(uris, async (repository, resources) => {\n      if (!repository) {\n        return;\n      }\n\n      const files = resources.map(resource => resource.fsPath);\n      const content = await repository.patch(files);\n      await this.showDiffPath(repository, content);\n    });\n  }\n}\n","import { Repository } from \"../repository\";\nimport { Command } from \"./command\";\n\nexport class PatchAll extends Command {\n  constructor() {\n    super(\"svn.patchAll\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    const content = await repository.patch([]);\n    await this.showDiffPath(repository, content);\n  }\n}\n","import { getPatchChangelist } from \"../changelistItems\";\nimport { Repository } from \"../repository\";\nimport { Command } from \"./command\";\n\nexport class PatchChangeList extends Command {\n  constructor() {\n    super(\"svn.patchChangeList\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    const changelistName = await getPatchChangelist(repository);\n\n    if (!changelistName) {\n      return;\n    }\n\n    const content = await repository.patchChangelist(changelistName);\n    await this.showDiffPath(repository, content);\n  }\n}\n","import { QuickPickItem, window } from \"vscode\";\nimport { Repository } from \"../repository\";\nimport { Command } from \"./command\";\nimport { configuration } from \"../helpers/configuration\";\nimport * as semver from \"semver\";\nimport { ISvnLogEntry } from \"../common/types\";\n\nexport class PickCommitMessage extends Command {\n  constructor(private svnVersion: string) {\n    super(\"svn.pickCommitMessage\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    const is18orGreater = semver.satisfies(this.svnVersion, \">= 1.8\");\n    let logs: ISvnLogEntry[] = [];\n    const user = configuration.get(\"previousCommitsUser\", null);\n    if (user && is18orGreater) {\n      logs = await repository.logByUser(user);\n    } else {\n      logs = await repository.log(\"HEAD\", \"0\", 20);\n    }\n\n    if (!logs.length) {\n      return;\n    }\n\n    const picks: QuickPickItem[] = logs.map(l => {\n      return {\n        label: l.msg,\n        description: `r${l.revision} | ${l.author} | ${new Date(\n          l.date\n        ).toLocaleString()}`\n      };\n    });\n\n    const selected = await window.showQuickPick(picks);\n\n    if (selected === undefined) {\n      return;\n    }\n\n    const msg = selected.label;\n\n    repository.inputBox.value = msg;\n\n    return msg;\n  }\n}\n","import { window } from \"vscode\";\nimport { IAuth } from \"../common/types\";\nimport { Command } from \"./command\";\n\nexport class PromptAuth extends Command {\n  constructor() {\n    super(\"svn.promptAuth\");\n  }\n\n  public async execute(prevUsername?: string, prevPassword?: string) {\n    const username = await window.showInputBox({\n      placeHolder: \"Svn repository username\",\n      prompt: \"Please enter your username\",\n      ignoreFocusOut: true,\n      value: prevUsername\n    });\n\n    if (username === undefined) {\n      return;\n    }\n\n    const password = await window.showInputBox({\n      placeHolder: \"Svn repository password\",\n      prompt: \"Please enter your password\",\n      value: prevPassword,\n      ignoreFocusOut: true,\n      password: true\n    });\n\n    if (password === undefined) {\n      return;\n    }\n\n    const auth: IAuth = {\n      username,\n      password\n    };\n\n    return auth;\n  }\n}\n","import { Uri, window } from \"vscode\";\nimport { configuration } from \"../helpers/configuration\";\nimport { Repository } from \"../repository\";\nimport { Command } from \"./command\";\n\nexport class PromptRemove extends Command {\n  constructor() {\n    super(\"svn.promptRemove\", { repository: true });\n  }\n\n  public async execute(repository: Repository, ...uris: Uri[]) {\n    const files = uris.map(uri => uri.fsPath);\n    const relativeList = files\n      .map(file => repository.repository.removeAbsolutePath(file))\n      .sort();\n    const ignoreText = \"Add to ignored list\";\n    const resp = await window.showInformationMessage(\n      `The file(s) \"${relativeList.join(\n        \", \"\n      )}\" are removed from disk.\\nWould you like remove from SVN?`,\n      { modal: false },\n      \"Yes\",\n      ignoreText,\n      \"No\"\n    );\n    if (resp === \"Yes\") {\n      await repository.removeFiles(files, false);\n    } else if (resp === ignoreText) {\n      let ignoreList = configuration.get<string[]>(\n        \"delete.ignoredRulesForDeletedFiles\",\n        []\n      );\n      ignoreList.push(...relativeList);\n      ignoreList = [...new Set(ignoreList)]; // Remove duplicates\n      configuration.update(\"delete.ignoredRulesForDeletedFiles\", ignoreList);\n    }\n  }\n}\n","import { window } from \"vscode\";\nimport { configuration } from \"../helpers/configuration\";\nimport IncomingChangeNode from \"../treeView/nodes/incomingChangeNode\";\nimport { Command } from \"./command\";\n\nexport class PullIncommingChange extends Command {\n  constructor() {\n    super(\"svn.treeview.pullIncomingChange\");\n  }\n\n  // TODO: clean this up\n  public async execute(...changes: any[]) {\n    const showUpdateMessage = configuration.get<boolean>(\n      \"showUpdateMessage\",\n      true\n    );\n\n    if (changes[0] instanceof IncomingChangeNode) {\n      try {\n        const incomingChange = changes[0];\n\n        const result = await incomingChange.repository.pullIncomingChange(\n          incomingChange.uri.fsPath\n        );\n\n        if (showUpdateMessage) {\n          window.showInformationMessage(result);\n        }\n      } catch (error) {\n        console.error(error);\n        window.showErrorMessage(\"Unable to update\");\n      }\n\n      return;\n    }\n\n    const uris = changes.map(change => change.resourceUri);\n\n    await this.runByRepository(uris, async (repository, resources) => {\n      if (!repository) {\n        return;\n      }\n\n      const files = resources.map(resource => resource.fsPath);\n\n      files.forEach(async path => {\n        const result = await repository.pullIncomingChange(path);\n\n        if (showUpdateMessage) {\n          window.showInformationMessage(result);\n        }\n      });\n    });\n  }\n}\n","import { configuration } from \"../helpers/configuration\";\nimport { Repository } from \"../repository\";\nimport { Command } from \"./command\";\n\nexport class Refresh extends Command {\n  constructor() {\n    super(\"svn.refresh\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    const refreshRemoteChanges = configuration.get<boolean>(\n      \"refresh.remoteChanges\",\n      false\n    );\n\n    await repository.status();\n\n    if (refreshRemoteChanges) {\n      await repository.updateRemoteChangedFiles();\n    }\n  }\n}\n","import { Repository } from \"../repository\";\nimport { Command } from \"./command\";\n\nexport class RefreshRemoteChanges extends Command {\n  constructor() {\n    super(\"svn.refreshRemoteChanges\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    await repository.updateRemoteChangedFiles();\n  }\n}\n","import { SourceControlResourceState, window } from \"vscode\";\nimport { Command } from \"./command\";\n\nexport class Remove extends Command {\n  constructor() {\n    super(\"svn.remove\");\n  }\n\n  public async execute(...resourceStates: SourceControlResourceState[]) {\n    const selection = await this.getResourceStates(resourceStates);\n\n    if (selection.length === 0) {\n      return;\n    }\n\n    let keepLocal: boolean;\n    const answer = await window.showWarningMessage(\n      \"Would you like to keep a local copy of the files?\",\n      { modal: true },\n      \"Yes\",\n      \"No\"\n    );\n\n    if (!answer) {\n      return;\n    }\n\n    if (answer === \"Yes\") {\n      keepLocal = true;\n    } else {\n      keepLocal = false;\n    }\n\n    const uris = selection.map(resource => resource.resourceUri);\n\n    await this.runByRepository(uris, async (repository, resources) => {\n      if (!repository) {\n        return;\n      }\n\n      const paths = resources.map(resource => resource.fsPath);\n\n      try {\n        await repository.removeFiles(paths, keepLocal);\n      } catch (error) {\n        console.log(error);\n        window.showErrorMessage(\"Unable to remove files\");\n      }\n    });\n  }\n}\n","import { Repository } from \"../repository\";\nimport { Command } from \"./command\";\nimport { window } from \"vscode\";\n\nexport class RemoveUnversioned extends Command {\n  constructor() {\n    super(\"svn.removeUnversioned\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    const answer = await window.showWarningMessage(\n      \"Are you sure? This will remove all unversioned files except for ignored.\",\n      { modal: true },\n      \"Yes\",\n      \"No\"\n    );\n    if (answer !== \"Yes\") {\n      return;\n    }\n    await repository.removeUnversioned();\n  }\n}\n","import * as path from \"path\";\nimport { Uri, window } from \"vscode\";\nimport { Repository } from \"../repository\";\nimport { fixPathSeparator } from \"../util\";\nimport { Command } from \"./command\";\n\nexport class RenameExplorer extends Command {\n  constructor() {\n    super(\"svn.renameExplorer\", { repository: true });\n  }\n\n  public async execute(\n    repository: Repository,\n    mainUri?: Uri,\n    _allUris?: Uri[]\n  ) {\n    if (!mainUri) {\n      return;\n    }\n\n    const oldName = mainUri.fsPath;\n\n    return this.rename(repository, oldName);\n  }\n\n  private async rename(\n    repository: Repository,\n    oldFile: string,\n    newName?: string\n  ) {\n    oldFile = fixPathSeparator(oldFile);\n\n    if (!newName) {\n      const root = fixPathSeparator(repository.workspaceRoot);\n      const oldName = path.relative(root, oldFile);\n      newName = await window.showInputBox({\n        value: path.basename(oldFile),\n        prompt: `New name name for ${oldName}`\n      });\n    }\n    if (!newName) {\n      return;\n    }\n\n    const basepath = path.dirname(oldFile);\n    newName = path.join(basepath, newName);\n\n    await repository.rename(oldFile, newName);\n  }\n}\n","import { SourceControlResourceState, window } from \"vscode\";\nimport { getConflictPickOptions } from \"../conflictItems\";\nimport { Command } from \"./command\";\n\nexport class Resolve extends Command {\n  constructor() {\n    super(\"svn.resolve\");\n  }\n\n  public async execute(...resourceStates: SourceControlResourceState[]) {\n    const selection = await this.getResourceStates(resourceStates);\n\n    if (selection.length === 0) {\n      return;\n    }\n    const picks = getConflictPickOptions();\n\n    const choice = await window.showQuickPick(picks, {\n      placeHolder: \"Select conflict option\"\n    });\n\n    if (!choice) {\n      return;\n    }\n\n    const uris = selection.map(resource => resource.resourceUri);\n\n    await this.runByRepository(uris, async (repository, resources) => {\n      if (!repository) {\n        return;\n      }\n\n      const files = resources.map(resource => resource.fsPath);\n\n      await repository.resolve(files, choice.label);\n    });\n  }\n}\n","import { window } from \"vscode\";\nimport { getConflictPickOptions } from \"../conflictItems\";\nimport { Repository } from \"../repository\";\nimport { Command } from \"./command\";\n\nexport class ResolveAll extends Command {\n  constructor() {\n    super(\"svn.resolveAll\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    const conflicts = repository.conflicts.resourceStates;\n\n    if (!conflicts.length) {\n      window.showInformationMessage(\"No Conflicts\");\n    }\n\n    for (const conflict of conflicts) {\n      const placeHolder = `Select conflict option for ${conflict.resourceUri.path}`;\n      const picks = getConflictPickOptions();\n\n      const choice = await window.showQuickPick(picks, { placeHolder });\n\n      if (!choice) {\n        return;\n      }\n\n      try {\n        const response = await repository.resolve(\n          [conflict.resourceUri.path],\n          choice.label\n        );\n        window.showInformationMessage(response);\n      } catch (error) {\n        window.showErrorMessage(error.stderr);\n      }\n    }\n  }\n}\n","import * as path from \"path\";\nimport { Uri, window } from \"vscode\";\nimport { configuration } from \"../helpers/configuration\";\nimport { Command } from \"./command\";\n\nexport class Resolved extends Command {\n  constructor() {\n    super(\"svn.resolved\");\n  }\n\n  public async execute(uri: Uri) {\n    if (!uri) {\n      return;\n    }\n\n    const autoResolve = configuration.get<boolean>(\"conflict.autoResolve\");\n\n    if (!autoResolve) {\n      const basename = path.basename(uri.fsPath);\n      const pick = await window.showWarningMessage(\n        `Mark the conflict as resolved for \"${basename}\"?`,\n        { modal: true },\n        \"Yes\",\n        \"No\"\n      );\n\n      if (pick !== \"Yes\") {\n        return;\n      }\n    }\n\n    const uris = [uri];\n\n    await this.runByRepository(uris, async (repository, resources) => {\n      if (!repository) {\n        return;\n      }\n\n      const files = resources.map(resource => resource.fsPath);\n\n      await repository.resolve(files, \"working\");\n    });\n  }\n}\n","import { SourceControlResourceState, window } from \"vscode\";\nimport { checkAndPromptDepth, confirmRevert } from \"../input/revert\";\nimport { Command } from \"./command\";\n\nexport class Revert extends Command {\n  constructor() {\n    super(\"svn.revert\");\n  }\n\n  public async execute(...resourceStates: SourceControlResourceState[]) {\n    const selection = await this.getResourceStates(resourceStates);\n\n    if (selection.length === 0 || !(await confirmRevert())) {\n      return;\n    }\n\n    const uris = selection.map(resource => resource.resourceUri);\n    const depth = await checkAndPromptDepth(uris);\n\n    if (!depth) {\n      return;\n    }\n\n    await this.runByRepository(uris, async (repository, resources) => {\n      if (!repository) {\n        return;\n      }\n\n      const paths = resources.map(resource => resource.fsPath).reverse();\n\n      try {\n        await repository.revert(paths, depth);\n      } catch (error) {\n        console.log(error);\n        window.showErrorMessage(\"Unable to revert\");\n      }\n    });\n  }\n}\n","import { SourceControlResourceGroup, window } from \"vscode\";\nimport { checkAndPromptDepth, confirmRevert } from \"../input/revert\";\nimport { Command } from \"./command\";\n\nexport class RevertAll extends Command {\n  constructor() {\n    super(\"svn.revertAll\");\n  }\n\n  public async execute(resourceGroup: SourceControlResourceGroup) {\n    const resourceStates = resourceGroup.resourceStates;\n\n    if (resourceStates.length === 0 || !(await confirmRevert())) {\n      return;\n    }\n\n    const uris = resourceStates.map(resource => resource.resourceUri);\n    const depth = await checkAndPromptDepth(uris);\n\n    if (!depth) {\n      return;\n    }\n\n    await this.runByRepository(uris, async (repository, resources) => {\n      if (!repository) {\n        return;\n      }\n\n      const paths = resources.map(resource => resource.fsPath).reverse();\n\n      try {\n        await repository.revert(paths, depth);\n      } catch (error) {\n        console.log(error);\n        window.showErrorMessage(\"Unable to revert\");\n      }\n    });\n  }\n}\n","import { Uri, window } from \"vscode\";\nimport { Command } from \"./command\";\nimport { LineChange } from \"../common/types\";\n\nexport class RevertChange extends Command {\n  constructor() {\n    super(\"svn.revertChange\");\n  }\n\n  public async execute(uri: Uri, changes: LineChange[], index: number) {\n    const textEditor = window.visibleTextEditors.filter(\n      e => e.document.uri.toString() === uri.toString()\n    )[0];\n\n    if (!textEditor) {\n      return;\n    }\n\n    await this._revertChanges(textEditor, [\n      ...changes.slice(0, index),\n      ...changes.slice(index + 1)\n    ]);\n  }\n}\n","import { Uri, window } from \"vscode\";\nimport { checkAndPromptDepth, confirmRevert } from \"../input/revert\";\nimport { Command } from \"./command\";\n\nexport class RevertExplorer extends Command {\n  constructor() {\n    super(\"svn.revertExplorer\");\n  }\n\n  public async execute(_mainUri?: Uri, allUris?: Uri[]) {\n    if (!allUris) {\n      return;\n    }\n\n    const uris = allUris;\n    if (uris.length === 0 || !(await confirmRevert())) {\n      return;\n    }\n\n    const depth = await checkAndPromptDepth(uris);\n\n    if (!depth) {\n      return;\n    }\n\n    await this.runByRepository(uris, async (repository, resources) => {\n      if (!repository) {\n        return;\n      }\n\n      const paths = resources.map(resource => resource.fsPath);\n\n      try {\n        await repository.revert(paths, depth);\n      } catch (error) {\n        console.log(error);\n        window.showErrorMessage(\"Unable to revert\");\n      }\n    });\n  }\n}\n","import * as path from \"path\";\nimport { Command } from \"./command\";\nimport { window, Uri, commands } from \"vscode\";\nimport { Repository } from \"../repository\";\nimport { toSvnUri } from \"../uri\";\nimport { SvnUriAction } from \"../common/types\";\n\nexport class SearchLogByRevision extends Command {\n  constructor() {\n    super(\"svn.searchLogByRevision\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    const input = await window.showInputBox({ prompt: \"Revision?\" });\n    if (!input) {\n      return;\n    }\n\n    const revision = parseInt(input, 10);\n    if (!revision || !/^\\+?(0|[1-9]\\d*)$/.test(input)) {\n      window.showErrorMessage(\"Invalid revision\");\n      return;\n    }\n\n    try {\n      const resource = toSvnUri(\n        Uri.file(repository.workspaceRoot),\n        SvnUriAction.LOG_REVISION,\n        { revision }\n      );\n      const uri = resource.with({\n        path: path.join(resource.path, \"svn.log\")\n      });\n\n      await commands.executeCommand<void>(\"vscode.open\", uri);\n    } catch (error) {\n      console.error(error);\n      window.showErrorMessage(\"Unable to log\");\n    }\n  }\n}\n","import { Command } from \"./command\";\nimport { window, Uri, commands, ProgressLocation } from \"vscode\";\nimport { Repository } from \"../repository\";\nimport * as cp from \"child_process\";\nimport { tempSvnFs } from \"../temp_svn_fs\";\n\nexport class SearchLogByText extends Command {\n  constructor() {\n    super(\"svn.searchLogByText\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    const input = await window.showInputBox({ prompt: \"Search query\" });\n    if (!input) {\n      return;\n    }\n\n    const uri = Uri.parse(\"tempsvnfs:/svn.log\");\n    tempSvnFs.writeFile(uri, Buffer.from(\"\"), {\n      create: true,\n      overwrite: true\n    });\n\n    await commands.executeCommand<void>(\"vscode.open\", uri);\n\n    const proc = cp.spawn(\"svn\", [\"log\", \"--search\", input], {\n      cwd: repository.workspaceRoot\n    });\n\n    let content = \"\";\n\n    proc.stdout.on(\"data\", data => {\n      content += data.toString();\n\n      tempSvnFs.writeFile(uri, Buffer.from(content), {\n        create: true,\n        overwrite: true\n      });\n    });\n\n    window.withProgress(\n      {\n        cancellable: true,\n        location: ProgressLocation.Notification,\n        title: \"Searching Log\"\n      },\n      (_progress, token) => {\n        token.onCancellationRequested(() => {\n          proc.kill(\"SIGINT\");\n        });\n\n        return new Promise<void>((resolve, reject) => {\n          proc.on(\"exit\", (code: number) => {\n            code === 0 ? resolve() : reject();\n          });\n        });\n      }\n    );\n  }\n}\n","import { window } from \"vscode\";\nimport { selectBranch } from \"../helpers/branch\";\nimport { Repository } from \"../repository\";\nimport { Command } from \"./command\";\n\nexport class SwitchBranch extends Command {\n  constructor() {\n    super(\"svn.switchBranch\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    const branch = await selectBranch(repository, true);\n\n    if (!branch) {\n      return;\n    }\n\n    try {\n      if (branch.isNew) {\n        const commitMessage = await window.showInputBox({\n          value: `Created new branch ${branch.name}`,\n          prompt: `Commit message for create branch ${branch.name}`\n        });\n\n        // If press ESC on commit message\n        if (commitMessage === undefined) {\n          return;\n        }\n\n        await repository.newBranch(branch.path, commitMessage);\n      } else {\n        try {\n          await repository.switchBranch(branch.path);\n        } catch (error) {\n          if (\n            typeof error === \"object\" &&\n            error.hasOwnProperty(\"stderrFormated\") &&\n            error.stderrFormated.includes(\"ignore-ancestry\")\n          ) {\n            const answer = await window.showErrorMessage(\n              \"Seems like these branches don't have a common ancestor. \" +\n                \" Do you want to retry with '--ignore-ancestry' option?\",\n              \"Yes\",\n              \"No\"\n            );\n            if (answer === \"Yes\") {\n              await repository.switchBranch(branch.path, true);\n            }\n          } else {\n            throw error;\n          }\n        }\n      }\n    } catch (error) {\n      console.log(error);\n      if (branch.isNew) {\n        window.showErrorMessage(\"Unable to create new branch\");\n      } else {\n        window.showErrorMessage(\"Unable to switch branch\");\n      }\n    }\n  }\n}\n","import { window } from \"vscode\";\nimport { configuration } from \"../helpers/configuration\";\nimport { Repository } from \"../repository\";\nimport { Command } from \"./command\";\n\nexport class Update extends Command {\n  constructor() {\n    super(\"svn.update\", { repository: true });\n  }\n\n  public async execute(repository: Repository) {\n    try {\n      const ignoreExternals = configuration.get<boolean>(\n        \"update.ignoreExternals\",\n        false\n      );\n      const showUpdateMessage = configuration.get<boolean>(\n        \"showUpdateMessage\",\n        true\n      );\n\n      const result = await repository.updateRevision(ignoreExternals);\n\n      if (showUpdateMessage) {\n        window.showInformationMessage(result);\n      }\n    } catch (error) {\n      console.error(error);\n      window.showErrorMessage(\"Unable to update\");\n    }\n  }\n}\n","import { commands, window } from \"vscode\";\nimport { configuration } from \"../helpers/configuration\";\nimport { SourceControlManager } from \"../source_control_manager\";\nimport { fixPathSeparator } from \"../util\";\nimport { Command } from \"./command\";\n\nexport class Upgrade extends Command {\n  constructor() {\n    super(\"svn.upgrade\");\n  }\n\n  public async execute(folderPath: string) {\n    if (!folderPath) {\n      return;\n    }\n\n    if (configuration.get(\"ignoreWorkingCopyIsTooOld\", false)) {\n      return;\n    }\n\n    folderPath = fixPathSeparator(folderPath);\n\n    const yes = \"Yes\";\n    const no = \"No\";\n    const neverShowAgain = \"Don't Show Again\";\n    const choice = await window.showWarningMessage(\n      \"You want upgrade the working copy (svn upgrade)?\",\n      yes,\n      no,\n      neverShowAgain\n    );\n    const sourceControlManager = (await commands.executeCommand(\n      \"svn.getSourceControlManager\",\n      \"\"\n    )) as SourceControlManager;\n\n    if (choice === yes) {\n      const upgraded = await sourceControlManager.upgradeWorkingCopy(\n        folderPath\n      );\n\n      if (upgraded) {\n        window.showInformationMessage(`Working copy \"${folderPath}\" upgraded`);\n        sourceControlManager.tryOpenRepository(folderPath);\n      } else {\n        window.showErrorMessage(\n          `Error on upgrading working copy \"${folderPath}\". See log for more detail`\n        );\n      }\n    } else if (choice === neverShowAgain) {\n      return configuration.update(\"ignoreWorkingCopyIsTooOld\", true);\n    }\n\n    return;\n  }\n}\n","import { camelcase } from \"../util\";\n\nexport const xml2jsParseSettings = {\n  mergeAttrs: true,\n  explicitRoot: false,\n  explicitArray: false,\n  attrNameProcessors: [camelcase],\n  tagNameProcessors: [camelcase]\n};\n","import { SpawnOptions } from \"child_process\";\nimport { Disposable, SourceControlResourceGroup, Uri } from \"vscode\";\nimport { Repository } from \"../repository\";\nimport { Resource } from \"../resource\";\n\n/** Marker for constructors returning Promise<this> */\nexport enum ConstructorPolicy {\n  Async,\n  LateInit\n}\n\nexport interface IBranchItem {\n  name: string;\n  path: string;\n  isNew?: boolean;\n}\n\nexport interface ICommandOptions {\n  repository?: boolean;\n  diff?: boolean;\n}\n\nexport interface IConflictOption {\n  label: string;\n  description: string;\n}\n\nexport interface ISvnInfo {\n  kind: string;\n  path: string;\n  revision: string;\n  url: string;\n  relativeUrl: string;\n  repository: {\n    root: string;\n    uuid: string;\n  };\n  wcInfo?: {\n    wcrootAbspath?: string;\n    uuid: string;\n  };\n  commit: {\n    revision: string;\n    author: string;\n    date: string;\n  };\n}\n\nexport interface ISvnPath {\n  props: PropStatus;\n  kind: SvnKindType;\n  item: Status;\n  _: string;\n}\n\nexport interface ISvnPathChange {\n  oldPath: Uri;\n  newPath: Uri;\n  oldRevision: string;\n  newRevision: string;\n  props: PropStatus;\n  kind: SvnKindType;\n  item: Status;\n  repo: Uri;\n  localPath: Uri;\n}\n\nexport interface ISvnListItem {\n  kind: SvnKindType;\n  name: string;\n  size: string;\n  commit: {\n    revision: string;\n    author: string;\n    date: string;\n  };\n}\n\nexport enum SvnKindType {\n  FILE = \"file\",\n  DIR = \"dir\"\n}\n\nexport interface RepositoryChangeEvent {\n  repository: Repository;\n  uri: Uri;\n}\n\nexport interface IOriginalResourceChangeEvent {\n  repository: Repository;\n  uri: Uri;\n}\n\nexport interface IOpenRepository extends Disposable {\n  repository: Repository;\n}\n\nexport enum RepositoryState {\n  Idle,\n  Disposed\n}\n\nexport enum Operation {\n  Add = \"Add\",\n  AddChangelist = \"AddChangelist\",\n  Changes = \"Changes\",\n  CleanUp = \"CleanUp\",\n  Commit = \"Commit\",\n  CurrentBranch = \"CurrentBranch\",\n  Info = \"Info\",\n  Ignore = \"Ignore\",\n  Log = \"Log\",\n  NewBranch = \"NewBranch\",\n  Patch = \"Patch\",\n  Remove = \"Remove\",\n  RemoveChangelist = \"RemoveChangelist\",\n  Rename = \"Rename\",\n  Resolve = \"Resolve\",\n  Resolved = \"Resolved\",\n  Revert = \"Revert\",\n  Show = \"Show\",\n  Status = \"Status\",\n  StatusRemote = \"StatusRemote\",\n  SwitchBranch = \"SwitchBranch\",\n  Update = \"Update\",\n  List = \"List\"\n}\n\nexport interface ISvnResourceGroup extends SourceControlResourceGroup {\n  resourceStates: Resource[];\n  repository?: Repository;\n}\n\nexport interface IWcStatus {\n  locked: boolean;\n  switched: boolean;\n}\n\nexport interface IFileStatus {\n  status: string;\n  props: string;\n  path: string;\n  changelist?: string;\n  rename?: string;\n  wcStatus: IWcStatus;\n  commit?: {\n    revision: string;\n    author: string;\n    date: string;\n  };\n  repositoryUuid?: string;\n  reposStatus?: {\n    props: string;\n    item: string;\n  };\n  [key: number]: IFileStatus;\n}\n\nexport interface IEntry {\n  path: string;\n  wcStatus: {\n    item: string;\n    revision: string;\n    props: string;\n    movedTo?: string;\n    movedFrom?: string;\n    wcLocked?: string;\n    switched?: string;\n    commit: {\n      revision: string;\n      author: string;\n      date: string;\n    };\n  };\n  reposStatus?: {\n    props: string;\n    item: string;\n    lock?: Record<string, unknown>;\n  };\n}\n\nexport enum Status {\n  ADDED = \"added\",\n  CONFLICTED = \"conflicted\",\n  DELETED = \"deleted\",\n  EXTERNAL = \"external\",\n  IGNORED = \"ignored\",\n  INCOMPLETE = \"incomplete\",\n  MERGED = \"merged\",\n  MISSING = \"missing\",\n  MODIFIED = \"modified\",\n  NONE = \"none\",\n  NORMAL = \"normal\",\n  OBSTRUCTED = \"obstructed\",\n  REPLACED = \"replaced\",\n  UNVERSIONED = \"unversioned\"\n}\n\nexport enum PropStatus {\n  CONFLICTED = \"conflicted\",\n  MODIFIED = \"modified\",\n  NONE = \"none\",\n  NORMAL = \"normal\"\n}\n\nexport interface ICpOptions extends SpawnOptions {\n  cwd?: string;\n  encoding?: string | null;\n  log?: boolean;\n  username?: string;\n  password?: string;\n}\n\nexport interface ISvnErrorData {\n  error?: Error;\n  message?: string;\n  stdout?: string;\n  stderr?: string;\n  stderrFormated?: string;\n  exitCode?: number;\n  svnErrorCode?: string;\n  svnCommand?: string;\n}\n\nexport interface ISvnOptions {\n  svnPath: string;\n  version: string;\n}\n\nexport interface IExecutionResult {\n  exitCode: number;\n  stdout: string;\n  stderr: string;\n}\n\nexport interface ICacheRow {\n  uri: Uri;\n  timestamp: number;\n}\n\nexport interface ICache {\n  [uri: string]: ICacheRow;\n}\n\nexport interface ISvn {\n  path: string;\n  version: string;\n}\n\nexport enum SvnUriAction {\n  LOG = \"LOG\",\n  PATCH = \"PATCH\",\n  SHOW = \"SHOW\",\n  LOG_REVISION = \"LOG_REVISION\",\n  LOG_SEARCH = \"LOG_SEARCH\"\n}\n\nexport interface ISvnUriExtraParams {\n  ref?: string;\n  limit?: string;\n  [key: string]: any;\n  revision?: number;\n  search?: string;\n}\n\nexport interface ISvnUriParams {\n  action: SvnUriAction;\n  fsPath: string;\n  extra: ISvnUriExtraParams;\n}\n\nexport interface IDisposable {\n  dispose(): void;\n}\n\nexport interface IOperations {\n  isIdle(): boolean;\n  isRunning(operation: Operation): boolean;\n}\n\nexport interface IAuth {\n  username: string;\n  password: string;\n}\n\nexport interface IStoredAuth {\n  account: string;\n  password: string;\n}\nexport interface ISvnLogEntryPath {\n  /** full path from repo root */\n  _: string;\n  /** A | D | M | R */\n  action: string;\n  /** \"file\" | \"dir\" e.g. */\n  kind: string;\n  copyfromPath?: string;\n  copyfromRev?: string;\n}\n\n/** produced by svn log */\nexport interface ISvnLogEntry {\n  revision: string;\n  author: string;\n  date: string;\n  msg: string;\n  paths: ISvnLogEntryPath[];\n}\n\nexport enum SvnDepth {\n  empty = \"only the target itself\",\n  files = \"the target and any immediate file children thereof\",\n  immediates = \"the target and any immediate children thereof\",\n  infinity = \"the target and all of its descendants—full recursion\"\n}\n\nexport interface LineChange {\n  readonly originalStartLineNumber: number;\n  readonly originalEndLineNumber: number;\n  readonly modifiedStartLineNumber: number;\n  readonly modifiedEndLineNumber: number;\n}\n","/* tslint:disable:max-line-length */\n\nimport { QuickPickItem } from \"vscode\";\nimport { IConflictOption } from \"./common/types\";\n\nconst conflictOptions = [\n  {\n    label: \"base\",\n    description:\n      \"Choose the file that was the (unmodified) BASE revision before you tried to integrate changes\"\n  },\n  {\n    label: \"working\",\n    description:\n      \"Assuming that you've manually handled the conflict resolution, choose the version of the file as it currently stands in your working copy.\"\n  },\n  {\n    label: \"mine-full\",\n    description:\n      \"Preserve all local modifications and discarding all changes fetched\"\n  },\n  {\n    label: \"theirs-full\",\n    description:\n      \"Discard all local modifications and integrating all changes fetched\"\n  },\n  {\n    label: \"mine-conflict\",\n    description:\n      \"Resolve conflicted files by preferring local modifications over the changes fetched\"\n  },\n  {\n    label: \"theirs-conflict\",\n    description:\n      \"Resolve conflicted files by preferring the changes fetched from the server over local modifications\"\n  }\n];\n\nclass ConflictItem implements QuickPickItem {\n  constructor(private option: IConflictOption) {}\n\n  get label(): string {\n    return this.option.label;\n  }\n\n  get description(): string {\n    return this.option.description;\n  }\n}\n\nexport function getConflictPickOptions() {\n  return conflictOptions.map(option => new ConflictItem(option));\n}\n","import { Disposable, window } from \"vscode\";\nimport { Status } from \"../common/types\";\nimport { debounce } from \"../decorators\";\nimport { SourceControlManager } from \"../source_control_manager\";\nimport { IDisposable, setVscodeContext } from \"../util\";\n\nexport class CheckActiveEditor implements IDisposable {\n  private disposables: Disposable[] = [];\n\n  constructor(private sourceControlManager: SourceControlManager) {\n    // When repository update, like update\n    sourceControlManager.onDidChangeStatusRepository(\n      this.checkHasChangesOnActiveEditor,\n      this,\n      this.disposables\n    );\n\n    window.onDidChangeActiveTextEditor(\n      () => this.checkHasChangesOnActiveEditor(),\n      this,\n      this.disposables\n    );\n  }\n\n  @debounce(100)\n  private checkHasChangesOnActiveEditor() {\n    setVscodeContext(\n      \"svnActiveEditorHasChanges\",\n      this.hasChangesOnActiveEditor()\n    );\n  }\n\n  private hasChangesOnActiveEditor(): boolean {\n    if (!window.activeTextEditor) {\n      return false;\n    }\n    const uri = window.activeTextEditor.document.uri;\n\n    const repository = this.sourceControlManager.getRepository(uri);\n    if (!repository) {\n      return false;\n    }\n\n    const resource = repository.getResourceFromFile(uri);\n    if (!resource) {\n      return false;\n    }\n\n    switch (resource.type) {\n      case Status.ADDED:\n      case Status.DELETED:\n      case Status.EXTERNAL:\n      case Status.IGNORED:\n      case Status.NONE:\n      case Status.NORMAL:\n      case Status.UNVERSIONED:\n        return false;\n      case Status.CONFLICTED:\n      case Status.INCOMPLETE:\n      case Status.MERGED:\n      case Status.MISSING:\n      case Status.MODIFIED:\n      case Status.OBSTRUCTED:\n      case Status.REPLACED:\n        return true;\n    }\n\n    // Show if not match\n    return true;\n  }\n\n  public dispose(): void {\n    this.disposables.forEach(d => d.dispose());\n  }\n}\n","import { Disposable } from \"vscode\";\nimport * as semver from \"semver\";\nimport { setVscodeContext } from \"../util\";\n\nexport class IsSvn18orGreater implements Disposable {\n  constructor(svnVersion: string) {\n    const is18orGreater = semver.satisfies(svnVersion, \">= 1.8\");\n\n    setVscodeContext(\"isSvn18orGreater\", is18orGreater);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  dispose() {}\n}\n","import { Disposable } from \"vscode\";\nimport * as semver from \"semver\";\nimport { setVscodeContext } from \"../util\";\n\nexport class IsSvn19orGreater implements Disposable {\n  constructor(svnVersion: string) {\n    const is19orGreater = semver.satisfies(svnVersion, \">= 1.9\");\n\n    setVscodeContext(\"isSvn19orGreater\", is19orGreater);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  dispose() {}\n}\n","import { Disposable } from \"vscode\";\nimport { debounce } from \"../decorators\";\nimport { SourceControlManager } from \"../source_control_manager\";\nimport { IDisposable, setVscodeContext } from \"../util\";\n\nexport class OpenRepositoryCount implements IDisposable {\n  private disposables: Disposable[] = [];\n\n  constructor(private sourceControlManager: SourceControlManager) {\n    // When repository Opened or closed\n    sourceControlManager.onDidOpenRepository(\n      this.checkOpened,\n      this,\n      this.disposables\n    );\n    sourceControlManager.onDidCloseRepository(\n      this.checkOpened,\n      this,\n      this.disposables\n    );\n\n    this.checkOpened();\n  }\n\n  @debounce(100)\n  private checkOpened() {\n    setVscodeContext(\n      \"svnOpenRepositoryCount\",\n      this.sourceControlManager.repositories.length\n    );\n  }\n\n  public dispose(): void {\n    this.disposables.forEach(d => d.dispose());\n  }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\"use strict\";\n\nimport { done } from \"./util\";\n\nfunction decorate(\n  decorator: (fn: (...args: any[]) => void, key: string) => void\n): (_target: any, key: string, descriptor: any) => void {\n  return (_target: any, key: string, descriptor: any) => {\n    let fnKey: string | null = null;\n    let fn: ((...args: any[]) => void) | null = null;\n\n    if (typeof descriptor.value === \"function\") {\n      fnKey = \"value\";\n      fn = descriptor.value;\n    } else if (typeof descriptor.get === \"function\") {\n      fnKey = \"get\";\n      fn = descriptor.get;\n    }\n\n    if (!fn || !fnKey) {\n      throw new Error(\"not supported\");\n    }\n\n    descriptor[fnKey] = decorator(fn, key);\n  };\n}\n\nfunction _memoize(\n  fn: (...args: any[]) => void,\n  key: string\n): (this: any, ...args: any[]) => any {\n  const memoizeKey = `$memoize$${key}`;\n\n  return function (this: any, ...args: any[]) {\n    if (!this.hasOwnProperty(memoizeKey)) {\n      Object.defineProperty(this, memoizeKey, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: fn.apply(this, args)\n      });\n    }\n\n    return this[memoizeKey];\n  };\n}\n\nexport const memoize = decorate(_memoize);\n\nfunction _throttle(\n  fn: (...args: any[]) => void,\n  key: string\n): (this: any, ...args: any[]) => any {\n  const currentKey = `$throttle$current$${key}`;\n  const nextKey = `$throttle$next$${key}`;\n\n  const trigger = function (this: any, ...args: any[]) {\n    if (this[nextKey]) {\n      return this[nextKey];\n    }\n\n    if (this[currentKey]) {\n      this[nextKey] = done(this[currentKey]).then(() => {\n        this[nextKey] = undefined;\n        return trigger.apply(this, args);\n      });\n\n      return this[nextKey];\n    }\n\n    this[currentKey] = fn.apply(this, args);\n\n    const clear = () => (this[currentKey] = undefined);\n    done(this[currentKey]).then(clear, clear);\n\n    return this[currentKey];\n  };\n\n  return trigger;\n}\n\nexport const throttle = decorate(_throttle);\n\nfunction _sequentialize(\n  fn: (...args: any[]) => void,\n  key: string\n): (this: any, ...args: any[]) => any {\n  const currentKey = `__$sequence$${key}`;\n\n  return function (this: any, ...args: any[]) {\n    const currentPromise =\n      (this[currentKey] as Promise<any>) || Promise.resolve(null);\n    const run = async () => fn.apply(this, args);\n    this[currentKey] = currentPromise.then(run, run);\n    return this[currentKey];\n  };\n}\n\nexport const sequentialize = decorate(_sequentialize);\n\nexport function debounce(\n  delay: number\n): (_target: any, key: string, descriptor: any) => void {\n  return decorate((fn, key) => {\n    const timerKey = `$debounce$${key}`;\n\n    return function (this: any, ...args: any[]) {\n      clearTimeout(this[timerKey]);\n      this[timerKey] = setTimeout(() => fn.apply(this, args), delay);\n    };\n  });\n}\n\nconst _seqList: { [key: string]: any } = {};\n\nexport function globalSequentialize(\n  name: string\n): (_target: any, key: string, descriptor: any) => void {\n  return decorate((fn, _key) => {\n    return function (this: any, ...args: any[]) {\n      const currentPromise =\n        (_seqList[name] as Promise<any>) || Promise.resolve(null);\n      const run = async () => fn.apply(this, args);\n      _seqList[name] = currentPromise.then(run, run);\n      return _seqList[name];\n    };\n  });\n}\n","import { jschardet } from \"./vscodeModules\";\nimport * as chardet from \"chardet\";\nimport { configuration } from \"./helpers/configuration\";\n\nif (jschardet.Constants) {\n  jschardet.Constants.MINIMUM_THRESHOLD = 0.2;\n  jschardet.MacCyrillicModel.mTypicalPositiveRatio += 0.001;\n}\n\nfunction detectEncodingByBOM(buffer: Buffer): string | null {\n  if (!buffer || buffer.length < 2) {\n    return null;\n  }\n\n  const b0 = buffer.readUInt8(0);\n  const b1 = buffer.readUInt8(1);\n\n  // UTF-16 BE\n  if (b0 === 0xfe && b1 === 0xff) {\n    return \"utf16be\";\n  }\n\n  // UTF-16 LE\n  if (b0 === 0xff && b1 === 0xfe) {\n    return \"utf16le\";\n  }\n\n  if (buffer.length < 3) {\n    return null;\n  }\n\n  const b2 = buffer.readUInt8(2);\n\n  // UTF-8\n  if (b0 === 0xef && b1 === 0xbb && b2 === 0xbf) {\n    return \"utf8\";\n  }\n\n  return null;\n}\n\nconst IGNORE_ENCODINGS = [\"ascii\", \"utf-8\", \"utf-16\", \"utf-32\"];\n\nconst JSCHARDET_TO_ICONV_ENCODINGS: { [name: string]: string } = {\n  ibm866: \"cp866\",\n  big5: \"cp950\"\n};\n\nfunction normaliseEncodingName(name: string): string {\n  return name.replace(/[^a-zA-Z0-9]/g, \"\").toLowerCase();\n}\n\nexport function detectEncoding(buffer: Buffer): string | null {\n  const result = detectEncodingByBOM(buffer);\n\n  if (result) {\n    return result;\n  }\n\n  const experimental = configuration.get<boolean>(\n    \"experimental.detect_encoding\",\n    false\n  );\n  if (experimental) {\n    const detected = chardet.analyse(buffer);\n    const encodingPriorities = configuration.get<string[]>(\n      \"experimental.encoding_priority\",\n      []\n    );\n\n    if (!detected) {\n      return null;\n    }\n\n    for (const pri of encodingPriorities) {\n      for (const det of detected) {\n        if (normaliseEncodingName(pri) === normaliseEncodingName(det.name)) {\n          return normaliseEncodingName(det.name);\n        }\n      }\n    }\n\n    return null;\n  }\n\n  const detected = jschardet.detect(buffer.slice(0, 512 * 128)); // ensure to limit buffer for guessing due to https://github.com/aadsm/jschardet/issues/53\n\n  if (!detected || !detected.encoding || detected.confidence < 0.8) {\n    return null;\n  }\n\n  const encoding = detected.encoding;\n\n  // Ignore encodings that cannot guess correctly\n  // (http://chardet.readthedocs.io/en/latest/supported-encodings.html)\n  if (0 <= IGNORE_ENCODINGS.indexOf(encoding.toLowerCase())) {\n    return null;\n  }\n\n  const normalizedEncodingName = normaliseEncodingName(encoding);\n  const mapped = JSCHARDET_TO_ICONV_ENCODINGS[normalizedEncodingName];\n\n  return mapped || normalizedEncodingName;\n}\n","import { access as fsAccess } from \"original-fs\";\n\nexport function access(\n  path: string,\n  mode: number | undefined\n): Promise<boolean> {\n  return new Promise((resolve, _reject) => {\n    fsAccess(path, mode, err => (err ? resolve(false) : resolve(true)));\n  });\n}\n","import { access } from \"original-fs\";\n\nexport function exists(path: string): Promise<boolean> {\n  return new Promise((resolve, _reject) => {\n    access(path, err => (err ? resolve(false) : resolve(true)));\n  });\n}\n","export { access } from \"./access\";\nexport { exists } from \"./exists\";\nexport { lstat } from \"./lstat\";\nexport { mkdir } from \"./mkdir\";\nexport { readFile } from \"./read_file\";\nexport { readdir } from \"./readdir\";\nexport { rmdir } from \"./rmdir\";\nexport { stat } from \"./stat\";\nexport { unlink } from \"./unlink\";\nexport { writeFile } from \"./write_file\";\n","import { lstat as fsLstat } from \"original-fs\";\nimport { promisify } from \"util\";\n\nexport const lstat = promisify(fsLstat);\n","import { mkdir as fsMkdir } from \"original-fs\";\nimport { promisify } from \"util\";\n\nexport const mkdir = promisify(fsMkdir);\n","import { readFile as fsReadFile } from \"original-fs\";\nimport { promisify } from \"util\";\n\nexport const readFile = promisify(fsReadFile);\n","import { readdir as fsReaddir } from \"original-fs\";\nimport { promisify } from \"util\";\n\nexport const readdir = promisify(fsReaddir);\n","import { rmdir as fsRmdir } from \"original-fs\";\nimport { promisify } from \"util\";\n\nexport const rmdir = promisify(fsRmdir);\n","import { stat as fsStat } from \"original-fs\";\nimport { promisify } from \"util\";\n\nexport const stat = promisify(fsStat);\n","import { unlink as fsUnlink } from \"original-fs\";\nimport { promisify } from \"util\";\n\nexport const unlink = promisify(fsUnlink);\n","import { writeFile as fsWriteFile } from \"original-fs\";\nimport { promisify } from \"util\";\n\nexport const writeFile = promisify(fsWriteFile);\n","import { ProgressLocation, window } from \"vscode\";\nimport { IBranchItem, SvnKindType } from \"../common/types\";\nimport FolderItem from \"../quickPickItems/folderItem\";\nimport NewFolderItem from \"../quickPickItems/newFolderItem\";\nimport ParentFolderItem from \"../quickPickItems/parentFolderItem\";\nimport { Repository } from \"../repository\";\nimport { configuration } from \"./configuration\";\n\nexport function getBranchName(folder: string): IBranchItem | undefined {\n  const confs = [\n    \"layout.trunkRegex\",\n    \"layout.branchesRegex\",\n    \"layout.tagsRegex\"\n  ];\n\n  for (const conf of confs) {\n    const layout = configuration.get<string>(conf);\n    if (!layout) {\n      continue;\n    }\n    const group = configuration.get<number>(`${conf}Name`, 1) + 2;\n\n    const regex = new RegExp(`(^|/)(${layout})$`);\n\n    const matches = folder.match(regex);\n    if (matches && matches[2] && matches[group]) {\n      return {\n        name: matches[group],\n        path: matches[2]\n      };\n    }\n  }\n\n  return;\n}\n\nexport async function selectBranch(\n  repository: Repository,\n  allowNew = false,\n  folder?: string\n): Promise<IBranchItem | undefined> {\n  const promise = repository.repository.list(folder);\n\n  window.withProgress(\n    { location: ProgressLocation.Window, title: \"Checking remote branches\" },\n    () => promise\n  );\n\n  const list = await promise;\n\n  const dirs = list.filter(item => item.kind === SvnKindType.DIR);\n\n  const picks = [];\n\n  if (folder) {\n    const parts = folder.split(\"/\");\n    parts.pop();\n    const parent = parts.join(\"/\");\n    picks.push(new ParentFolderItem(parent));\n  }\n\n  if (allowNew && folder && !!getBranchName(`${folder}/test`)) {\n    picks.push(new NewFolderItem(folder));\n  }\n\n  picks.push(...dirs.map(dir => new FolderItem(dir, folder)));\n\n  const choice = await window.showQuickPick(picks);\n\n  if (!choice) {\n    return;\n  }\n\n  if (choice instanceof ParentFolderItem) {\n    return selectBranch(repository, allowNew, choice.path);\n  }\n  if (choice instanceof FolderItem) {\n    if (choice.branch) {\n      return choice.branch;\n    }\n\n    return selectBranch(repository, allowNew, choice.path);\n  }\n\n  if (choice instanceof NewFolderItem) {\n    const result = await window.showInputBox({\n      prompt: \"Please provide a branch name\",\n      ignoreFocusOut: true\n    });\n\n    if (!result) {\n      return;\n    }\n\n    const name = result.replace(\n      /^\\.|\\/\\.|\\.\\.|~|\\^|:|\\/$|\\.lock$|\\.lock\\/|\\\\|\\*|\\s|^\\s*$|\\.$/g,\n      \"-\"\n    );\n\n    const newBranch = getBranchName(`${folder}/${name}`);\n    if (newBranch) {\n      newBranch.isNew = true;\n    }\n\n    return newBranch;\n  }\n\n  return;\n}\n","\"use strict\";\n\nimport {\n  ConfigurationChangeEvent,\n  ConfigurationTarget,\n  Event,\n  EventEmitter,\n  workspace,\n  WorkspaceConfiguration\n} from \"vscode\";\n\nconst SVN = \"svn\";\n\nclass Configuration {\n  private configuration: WorkspaceConfiguration;\n  private _onDidChange = new EventEmitter<ConfigurationChangeEvent>();\n\n  get onDidChange(): Event<ConfigurationChangeEvent> {\n    return this._onDidChange.event;\n  }\n\n  constructor() {\n    this.configuration = workspace.getConfiguration(SVN);\n    workspace.onDidChangeConfiguration(this.onConfigurationChanged, this);\n  }\n\n  private onConfigurationChanged(event: ConfigurationChangeEvent) {\n    if (!event.affectsConfiguration(SVN)) {\n      return;\n    }\n\n    this.configuration = workspace.getConfiguration(SVN);\n\n    this._onDidChange.fire(event);\n  }\n\n  public get<T>(section: string, defaultValue?: T): T {\n    return this.configuration.get<T>(section, defaultValue!);\n  }\n\n  public update(\n    section: string,\n    value: any,\n    configurationTarget?: ConfigurationTarget | boolean\n  ): Thenable<void> {\n    return this.configuration.update(section, value, configurationTarget);\n  }\n\n  public inspect(section: string) {\n    return this.configuration.inspect(section);\n  }\n}\n\nexport const configuration = new Configuration();\n","import {\n  TreeDataProvider,\n  Disposable,\n  TreeItem,\n  commands,\n  EventEmitter,\n  window\n} from \"vscode\";\nimport { SourceControlManager } from \"../source_control_manager\";\nimport { ISvnPathChange, Status } from \"../common/types\";\nimport { openDiff, getIconObject, openFileRemote } from \"./common\";\nimport { dispose } from \"../util\";\n\nexport class BranchChangesProvider\n  implements TreeDataProvider<ISvnPathChange>, Disposable {\n  private _dispose: Disposable[] = [];\n  private _onDidChangeTreeData = new EventEmitter<ISvnPathChange | undefined>();\n  public readonly onDidChangeTreeData = this._onDidChangeTreeData.event;\n\n  constructor(private model: SourceControlManager) {\n    this._dispose.push(\n      window.registerTreeDataProvider(\"branchchanges\", this),\n      commands.registerCommand(\n        \"svn.branchchanges.openDiff\",\n        this.openDiffCmd,\n        this\n      ),\n      commands.registerCommand(\n        \"svn.branchchanges.refresh\",\n        () => this._onDidChangeTreeData.fire(),\n        this\n      ),\n      this.model.onDidChangeRepository(() => this._onDidChangeTreeData.fire())\n    );\n  }\n\n  dispose() {\n    dispose(this._dispose);\n  }\n\n  getTreeItem(element: ISvnPathChange): TreeItem | Thenable<TreeItem> {\n    let iconName: string = \"\";\n    if (element.item === Status.ADDED) {\n      iconName = \"status-added\";\n    } else if (element.item === Status.DELETED) {\n      iconName = \"status-deleted\";\n    } else if (element.item === Status.MODIFIED) {\n      iconName = \"status-modified\";\n    }\n\n    const iconPath = getIconObject(iconName);\n\n    return {\n      label: element.localPath.fsPath,\n      command: {\n        command: \"svn.branchchanges.openDiff\",\n        title: \"Open diff\",\n        arguments: [element]\n      },\n      iconPath,\n      tooltip: `${element.oldPath.fsPath.replace(element.repo.fsPath, \"\")}@r${\n        element.oldRevision\n      } → ${element.newPath.fsPath.replace(element.repo.fsPath, \"\")}@r${\n        element.newRevision\n      }`\n    };\n  }\n\n  getChildren(element?: ISvnPathChange): Promise<ISvnPathChange[]> {\n    if (element !== undefined) {\n      return Promise.resolve([]);\n    }\n\n    const changes: Promise<ISvnPathChange[]>[] = [];\n\n    for (const repo of this.model.repositories) {\n      changes.push(repo.getChanges());\n    }\n\n    return Promise.all(changes).then(value =>\n      value.reduce((prev, curr) => prev.concat(curr), [])\n    );\n  }\n\n  public async openDiffCmd(element: ISvnPathChange) {\n    const repo = await this.model.getRemoteRepository(element.repo);\n\n    if (element.item === Status.MODIFIED) {\n      return openDiff(\n        repo,\n        element.oldPath,\n        element.oldRevision,\n        element.newRevision,\n        element.newPath\n      );\n    }\n    if (element.item === Status.ADDED) {\n      return openFileRemote(repo, element.newPath, element.newRevision);\n    }\n  }\n}\n","import { createHash } from \"crypto\";\nimport * as path from \"path\";\nimport * as dayjs from \"dayjs\";\nimport * as relativeTime from \"dayjs/plugin/relativeTime\";\nimport {\n  commands,\n  env,\n  TextDocumentShowOptions,\n  TreeItem,\n  Uri,\n  window\n} from \"vscode\";\nimport { ISvnLogEntry, ISvnLogEntryPath } from \"../common/types\";\nimport { exists, lstat } from \"../fs\";\nimport { configuration } from \"../helpers/configuration\";\nimport { IRemoteRepository } from \"../remoteRepository\";\nimport { SvnRI } from \"../svnRI\";\nimport { tempSvnFs } from \"../temp_svn_fs\";\n\ndayjs.extend(relativeTime);\n\nexport enum LogTreeItemKind {\n  Repo = 1,\n  Commit,\n  CommitDetail,\n  TItem\n}\n\n// svn:// or ^/ or WC-path\nexport class SvnPath {\n  constructor(private path: string) {}\n  public toString(): string {\n    return this.path;\n  }\n}\n\nexport interface ICachedLog {\n  entries: ISvnLogEntry[];\n  // Uri of svn repository\n  svnTarget: Uri;\n  isComplete: boolean;\n  repo: IRemoteRepository;\n  persisted: {\n    readonly commitFrom: string;\n    baseRevision?: number;\n    readonly userAdded?: boolean;\n  };\n  order: number;\n}\n\ntype TreeItemData = ISvnLogEntry | ISvnLogEntryPath | SvnPath | TreeItem;\n\nexport interface ILogTreeItem {\n  readonly kind: LogTreeItemKind;\n  data: TreeItemData;\n  readonly parent?: ILogTreeItem;\n}\n\nexport function transform(\n  array: TreeItemData[],\n  kind: LogTreeItemKind,\n  parent?: ILogTreeItem\n): ILogTreeItem[] {\n  return array.map(data => {\n    return { kind, data, parent };\n  });\n}\n\nexport function getIconObject(iconName: string): { light: Uri; dark: Uri } {\n  // XXX Maybe use full path to extension?\n  // Path needs to be relative from out/\n  const iconsRootPath = path.join(__dirname, \"..\", \"icons\");\n  const toUri = (theme: string) =>\n    Uri.file(path.join(iconsRootPath, theme, `${iconName}.svg`));\n  return {\n    light: toUri(\"light\"),\n    dark: toUri(\"dark\")\n  };\n}\n\nexport async function copyCommitToClipboard(what: string, item: ILogTreeItem) {\n  const clipboard = (env as any).clipboard;\n  if (clipboard === undefined) {\n    window.showErrorMessage(\"Clipboard is supported in VS Code 1.30 and newer\");\n    return;\n  }\n  if (item.kind === LogTreeItemKind.Commit) {\n    const commit = item.data as ISvnLogEntry;\n    switch (what) {\n      case \"msg\":\n      case \"revision\":\n        await clipboard.writeText(commit[what]);\n    }\n  }\n}\n\nfunction needFetch(\n  cached: ISvnLogEntry[],\n  fetched: ISvnLogEntry[],\n  limit: number\n): boolean {\n  if (cached.length && cached[cached.length - 1].revision === \"1\") {\n    return false;\n  }\n  if (fetched.length === 0 || fetched[fetched.length - 1].revision === \"1\") {\n    return false;\n  }\n  if (fetched.length < limit) {\n    return false;\n  }\n  return true;\n}\n\nexport function insertBaseMarker(\n  item: ICachedLog,\n  entries: ISvnLogEntry[],\n  out: ILogTreeItem[]\n): TreeItem | undefined {\n  const baseRev = item.persisted.baseRevision;\n  if (\n    entries.length &&\n    baseRev &&\n    parseInt(entries[0].revision, 10) > baseRev\n  ) {\n    let i = 1;\n    while (entries.length > i && parseInt(entries[i].revision, 10) > baseRev) {\n      i++;\n    }\n    const titem = new TreeItem(\"BASE\");\n    titem.tooltip = \"Log entries above do not exist in working copy\";\n    out.splice(i, 0, { kind: LogTreeItemKind.TItem, data: titem });\n  }\n  return undefined;\n}\n\nexport async function checkIfFile(\n  e: SvnRI,\n  local: boolean\n): Promise<boolean | undefined> {\n  if (e.localFullPath === undefined) {\n    if (local) {\n      window.showErrorMessage(\"No working copy for this path\");\n    }\n    return undefined;\n  }\n  let stat;\n  try {\n    stat = await lstat(e.localFullPath.fsPath);\n  } catch {\n    window.showWarningMessage(\n      \"Not available from this working copy: \" + e.localFullPath\n    );\n    return false;\n  }\n  if (!stat.isFile()) {\n    window.showErrorMessage(\"This target is not a file\");\n    return false;\n  }\n  return true;\n}\n\nexport function getLimit(): number {\n  const limit = Number.parseInt(\n    configuration.get<string>(\"log.length\") || \"50\",\n    10\n  );\n  if (isNaN(limit) || limit <= 0) {\n    throw new Error(\"Invalid log.length setting value\");\n  }\n  return limit;\n}\n\n/// @note: cached.svnTarget should be valid\nexport async function fetchMore(cached: ICachedLog) {\n  let rfrom = cached.persisted.commitFrom;\n  const entries = cached.entries;\n  if (entries.length) {\n    rfrom = entries[entries.length - 1].revision;\n    rfrom = (Number.parseInt(rfrom, 10) - 1).toString();\n  }\n  let moreCommits: ISvnLogEntry[] = [];\n  const limit = getLimit();\n  try {\n    moreCommits = await cached.repo.log(rfrom, \"1\", limit, cached.svnTarget);\n  } catch {\n    // Item didn't exist\n  }\n  if (!needFetch(entries, moreCommits, limit)) {\n    cached.isComplete = true;\n  }\n  entries.push(...moreCommits);\n}\n\nconst gravatarCache: Map<string, Uri> = new Map();\n\nfunction md5(s: string): string {\n  const data = createHash(\"md5\");\n  data.write(s);\n  return data.digest().toString(\"hex\");\n}\n\nexport function getCommitIcon(\n  author: string,\n  size: number = 16\n): Uri | { light: Uri; dark: Uri } {\n  if (\n    (!configuration.get(\"gravatars.enabled\", true) as boolean) ||\n    author === undefined\n  ) {\n    return getIconObject(\"icon-commit\");\n  }\n\n  let gravatar = gravatarCache.get(author);\n  if (gravatar !== undefined) {\n    return gravatar;\n  }\n\n  const gravitarUrl = configuration\n    .get(\"gravatar.icon_url\", \"\")\n    .replace(\"<AUTHOR>\", author)\n    .replace(\"<AUTHOR_MD5>\", md5(author))\n    .replace(\"<SIZE>\", size.toString());\n\n  gravatar = Uri.parse(gravitarUrl);\n\n  gravatarCache.set(author, gravatar);\n\n  return gravatar;\n}\n\nexport function getCommitDescription(commit: ISvnLogEntry): string {\n  const relativeDate = dayjs(commit.date).fromNow();\n  return `r${commit.revision}, ${relativeDate} by ${commit.author}`;\n}\n\nexport function getCommitLabel(commit: ISvnLogEntry): string {\n  if (!commit.msg) {\n    return \"<blank>\";\n  }\n  return commit.msg.split(/\\r?\\n/, 1)[0];\n}\n\nexport function getCommitToolTip(commit: ISvnLogEntry): string {\n  let date = commit.date;\n  if (!isNaN(Date.parse(date))) {\n    date = new Date(date).toString();\n  }\n  return `Author: ${commit.author}\n${date}\nRevision: ${commit.revision}\nMessage: ${commit.msg}`;\n}\n\nasync function downloadFile(\n  repo: IRemoteRepository,\n  arg: Uri,\n  revision: string\n): Promise<Uri> {\n  if (revision === \"BASE\") {\n    const nm = repo.getPathNormalizer();\n    const ri = nm.parse(arg.toString(true));\n    const localPath = ri.localFullPath;\n    if (localPath === undefined || !(await exists(localPath.path))) {\n      const errorMsg =\n        \"BASE revision doesn't exist for \" +\n        (localPath ? localPath.path : \"remote path\");\n      window.showErrorMessage(errorMsg);\n      throw new Error(errorMsg);\n    }\n    return localPath;\n  }\n  let out;\n  try {\n    out = await repo.show(arg, revision);\n  } catch (e) {\n    window.showErrorMessage(\"Failed to open path\");\n    throw e;\n  }\n  return tempSvnFs.createTempSvnRevisionFile(arg, revision, out);\n}\n\nexport async function openDiff(\n  repo: IRemoteRepository,\n  arg1: Uri,\n  r1: string,\n  r2: string,\n  arg2?: Uri\n) {\n  const uri1 = await downloadFile(repo, arg1, r1);\n  const uri2 = await downloadFile(repo, arg2 || arg1, r2);\n  const opts: TextDocumentShowOptions = {\n    preview: true\n  };\n  const title = `${path.basename(arg1.path)} (${r1} : ${r2})`;\n  return commands.executeCommand<void>(\"vscode.diff\", uri1, uri2, title, opts);\n}\n\nexport async function openFileRemote(\n  repo: IRemoteRepository,\n  arg: Uri,\n  against: string\n) {\n  let out;\n  try {\n    out = await repo.show(arg, against);\n  } catch {\n    window.showErrorMessage(\"Failed to open path\");\n    return;\n  }\n  const localUri = await tempSvnFs.createTempSvnRevisionFile(arg, against, out);\n  const opts: TextDocumentShowOptions = {\n    preview: true\n  };\n  return commands.executeCommand<void>(\"vscode.open\", localUri, opts);\n}\n","import * as path from \"path\";\nimport {\n  commands,\n  Disposable,\n  Event,\n  EventEmitter,\n  TextEditor,\n  TreeDataProvider,\n  TreeItem,\n  TreeItemCollapsibleState,\n  Uri,\n  window\n} from \"vscode\";\nimport { ISvnLogEntry } from \"../common/types\";\nimport { SourceControlManager } from \"../source_control_manager\";\nimport { dispose, unwrap } from \"../util\";\nimport {\n  copyCommitToClipboard,\n  fetchMore,\n  getCommitIcon,\n  getCommitLabel,\n  getCommitToolTip,\n  getIconObject,\n  getLimit,\n  ICachedLog,\n  ILogTreeItem,\n  insertBaseMarker,\n  LogTreeItemKind,\n  openDiff,\n  openFileRemote,\n  transform,\n  getCommitDescription\n} from \"./common\";\n\nexport class ItemLogProvider\n  implements TreeDataProvider<ILogTreeItem>, Disposable {\n  private _onDidChangeTreeData: EventEmitter<\n    ILogTreeItem | undefined\n  > = new EventEmitter<ILogTreeItem | undefined>();\n  public readonly onDidChangeTreeData: Event<ILogTreeItem | undefined> = this\n    ._onDidChangeTreeData.event;\n\n  private currentItem?: ICachedLog;\n  private _dispose: Disposable[] = [];\n\n  constructor(private sourceControlManager: SourceControlManager) {\n    this._dispose.push(\n      window.onDidChangeActiveTextEditor(this.editorChanged, this),\n      window.registerTreeDataProvider(\"itemlog\", this),\n      commands.registerCommand(\n        \"svn.itemlog.copymsg\",\n        async (item: ILogTreeItem) => copyCommitToClipboard(\"msg\", item)\n      ),\n      commands.registerCommand(\n        \"svn.itemlog.copyrevision\",\n        async (item: ILogTreeItem) => copyCommitToClipboard(\"revision\", item)\n      ),\n      commands.registerCommand(\n        \"svn.itemlog.openFileRemote\",\n        this.openFileRemoteCmd,\n        this\n      ),\n      commands.registerCommand(\"svn.itemlog.openDiff\", this.openDiffCmd, this),\n      commands.registerCommand(\n        \"svn.itemlog.openDiffBase\",\n        this.openDiffBaseCmd,\n        this\n      ),\n      commands.registerCommand(\"svn.itemlog.refresh\", this.refresh, this)\n    );\n    this.refresh();\n  }\n\n  public dispose() {\n    dispose(this._dispose);\n  }\n\n  public async openFileRemoteCmd(element: ILogTreeItem) {\n    const commit = element.data as ISvnLogEntry;\n    const item = unwrap(this.currentItem);\n    return openFileRemote(item.repo, item.svnTarget, commit.revision);\n  }\n\n  public async openDiffBaseCmd(element: ILogTreeItem) {\n    const commit = element.data as ISvnLogEntry;\n    const item = unwrap(this.currentItem);\n    return openDiff(item.repo, item.svnTarget, commit.revision, \"BASE\");\n  }\n\n  public async openDiffCmd(element: ILogTreeItem) {\n    const commit = element.data as ISvnLogEntry;\n    const item = unwrap(this.currentItem);\n    const pos = item.entries.findIndex(e => e === commit);\n    if (pos === item.entries.length - 1) {\n      window.showWarningMessage(\"Cannot diff last commit\");\n      return;\n    }\n    const prevRev = item.entries[pos + 1].revision;\n    return openDiff(item.repo, item.svnTarget, prevRev, commit.revision);\n  }\n\n  public async editorChanged(te?: TextEditor) {\n    return this.refresh(undefined, te);\n  }\n\n  public async refresh(\n    element?: ILogTreeItem,\n    te?: TextEditor,\n    loadMore?: boolean\n  ) {\n    // TODO maybe make autorefresh optionable?\n    if (loadMore) {\n      await fetchMore(unwrap(this.currentItem));\n      this._onDidChangeTreeData.fire(element);\n      return;\n    }\n\n    if (te === undefined) {\n      te = window.activeTextEditor;\n    }\n    if (te) {\n      const uri = te.document.uri;\n      if (uri.scheme === \"file\") {\n        const repo = this.sourceControlManager.getRepository(uri);\n        if (repo !== null) {\n          try {\n            const info = await repo.getInfo(uri.fsPath);\n            this.currentItem = {\n              isComplete: false,\n              entries: [],\n              repo,\n              svnTarget: Uri.parse(info.url),\n              persisted: {\n                commitFrom: \"HEAD\",\n                baseRevision: parseInt(info.revision, 10)\n              },\n              order: 0\n            };\n          } catch (e) {\n            // doesn't belong to this repo\n          }\n        }\n      }\n      this._onDidChangeTreeData.fire(element);\n    }\n  }\n\n  public async getTreeItem(element: ILogTreeItem): Promise<TreeItem> {\n    let ti: TreeItem;\n    if (element.kind === LogTreeItemKind.Commit) {\n      const commit = element.data as ISvnLogEntry;\n      ti = new TreeItem(getCommitLabel(commit), TreeItemCollapsibleState.None);\n      ti.description = getCommitDescription(commit);\n      ti.iconPath = getCommitIcon(commit.author);\n      ti.tooltip = getCommitToolTip(commit);\n      ti.contextValue = \"diffable\";\n      ti.command = {\n        command: \"svn.itemlog.openDiff\",\n        title: \"Open diff\",\n        arguments: [element]\n      };\n    } else if (element.kind === LogTreeItemKind.TItem) {\n      ti = element.data as TreeItem;\n    } else {\n      throw new Error(\"Shouldn't happen\");\n    }\n    return ti;\n  }\n\n  public async getChildren(\n    element: ILogTreeItem | undefined\n  ): Promise<ILogTreeItem[]> {\n    if (this.currentItem === undefined) {\n      return [];\n    }\n    if (element === undefined) {\n      const fname = path.basename(this.currentItem.svnTarget.fsPath);\n      const ti = new TreeItem(fname, TreeItemCollapsibleState.Expanded);\n      ti.tooltip = path.dirname(this.currentItem.svnTarget.fsPath);\n      ti.description = path.dirname(this.currentItem.svnTarget.fsPath);\n      ti.iconPath = getIconObject(\"icon-history\");\n      const item = {\n        kind: LogTreeItemKind.TItem,\n        data: ti\n      };\n      return [item];\n    } else {\n      const entries = this.currentItem.entries;\n      if (entries.length === 0) {\n        await fetchMore(this.currentItem);\n      }\n      const result = transform(entries, LogTreeItemKind.Commit);\n      insertBaseMarker(this.currentItem, entries, result);\n      if (!this.currentItem.isComplete) {\n        const ti = new TreeItem(`Load another ${getLimit()} revisions`);\n        const ltItem: ILogTreeItem = {\n          kind: LogTreeItemKind.TItem,\n          data: ti\n        };\n        ti.tooltip = \"Paging size may be adjusted using log.length setting\";\n        ti.command = {\n          command: \"svn.itemlog.refresh\",\n          arguments: [element, undefined, true],\n          title: \"refresh element\"\n        };\n        ti.iconPath = getIconObject(\"icon-unfold\");\n        result.push(ltItem);\n      }\n      return result;\n    }\n  }\n}\n","import * as path from \"path\";\nimport {\n  commands,\n  Disposable,\n  Event,\n  EventEmitter,\n  TreeDataProvider,\n  TreeItem,\n  TreeItemCollapsibleState,\n  Uri,\n  window,\n  workspace\n} from \"vscode\";\nimport {\n  RepositoryChangeEvent,\n  ISvnLogEntry,\n  ISvnLogEntryPath\n} from \"../common/types\";\nimport { exists } from \"../fs\";\nimport { SourceControlManager } from \"../source_control_manager\";\nimport { IRemoteRepository } from \"../remoteRepository\";\nimport { Repository } from \"../repository\";\nimport { dispose, unwrap } from \"../util\";\nimport {\n  checkIfFile,\n  copyCommitToClipboard,\n  fetchMore,\n  getCommitIcon,\n  getCommitLabel,\n  getCommitToolTip,\n  getIconObject,\n  getLimit,\n  ICachedLog,\n  ILogTreeItem,\n  insertBaseMarker,\n  LogTreeItemKind,\n  openDiff,\n  openFileRemote,\n  SvnPath,\n  transform,\n  getCommitDescription\n} from \"./common\";\n\nfunction getActionIcon(action: string) {\n  let name: string | undefined;\n  switch (action) {\n    case \"A\":\n      name = \"status-added\";\n      break;\n    case \"D\":\n      name = \"status-deleted\";\n      break;\n    case \"M\":\n      name = \"status-modified\";\n      break;\n    case \"R\":\n      name = \"status-renamed\";\n      break;\n  }\n  if (name === undefined) {\n    return undefined;\n  }\n  return getIconObject(name);\n}\n\nexport class RepoLogProvider\n  implements TreeDataProvider<ILogTreeItem>, Disposable {\n  private _onDidChangeTreeData: EventEmitter<\n    ILogTreeItem | undefined\n  > = new EventEmitter<ILogTreeItem | undefined>();\n  public readonly onDidChangeTreeData: Event<ILogTreeItem | undefined> = this\n    ._onDidChangeTreeData.event;\n  // TODO on-disk cache?\n  private readonly logCache: Map<string, ICachedLog> = new Map();\n  private _dispose: Disposable[] = [];\n\n  private getCached(maybeItem?: ILogTreeItem): ICachedLog {\n    const item = unwrap(maybeItem);\n    if (item.data instanceof SvnPath) {\n      return unwrap(this.logCache.get(item.data.toString()));\n    }\n    return this.getCached(item.parent);\n  }\n\n  constructor(private sourceControlManager: SourceControlManager) {\n    this.refresh();\n    this._dispose.push(\n      window.registerTreeDataProvider(\"repolog\", this),\n      commands.registerCommand(\n        \"svn.repolog.copymsg\",\n        async (item: ILogTreeItem) => copyCommitToClipboard(\"msg\", item)\n      ),\n      commands.registerCommand(\n        \"svn.repolog.copyrevision\",\n        async (item: ILogTreeItem) => copyCommitToClipboard(\"revision\", item)\n      ),\n      commands.registerCommand(\n        \"svn.repolog.addrepolike\",\n        this.addRepolikeGui,\n        this\n      ),\n      commands.registerCommand(\"svn.repolog.remove\", this.removeRepo, this),\n      commands.registerCommand(\n        \"svn.repolog.openFileRemote\",\n        this.openFileRemoteCmd,\n        this\n      ),\n      commands.registerCommand(\"svn.repolog.openDiff\", this.openDiffCmd, this),\n      commands.registerCommand(\n        \"svn.repolog.openFileLocal\",\n        this.openFileLocal,\n        this\n      ),\n      commands.registerCommand(\"svn.repolog.refresh\", this.refresh, this),\n      this.sourceControlManager.onDidChangeRepository(\n        async (_e: RepositoryChangeEvent) => {\n          return this.refresh();\n          // TODO refresh only required repo, need to pass element === getChildren()\n        }\n      )\n    );\n  }\n\n  public dispose() {\n    dispose(this._dispose);\n  }\n\n  public removeRepo(element: ILogTreeItem) {\n    this.logCache.delete((element.data as SvnPath).toString());\n    this.refresh();\n  }\n\n  private async addRepolike(repoLike: string, rev: string) {\n    // TODO save user's custom repositories\n    const item: ICachedLog = {\n      entries: [],\n      isComplete: false,\n      svnTarget: {} as Uri, // later\n      repo: {} as IRemoteRepository, // later\n      persisted: {\n        commitFrom: rev,\n        userAdded: true\n      },\n      order: this.logCache.size\n    };\n    if (this.logCache.has(repoLike)) {\n      window.showWarningMessage(\"This path is already added\");\n      return;\n    }\n    const repo = this.sourceControlManager.getRepository(repoLike);\n    if (repo === null) {\n      try {\n        let uri: Uri;\n        if (repoLike.startsWith(\"^\")) {\n          const wsrepo = this.sourceControlManager.getRepository(\n            unwrap(workspace.workspaceFolders)[0].uri\n          );\n          if (!wsrepo) {\n            throw new Error(\"No repository in workspace root\");\n          }\n          const info = await wsrepo.getInfo(repoLike);\n          uri = Uri.parse(info.url);\n        } else {\n          uri = Uri.parse(repoLike);\n        }\n        if (rev !== \"HEAD\" && isNaN(parseInt(rev, 10))) {\n          throw new Error(\"erroneous revision\");\n        }\n        const remRepo = await this.sourceControlManager.getRemoteRepository(\n          uri\n        );\n        item.repo = remRepo;\n        item.svnTarget = uri;\n      } catch (e) {\n        window.showWarningMessage(\n          \"Failed to add repo: \" + (e instanceof Error ? e.message : \"\")\n        );\n        return;\n      }\n    } else {\n      try {\n        const svninfo = await repo.getInfo(repoLike, rev);\n        item.repo = repo;\n        item.svnTarget = Uri.parse(svninfo.url);\n        item.persisted.baseRevision = parseInt(svninfo.revision, 10);\n      } catch (e) {\n        window.showErrorMessage(\"Failed to resolve svn path\");\n        return;\n      }\n    }\n\n    const repoName = item.svnTarget.toString(true);\n    if (this.logCache.has(repoName)) {\n      window.showWarningMessage(\"Repository with this name already exists\");\n      return;\n    }\n    this.logCache.set(repoName, item);\n    this._onDidChangeTreeData.fire();\n  }\n\n  public addRepolikeGui() {\n    const box = window.createInputBox();\n    box.prompt = \"Enter SVN URL or local path\";\n    box.onDidAccept(async () => {\n      let repoLike = box.value;\n      if (\n        !path.isAbsolute(repoLike) &&\n        workspace.workspaceFolders &&\n        !repoLike.startsWith(\"^\") &&\n        !/^[a-z]+?:\\/\\//.test(repoLike)\n      ) {\n        for (const wsf of workspace.workspaceFolders) {\n          const joined = path.join(wsf.uri.fsPath, repoLike);\n          if (await exists(joined)) {\n            repoLike = joined;\n            break;\n          }\n        }\n      }\n      box.dispose();\n      const box2 = window.createInputBox();\n      box2.prompt = \"Enter starting revision (optional)\";\n      box2.onDidAccept(async () => {\n        const rev = box2.value;\n        box2.dispose();\n        return this.addRepolike(repoLike, rev || \"HEAD\");\n      }, undefined);\n      box2.show();\n    });\n    box.show();\n  }\n\n  public async openFileRemoteCmd(element: ILogTreeItem) {\n    const commit = element.data as ISvnLogEntryPath;\n    const item = this.getCached(element);\n    const ri = item.repo.getPathNormalizer().parse(commit._);\n    if ((await checkIfFile(ri, false)) === false) {\n      return;\n    }\n    const parent = (element.parent as ILogTreeItem).data as ISvnLogEntry;\n    return openFileRemote(item.repo, ri.remoteFullPath, parent.revision);\n  }\n\n  public openFileLocal(element: ILogTreeItem) {\n    const commit = element.data as ISvnLogEntryPath;\n    const item = this.getCached(element);\n    const ri = item.repo.getPathNormalizer().parse(commit._);\n    if (!checkIfFile(ri, true)) {\n      return;\n    }\n    commands.executeCommand(\"vscode.open\", unwrap(ri.localFullPath));\n  }\n\n  public async openDiffCmd(element: ILogTreeItem) {\n    const commit = element.data as ISvnLogEntryPath;\n    const item = this.getCached(element);\n    const parent = (element.parent as ILogTreeItem).data as ISvnLogEntry;\n    const remotePath = item.repo.getPathNormalizer().parse(commit._)\n      .remoteFullPath;\n    let prevRev: ISvnLogEntry;\n\n    const revs = await item.repo.log(parent.revision, \"1\", 2, remotePath);\n\n    if (revs.length === 2) {\n      prevRev = revs[1];\n    } else {\n      window.showWarningMessage(\"Cannot find previous commit\");\n      return;\n    }\n\n    return openDiff(item.repo, remotePath, prevRev.revision, parent.revision);\n  }\n\n  public async refresh(element?: ILogTreeItem, fetchMoreClick?: boolean) {\n    if (element === undefined) {\n      for (const [k, v] of this.logCache) {\n        // Remove auto-added repositories\n        if (!v.persisted.userAdded) {\n          this.logCache.delete(k);\n        }\n      }\n      for (const repo of this.sourceControlManager.repositories) {\n        const remoteRoot = repo.branchRoot;\n        const repoUrl = remoteRoot.toString(true);\n        let persisted: ICachedLog[\"persisted\"] = {\n          commitFrom: \"HEAD\",\n          baseRevision: parseInt(repo.repository.info.revision, 10)\n        };\n        const prev = this.logCache.get(repoUrl);\n        if (prev) {\n          persisted = prev.persisted;\n        }\n        this.logCache.set(repoUrl, {\n          entries: [],\n          isComplete: false,\n          repo,\n          svnTarget: remoteRoot,\n          persisted,\n          order: this.logCache.size\n        });\n      }\n    } else if (element.kind === LogTreeItemKind.Repo) {\n      const cached = this.getCached(element);\n      if (fetchMoreClick) {\n        await fetchMore(cached);\n      } else {\n        cached.entries = [];\n        cached.isComplete = false;\n      }\n    }\n    this._onDidChangeTreeData.fire(element);\n  }\n\n  public async getTreeItem(element: ILogTreeItem): Promise<TreeItem> {\n    let ti: TreeItem;\n    if (element.kind === LogTreeItemKind.Repo) {\n      const svnTarget = element.data as SvnPath;\n      const cached = this.getCached(element);\n      ti = new TreeItem(\n        svnTarget.toString(),\n        TreeItemCollapsibleState.Collapsed\n      );\n      if (cached.persisted.userAdded) {\n        ti.label = \"∘ \" + ti.label;\n        ti.contextValue = \"userrepo\";\n      } else {\n        ti.contextValue = \"repo\";\n      }\n      if (cached.repo instanceof Repository) {\n        ti.iconPath = getIconObject(\"folder\");\n      } else {\n        ti.iconPath = getIconObject(\"icon-repo\");\n      }\n      const from = cached.persisted.commitFrom || \"HEAD\";\n      ti.tooltip = `${svnTarget} since ${from}`;\n    } else if (element.kind === LogTreeItemKind.Commit) {\n      const commit = element.data as ISvnLogEntry;\n      ti = new TreeItem(\n        getCommitLabel(commit),\n        TreeItemCollapsibleState.Collapsed\n      );\n      ti.description = getCommitDescription(commit);\n      ti.tooltip = getCommitToolTip(commit);\n      ti.iconPath = getCommitIcon(commit.author);\n      ti.contextValue = \"commit\";\n    } else if (element.kind === LogTreeItemKind.CommitDetail) {\n      // TODO optional tree-view instead of flat\n      const pathElem = element.data as ISvnLogEntryPath;\n      const basename = path.basename(pathElem._);\n      ti = new TreeItem(basename, TreeItemCollapsibleState.None);\n      ti.description = path.dirname(pathElem._);\n      const cached = this.getCached(element);\n      const nm = cached.repo.getPathNormalizer();\n      ti.tooltip = nm.parse(pathElem._).relativeFromBranch;\n      ti.iconPath = getActionIcon(pathElem.action);\n      ti.contextValue = \"diffable\";\n      ti.command = {\n        command: \"svn.repolog.openDiff\",\n        title: \"Open diff\",\n        arguments: [element]\n      };\n    } else if (element.kind === LogTreeItemKind.TItem) {\n      ti = element.data as TreeItem;\n    } else {\n      throw new Error(\"Unknown tree elem\");\n    }\n\n    return ti;\n  }\n\n  public async getChildren(\n    element: ILogTreeItem | undefined\n  ): Promise<ILogTreeItem[]> {\n    if (element === undefined) {\n      return transform(\n        Array.from(this.logCache.entries())\n          .sort(([_lk, lv], [_rk, rv]): number => {\n            if (lv.persisted.userAdded !== rv.persisted.userAdded) {\n              return lv.persisted.userAdded ? 1 : -1;\n            }\n            return lv.order - rv.order;\n          })\n          .map(([k, _v]) => new SvnPath(k)),\n        LogTreeItemKind.Repo\n      );\n    } else if (element.kind === LogTreeItemKind.Repo) {\n      const limit = getLimit();\n      const cached = this.getCached(element);\n      const logentries = cached.entries;\n      if (logentries.length === 0) {\n        await fetchMore(cached);\n      }\n      const result = transform(logentries, LogTreeItemKind.Commit, element);\n      insertBaseMarker(cached, logentries, result);\n      if (!cached.isComplete) {\n        const ti = new TreeItem(`Load another ${limit} revisions`);\n        ti.tooltip = \"Paging size may be adjusted using log.length setting\";\n        ti.command = {\n          command: \"svn.repolog.refresh\",\n          arguments: [element, true],\n          title: \"refresh element\"\n        };\n        ti.iconPath = getIconObject(\"icon-unfold\");\n        result.push({ kind: LogTreeItemKind.TItem, data: ti });\n      }\n      return result;\n    } else if (element.kind === LogTreeItemKind.Commit) {\n      const commit = element.data as ISvnLogEntry;\n      return transform(commit.paths, LogTreeItemKind.CommitDetail, element);\n    }\n    return [];\n  }\n}\n","import * as path from \"path\";\nimport { QuickPickItem, Uri, window } from \"vscode\";\nimport { Repository } from \"./repository\";\n\nexport class IgnoreSingleItem implements QuickPickItem {\n  constructor(public expression: string, public recursive: boolean = false) {}\n\n  get label(): string {\n    const text = this.recursive ? \" (Recursive)\" : \"\";\n    return `${this.expression}${text}`;\n  }\n\n  get description(): string {\n    const text = this.recursive ? \" (Recursive)\" : \"\";\n    return `Add '${this.expression}' to 'svn:ignore'${text}`;\n  }\n}\n\nexport async function inputIgnoreList(repository: Repository, uris: Uri[]) {\n  if (uris.length === 0) {\n    return false;\n  }\n\n  const regexExtension = new RegExp(\"\\\\.[^\\\\.]+(\\\\.map)?$\", \"i\");\n\n  if (uris.length === 1) {\n    const uri = uris[0];\n    const matchExt = uri.fsPath.match(regexExtension);\n    const ext = matchExt && matchExt[0] ? matchExt[0] : \"\";\n    const fileName = path.basename(uri.fsPath);\n    const dirName = path.dirname(uri.fsPath);\n\n    const picks: IgnoreSingleItem[] = [];\n    picks.push(new IgnoreSingleItem(fileName));\n    if (ext) {\n      picks.push(new IgnoreSingleItem(\"*\" + ext));\n    }\n    picks.push(new IgnoreSingleItem(fileName, true));\n    if (ext) {\n      picks.push(new IgnoreSingleItem(\"*\" + ext, true));\n    }\n\n    const pick = await window.showQuickPick(picks);\n\n    if (!pick) {\n      return false;\n    }\n\n    return repository.addToIgnore([pick.expression], dirName, pick.recursive);\n  }\n\n  const count = uris.length;\n  const recursive = \"(Recursive)\";\n\n  const ignoreByFileName = `Ignore ${count} by filename`;\n  const ignoreByExtension = `Ignore ${count} by extension`;\n  const ignoreByFileNameRecursive = `Ignore ${count} by filename ${recursive}`;\n  const ignoreByExtensionRecursive = `Ignore ${count} by extension ${recursive}`;\n\n  const picks: string[] = [\n    ignoreByFileName,\n    ignoreByExtension,\n    ignoreByFileNameRecursive,\n    ignoreByExtensionRecursive\n  ];\n\n  const pick = await window.showQuickPick(picks);\n\n  if (!pick) {\n    return false;\n  }\n\n  const isByFile = pick.startsWith(ignoreByFileName);\n  const isRecursive = pick.endsWith(recursive);\n\n  const byDir: { [key: string]: string[] } = {};\n\n  for (const uri of uris) {\n    const dirname = path.dirname(uri.fsPath);\n    const filename = path.basename(uri.fsPath);\n    const matchExt = uri.fsPath.match(regexExtension);\n    const ext = matchExt && matchExt[0] ? matchExt[0] : \"\";\n\n    if (typeof byDir[dirname] === \"undefined\") {\n      byDir[dirname] = [];\n    }\n\n    if (isByFile) {\n      byDir[dirname].push(filename);\n    } else if (ext) {\n      byDir[dirname].push(\"*\" + ext);\n    }\n  }\n\n  for (const dir in byDir) {\n    if (byDir.hasOwnProperty(dir)) {\n      const files = [...new Set(byDir[dir])]; // Unique list\n      await repository.addToIgnore(files, dir, isRecursive);\n    }\n  }\n\n  return true;\n}\n","import { Uri, window } from \"vscode\";\nimport { SvnDepth } from \"../common/types\";\nimport { lstat } from \"../fs\";\n\nexport async function confirmRevert() {\n  const yes = \"Yes I'm sure\";\n  const answer = await window.showWarningMessage(\n    \"Are you sure? This will wipe all local changes.\",\n    { modal: true },\n    yes\n  );\n\n  if (answer !== yes) {\n    return false;\n  }\n\n  return true;\n}\n\nexport async function promptDepth() {\n  const picks: any[] = [];\n\n  for (const depth in SvnDepth) {\n    if (SvnDepth.hasOwnProperty(depth)) {\n      picks.push({ label: depth, description: (SvnDepth as any)[depth] });\n    }\n  }\n\n  const placeHolder = \"Select revert depth\";\n  const pick = await window.showQuickPick(picks, { placeHolder });\n  if (!pick) {\n    return undefined;\n  }\n  return pick.label;\n}\n\nexport async function checkAndPromptDepth(\n  uris: Uri[],\n  defaultDepth: keyof typeof SvnDepth = \"empty\"\n) {\n  // Without uris, force prompt\n  let hasDirectory = uris.length === 0;\n\n  for (const uri of uris) {\n    if (uri.scheme !== \"file\") {\n      continue;\n    }\n    try {\n      const stat = await lstat(uri.fsPath);\n      if (stat.isDirectory()) {\n        hasDirectory = true;\n        break;\n      }\n    } catch (error) {\n      // ignore\n    }\n  }\n\n  if (hasDirectory) {\n    return promptDepth();\n  }\n\n  return defaultDepth;\n}\n","import { Range, TextDocument } from \"vscode\";\nimport { LineChange } from \"./common/types\";\n\nexport function applyLineChanges(\n  original: TextDocument,\n  modified: TextDocument,\n  diffs: LineChange[]\n): string {\n  const result: string[] = [];\n  let currentLine = 0;\n\n  for (const diff of diffs) {\n    const isInsertion = diff.originalEndLineNumber === 0;\n    const isDeletion = diff.modifiedEndLineNumber === 0;\n\n    result.push(\n      original.getText(\n        new Range(\n          currentLine,\n          0,\n          isInsertion\n            ? diff.originalStartLineNumber\n            : diff.originalStartLineNumber - 1,\n          0\n        )\n      )\n    );\n\n    if (!isDeletion) {\n      let fromLine = diff.modifiedStartLineNumber - 1;\n      let fromCharacter = 0;\n\n      if (isInsertion && diff.originalStartLineNumber === original.lineCount) {\n        fromLine = original.lineCount - 1;\n        fromCharacter = original.lineAt(fromLine).range.end.character;\n      }\n\n      result.push(\n        modified.getText(\n          new Range(fromLine, fromCharacter, diff.modifiedEndLineNumber, 0)\n        )\n      );\n    }\n\n    currentLine = isInsertion\n      ? diff.originalStartLineNumber\n      : diff.originalEndLineNumber;\n  }\n\n  result.push(\n    original.getText(new Range(currentLine, 0, original.lineCount, 0))\n  );\n\n  return result.join(\"\");\n}\n","import * as path from \"path\";\nimport { commands, Uri, ViewColumn, WebviewPanel, window } from \"vscode\";\nimport { SourceControlManager } from \"./source_control_manager\";\nimport { configuration } from \"./helpers/configuration\";\n\nexport function noChangesToCommit() {\n  return window.showInformationMessage(\"There are no changes to commit.\");\n}\n\nlet panel: WebviewPanel;\n\n// for tests only\nlet callback: (message: string) => void;\ncommands.registerCommand(\"svn.forceCommitMessageTest\", (message: string) => {\n  if (callback) {\n    return callback(message);\n  }\n});\n\nexport function dispose() {\n  if (panel) {\n    panel.dispose();\n  }\n}\n\nasync function showCommitInput(message?: string, filePaths?: string[]) {\n  const promise = new Promise<string | undefined>(resolve => {\n    // Close previous commit message input\n    if (panel) {\n      panel.dispose();\n    }\n\n    // for tests only\n    callback = (m: string) => {\n      resolve(m);\n      panel.dispose();\n    };\n\n    panel = window.createWebviewPanel(\n      \"svnCommitMessage\",\n      \"Commit Message\",\n      {\n        preserveFocus: false,\n        viewColumn: ViewColumn.Active\n      },\n      {\n        enableScripts: true,\n        retainContextWhenHidden: true\n      }\n    );\n\n    const stylePathOnDisk = Uri.file(\n      path.join(__dirname, \"..\", \"css\", \"commit-message.css\")\n    );\n    const styleUri = panel.webview.asWebviewUri(stylePathOnDisk);\n\n    let beforeForm = \"\";\n    if (filePaths && filePaths.length) {\n      const selectedFiles = filePaths.sort().map(f => `<li>${f}</li>`);\n\n      if (selectedFiles.length) {\n        beforeForm = `\n<div class=\"file-list\">\n  <h3 class=\"title\">Files to commit</h3>\n  <ul>\n    ${selectedFiles.join(\"\\n\")}\n  </ul>\n</div>`;\n      }\n    }\n\n    const html = `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n  <!--\n  Use a content security policy to only allow loading images from https or from our extension directory,\n  and only allow scripts that have a specific nonce.\n  -->\n  <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; img-src ${\n    panel.webview.cspSource\n  } https:; script-src ${panel.webview.cspSource} 'unsafe-inline'; style-src ${\n      panel.webview.cspSource\n    };\">\n\n  <title>Commit Message</title>\n  <link rel=\"stylesheet\" href=\"${styleUri}\">\n</head>\n<body>\n  <section class=\"container\">\n    ${beforeForm}\n    <form>\n      <fieldset>\n        <div class=\"float-right\">\n          <a href=\"#\" id=\"pickCommitMessage\">Pick a previous commit message</a>\n        </div>\n        <label for=\"message\">Commit message</label>\n        <textarea id=\"message\" rows=\"3\" placeholder=\"Message (press Ctrl+Enter to commit)\"></textarea>\n        <button id=\"commit\" class=\"button-primary\">Commit</button>\n        <div class=\"float-right\">\n          <button id=\"cancel\" class=\"button button-outline\">Cancel</button>\n        </div>\n      </fieldset>\n    </form>\n  </section>\n  <script>\n    const vscode = acquireVsCodeApi();\n\n    const txtMessage = document.getElementById(\"message\");\n    const btnCommit = document.getElementById(\"commit\");\n    const btnCancel = document.getElementById(\"cancel\");\n    const linkPickCommitMessage = document.getElementById(\"pickCommitMessage\");\n\n    // load current message\n    txtMessage.value = ${JSON.stringify(message)};\n\n    btnCommit.addEventListener(\"click\", function() {\n      vscode.postMessage({\n        command: \"commit\",\n        message: txtMessage.value\n      });\n    });\n\n    btnCancel.addEventListener(\"click\", function() {\n      vscode.postMessage({\n        command: \"cancel\"\n      });\n    });\n\n    // Allow CTRL + Enter\n    txtMessage.addEventListener(\"keydown\", function(e) {\n      if (event.ctrlKey && event.keyCode === 13) {\n        btnCommit.click();\n      }\n    });\n\n    // Auto resize the height of message\n    txtMessage.addEventListener(\"input\", function(e) {\n      txtMessage.style.height = \"auto\";\n      txtMessage.style.height = (txtMessage.scrollHeight) + \"px\";\n    });\n\n    window.addEventListener(\"load\", function() {\n      setTimeout(() => {\n        txtMessage.focus();\n      }, 1000);\n    });\n\n    linkPickCommitMessage.addEventListener(\"click\", function() {\n      vscode.postMessage({\n        command: \"pickCommitMessage\"\n      });\n    });\n\n    // Message from VSCode\n    window.addEventListener(\"message\", function(event) {\n      const message = event.data;\n      switch (message.command) {\n        case \"setMessage\":\n          txtMessage.value = message.message;\n          txtMessage.dispatchEvent(new Event(\"input\"));\n          break;\n      }\n    });\n  </script>\n</body>\n</html>`;\n\n    panel.webview.html = html;\n\n    // On close\n    panel.onDidDispose(() => {\n      resolve(undefined);\n    });\n\n    const pickCommitMessage = async () => {\n      let repository;\n\n      if (filePaths && filePaths[0]) {\n        const sourceControlManager = (await commands.executeCommand(\n          \"svn.getSourceControlManager\",\n          \"\"\n        )) as SourceControlManager;\n        repository = await sourceControlManager.getRepositoryFromUri(\n          Uri.file(filePaths[0])\n        );\n      }\n\n      const message = await commands.executeCommand(\n        \"svn.pickCommitMessage\",\n        repository\n      );\n      if (message !== undefined) {\n        panel.webview.postMessage({\n          command: \"setMessage\",\n          message\n        });\n      }\n    };\n\n    // On button click\n    panel.webview.onDidReceiveMessage(message => {\n      switch (message.command) {\n        case \"commit\":\n          resolve(message.message);\n          panel.dispose();\n          break;\n        case \"pickCommitMessage\":\n          pickCommitMessage();\n          break;\n        default:\n          resolve(undefined);\n          panel.dispose();\n      }\n    });\n\n    // Force show and activate\n    panel.reveal(ViewColumn.Active, false);\n  });\n\n  return promise;\n}\n\nexport async function inputCommitMessage(\n  message?: string,\n  promptNew: boolean = true,\n  filePaths?: string[]\n): Promise<string | undefined> {\n  if (promptNew) {\n    message = await showCommitInput(message, filePaths);\n  }\n\n  const checkEmptyMessage = configuration.get<boolean>(\n    \"commit.checkEmptyMessage\",\n    true\n  );\n\n  if (message === \"\" && checkEmptyMessage) {\n    const allowEmpty = await window.showWarningMessage(\n      \"Do you really want to commit an empty message?\",\n      { modal: true },\n      \"Yes\"\n    );\n\n    if (allowEmpty === \"Yes\") {\n      return \"\";\n    } else {\n      return undefined;\n    }\n  }\n  return message;\n}\n","import { IOperations, Operation } from \"./common/types\";\nimport { isReadOnly } from \"./util\";\n\nexport default class OperationsImpl implements IOperations {\n  private operations = new Map<Operation, number>();\n\n  public start(operation: Operation): void {\n    this.operations.set(operation, (this.operations.get(operation) || 0) + 1);\n  }\n\n  public end(operation: Operation): void {\n    const count = (this.operations.get(operation) || 0) - 1;\n\n    if (count <= 0) {\n      this.operations.delete(operation);\n    } else {\n      this.operations.set(operation, count);\n    }\n  }\n\n  public isRunning(operation: Operation): boolean {\n    return this.operations.has(operation);\n  }\n\n  public isIdle(): boolean {\n    const operations = this.operations.keys();\n\n    for (const operation of operations) {\n      if (!isReadOnly(operation)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n}\n","import { ISvnPath } from \"../common/types\";\nimport * as xml2js from \"xml2js\";\nimport { camelcase } from \"../util\";\n\nexport async function parseDiffXml(content: string): Promise<ISvnPath[]> {\n  return new Promise<ISvnPath[]>((resolve, reject) => {\n    xml2js.parseString(\n      content,\n      {\n        mergeAttrs: true,\n        explicitRoot: false,\n        explicitArray: false,\n        attrNameProcessors: [camelcase],\n        tagNameProcessors: [camelcase]\n      },\n      (err, result) => {\n        if (err || !result.paths || !result.paths.path) {\n          reject();\n        }\n\n        if (!Array.isArray(result.paths.path)) {\n          result.paths.path = [result.paths.path];\n        }\n\n        resolve(result.paths.path);\n      }\n    );\n  });\n}\n","import * as xml2js from \"xml2js\";\nimport { ISvnInfo } from \"../common/types\";\nimport { camelcase } from \"../util\";\n\nexport async function parseInfoXml(content: string): Promise<ISvnInfo> {\n  return new Promise<ISvnInfo>((resolve, reject) => {\n    xml2js.parseString(\n      content,\n      {\n        mergeAttrs: true,\n        explicitRoot: false,\n        explicitArray: false,\n        attrNameProcessors: [camelcase],\n        tagNameProcessors: [camelcase]\n      },\n      (err, result) => {\n        if (err || typeof result.entry === \"undefined\") {\n          reject();\n        }\n\n        resolve(result.entry);\n      }\n    );\n  });\n}\n","import * as xml2js from \"xml2js\";\nimport { xml2jsParseSettings } from \"../common/constants\";\nimport { ISvnListItem } from \"../common/types\";\n\nexport async function parseSvnList(content: string): Promise<ISvnListItem[]> {\n  return new Promise<ISvnListItem[]>((resolve, reject) => {\n    xml2js.parseString(content, xml2jsParseSettings, (err, result) => {\n      if (err) {\n        reject();\n      }\n\n      if (result.list && result.list.entry) {\n        if (!Array.isArray(result.list.entry)) {\n          result.list.entry = [result.list.entry];\n        }\n        resolve(result.list.entry);\n      } else {\n        resolve([]);\n      }\n    });\n  });\n}\n","import * as xml2js from \"xml2js\";\nimport { xml2jsParseSettings } from \"../common/constants\";\nimport { ISvnLogEntry } from \"../common/types\";\n\nexport async function parseSvnLog(content: string): Promise<ISvnLogEntry[]> {\n  return new Promise<ISvnLogEntry[]>((resolve, reject) => {\n    xml2js.parseString(content, xml2jsParseSettings, (err, result) => {\n      if (err) {\n        reject();\n      }\n      let transformed = [];\n      if (Array.isArray(result.logentry)) {\n        transformed = result.logentry;\n      } else if (typeof result.logentry === \"object\") {\n        transformed = [result.logentry];\n      }\n      for (const logentry of transformed) {\n        if (logentry.paths === undefined) {\n          logentry.paths = [];\n        } else if (Array.isArray(logentry.paths.path)) {\n          logentry.paths = logentry.paths.path;\n        } else {\n          logentry.paths = [logentry.paths.path];\n        }\n      }\n      resolve(transformed);\n    });\n  });\n}\n","import * as xml2js from \"xml2js\";\nimport { xml2jsParseSettings } from \"../common/constants\";\nimport { IEntry, IFileStatus, IWcStatus } from \"../common/types\";\n\nfunction processEntry(\n  entry: IEntry | IEntry[],\n  changelist?: string\n): IFileStatus[] {\n  if (Array.isArray(entry)) {\n    const list: IFileStatus[] = [];\n    entry.forEach((e: any) => {\n      const r = processEntry(e, changelist);\n      if (r) {\n        list.push(...r);\n      }\n    });\n    return list;\n  }\n\n  const wcStatus: IWcStatus = {\n    locked:\n      (!!entry.wcStatus.wcLocked && entry.wcStatus.wcLocked === \"true\") ||\n      !!(entry.reposStatus && entry.reposStatus.lock),\n    switched: !!entry.wcStatus.switched && entry.wcStatus.switched === \"true\"\n  };\n\n  const r: IFileStatus = {\n    changelist,\n    path: entry.path,\n    status: entry.wcStatus.item,\n    props: entry.wcStatus.props,\n    wcStatus,\n    reposStatus: entry.reposStatus\n  };\n\n  if (entry.wcStatus.movedTo && r.status === \"deleted\") {\n    return [];\n  }\n  if (entry.wcStatus.movedFrom && r.status === \"added\") {\n    r.rename = entry.wcStatus.movedFrom;\n  }\n  if (entry.wcStatus.commit) {\n    r.commit = {\n      revision: entry.wcStatus.commit.revision,\n      author: entry.wcStatus.commit.author,\n      date: entry.wcStatus.commit.date\n    };\n  }\n\n  return [r];\n}\n\nfunction xmlToStatus(xml: any) {\n  const statusList: IFileStatus[] = [];\n  if (xml.target && xml.target.entry) {\n    statusList.push(...processEntry(xml.target.entry));\n  }\n\n  if (xml.changelist) {\n    if (!Array.isArray(xml.changelist)) {\n      xml.changelist = [xml.changelist];\n    }\n\n    xml.changelist.forEach((change: any) => {\n      statusList.push(...processEntry(change.entry, change.name));\n    });\n  }\n\n  return statusList;\n}\n\nexport async function parseStatusXml(content: string): Promise<IFileStatus[]> {\n  return new Promise<IFileStatus[]>((resolve, reject) => {\n    xml2js.parseString(content, xml2jsParseSettings, (err, result) => {\n      if (err) {\n        reject();\n      }\n\n      const statusList: IFileStatus[] = xmlToStatus(result);\n\n      resolve(statusList);\n    });\n  });\n}\n","import { posix as path } from \"path\";\nimport * as nativepath from \"path\";\nimport { Uri } from \"vscode\";\nimport { ISvnInfo } from \"./common/types\";\nimport { memoize } from \"./decorators\";\nimport { pathOrRoot, SvnRI } from \"./svnRI\";\n\nexport enum ResourceKind {\n  LocalRelative,\n  LocalFull,\n  RemoteFull\n}\n\n/**\n * create from Repository class\n */\nexport class PathNormalizer {\n  public readonly repoRoot: Uri;\n  public readonly branchRoot: Uri;\n  public readonly checkoutRoot?: Uri;\n\n  constructor(public readonly repoInfo: ISvnInfo) {\n    this.repoRoot = Uri.parse(repoInfo.repository.root);\n    this.branchRoot = Uri.parse(repoInfo.url);\n    if (repoInfo.wcInfo && repoInfo.wcInfo.wcrootAbspath) {\n      this.checkoutRoot = Uri.file(repoInfo.wcInfo.wcrootAbspath);\n    }\n  }\n\n  /** svn://foo.org/domain/trunk/x -> trunk/x */\n  private getFullRepoPathFromUrl(fpath: string): string {\n    if (fpath.startsWith(\"/\")) {\n      return fpath.substr(1);\n    } else if (fpath.startsWith(\"svn://\") || fpath.startsWith(\"file://\")) {\n      const target = Uri.parse(fpath).path;\n      return path.relative(pathOrRoot(this.repoRoot), target);\n    } else {\n      throw new Error(\"unknown path\");\n    }\n  }\n\n  public parse(\n    fpath: string,\n    kind = ResourceKind.RemoteFull,\n    rev?: string\n  ): SvnRI {\n    let target: string;\n    if (kind === ResourceKind.RemoteFull) {\n      target = this.getFullRepoPathFromUrl(fpath);\n    } else if (kind === ResourceKind.LocalFull) {\n      if (!path.isAbsolute(fpath)) {\n        throw new Error(\"Path isn't absolute\");\n      }\n      if (this.checkoutRoot === undefined) {\n        throw new Error(\"Local paths are not\");\n      }\n      target = nativepath.relative(this.checkoutRoot.fsPath, fpath);\n      target = path.join(this.fromRootToBranch(), target);\n    } else if (kind === ResourceKind.LocalRelative) {\n      if (path.isAbsolute(fpath)) {\n        throw new Error(\"Path is absolute\");\n      }\n      if (this.checkoutRoot === undefined) {\n        throw new Error(\"Local paths are not\");\n      }\n      target = path.join(this.fromRootToBranch(), fpath);\n    } else {\n      throw new Error(\"unsupported kind\");\n    }\n\n    return new SvnRI(\n      this.repoRoot,\n      this.branchRoot,\n      this.checkoutRoot,\n      target,\n      rev\n    );\n  }\n\n  @memoize\n  public fromRootToBranch(): string {\n    return path.relative(\n      pathOrRoot(this.repoRoot),\n      pathOrRoot(this.branchRoot)\n    );\n  }\n\n  @memoize\n  public fromBranchToRoot(): string {\n    return path.relative(\n      pathOrRoot(this.branchRoot),\n      pathOrRoot(this.repoRoot)\n    );\n  }\n}\n","import { QuickPickItem } from \"vscode\";\nimport { ISvnResourceGroup } from \"../common/types\";\n\nexport default class ChangeListItem implements QuickPickItem {\n  constructor(protected group: ISvnResourceGroup) {}\n\n  get label(): string {\n    return this.group.id.replace(/^changelist-/, \"\");\n  }\n\n  get id(): string {\n    return this.group.id;\n  }\n\n  get description(): string {\n    return this.group.label;\n  }\n  get resourceGroup(): ISvnResourceGroup {\n    return this.group;\n  }\n}\n","import { QuickPickItem } from \"vscode\";\nimport { Repository } from \"../repository\";\nimport { Resource } from \"../resource\";\n\nexport class FileItem implements QuickPickItem {\n  constructor(\n    protected _repository: Repository,\n    protected _state: Resource,\n    public picked = false\n  ) {}\n\n  get label(): string {\n    return this._repository.repository.removeAbsolutePath(\n      this._state.resourceUri.fsPath\n    );\n  }\n\n  get description(): string {\n    return this._state.resourceUri.fsPath;\n  }\n  get state(): Resource {\n    return this._state;\n  }\n}\n","import { QuickPickItem } from \"vscode\";\nimport { IBranchItem } from \"../common/types\";\nimport { ISvnListItem } from \"../common/types\";\nimport { memoize } from \"../decorators\";\nimport { getBranchName } from \"../helpers/branch\";\n\nexport default class FolderItem implements QuickPickItem {\n  constructor(protected dir: ISvnListItem, protected parent?: string) {}\n\n  get label(): string {\n    if (this.branch) {\n      return `$(git-branch) ${this.dir.name}`;\n    }\n    return `$(file-directory) ${this.dir.name}`;\n  }\n\n  get description(): string {\n    return `r${this.dir.commit.revision} | ${\n      this.dir.commit.author\n    } | ${new Date(this.dir.commit.date).toLocaleString()}`;\n  }\n\n  get path(): string {\n    if (this.parent) {\n      return `${this.parent}/${this.dir.name}`;\n    }\n    return this.dir.name;\n  }\n\n  @memoize\n  get branch(): IBranchItem | undefined {\n    return getBranchName(this.path);\n  }\n}\n","import { QuickPickItem } from \"vscode\";\n\nexport default class IgnoredChangeListItem implements QuickPickItem {\n  constructor(protected _id: string) {}\n\n  get label(): string {\n    return this._id;\n  }\n\n  get description(): string {\n    return \"Ignored on commit\";\n  }\n}\n","import { QuickPickItem } from \"vscode\";\n\nexport default class NewChangeListItem implements QuickPickItem {\n  get label(): string {\n    return \"$(plus) New changelist\";\n  }\n\n  get description(): string {\n    return \"Create a new change list\";\n  }\n}\n","import { QuickPickItem } from \"vscode\";\n\nexport default class NewFolderItem implements QuickPickItem {\n  constructor(protected _parent: string) {}\n\n  get label(): string {\n    return `$(plus) Create new branch`;\n  }\n\n  get description(): string {\n    return `Create new branch in \"${this._parent}\"`;\n  }\n}\n","import { QuickPickItem } from \"vscode\";\n\nexport default class ParentFolderItem implements QuickPickItem {\n  constructor(public path?: string) {}\n\n  get label(): string {\n    return `$(arrow-left) back to /${this.path}`;\n  }\n  get description(): string {\n    return `Back to parent`;\n  }\n}\n","import { QuickPickItem } from \"vscode\";\n\nexport default class RemoveChangeListItem implements QuickPickItem {\n  get label(): string {\n    return \"$(dash) Remove changelist\";\n  }\n\n  get description(): string {\n    return \"Remove changelist of file(s)\";\n  }\n}\n","import { Uri } from \"vscode\";\nimport { ISvnInfo, ISvnLogEntry } from \"./common/types\";\nimport { PathNormalizer } from \"./pathNormalizer\";\nimport { Svn } from \"./svn\";\nimport { Repository as BaseRepository } from \"./svnRepository\";\n\nexport interface IRemoteRepository {\n  branchRoot: Uri;\n\n  getPathNormalizer(): PathNormalizer;\n\n  log(\n    rfrom: string,\n    rto: string,\n    limit: number,\n    target?: string | Uri\n  ): Promise<ISvnLogEntry[]>;\n\n  show(filePath: string | Uri, revision?: string): Promise<string>;\n}\n\nexport class RemoteRepository implements IRemoteRepository {\n  private info: ISvnInfo;\n  private constructor(private repo: BaseRepository) {\n    this.info = repo.info;\n  }\n\n  public static async open(svn: Svn, uri: Uri): Promise<RemoteRepository> {\n    const repo = await svn.open(uri.toString(true), \"\");\n    return new RemoteRepository(repo);\n  }\n\n  public getPathNormalizer(): PathNormalizer {\n    return new PathNormalizer(this.info);\n  }\n\n  public get branchRoot(): Uri {\n    return Uri.parse(this.info.url);\n  }\n\n  public async log(\n    rfrom: string,\n    rto: string,\n    limit: number,\n    target?: string | Uri\n  ): Promise<ISvnLogEntry[]> {\n    return this.repo.log(rfrom, rto, limit, target);\n  }\n\n  public async show(\n    filePath: string | Uri,\n    revision?: string\n  ): Promise<string> {\n    return this.repo.show(filePath, revision);\n  }\n}\n","import * as path from \"path\";\nimport { clearInterval, setInterval } from \"timers\";\nimport {\n  commands,\n  Disposable,\n  Event,\n  EventEmitter,\n  ProgressLocation,\n  scm,\n  SourceControl,\n  SourceControlInputBox,\n  TextDocument,\n  Uri,\n  window,\n  workspace\n} from \"vscode\";\nimport {\n  IAuth,\n  IFileStatus,\n  IOperations,\n  ISvnInfo,\n  ISvnResourceGroup,\n  Operation,\n  RepositoryState,\n  Status,\n  SvnDepth,\n  SvnUriAction,\n  ISvnPathChange,\n  IStoredAuth,\n  ISvnListItem\n} from \"./common/types\";\nimport { debounce, globalSequentialize, memoize, throttle } from \"./decorators\";\nimport { exists } from \"./fs\";\nimport { configuration } from \"./helpers/configuration\";\nimport OperationsImpl from \"./operationsImpl\";\nimport { PathNormalizer } from \"./pathNormalizer\";\nimport { IRemoteRepository } from \"./remoteRepository\";\nimport { Resource } from \"./resource\";\nimport { StatusBarCommands } from \"./statusbar/statusBarCommands\";\nimport { svnErrorCodes } from \"./svn\";\nimport { Repository as BaseRepository } from \"./svnRepository\";\nimport { toSvnUri } from \"./uri\";\nimport {\n  anyEvent,\n  dispose,\n  eventToPromise,\n  filterEvent,\n  isDescendant,\n  isReadOnly,\n  timeout,\n  toDisposable\n} from \"./util\";\nimport { match, matchAll } from \"./util/globMatch\";\nimport { RepositoryFilesWatcher } from \"./watchers/repositoryFilesWatcher\";\nimport { keytar } from \"./vscodeModules\";\n\nfunction shouldShowProgress(operation: Operation): boolean {\n  switch (operation) {\n    case Operation.CurrentBranch:\n    case Operation.Show:\n    case Operation.Info:\n      return false;\n    default:\n      return true;\n  }\n}\n\nexport class Repository implements IRemoteRepository {\n  public sourceControl: SourceControl;\n  public statusBar: StatusBarCommands;\n  public changes: ISvnResourceGroup;\n  public unversioned: ISvnResourceGroup;\n  public remoteChanges?: ISvnResourceGroup;\n  public changelists: Map<string, ISvnResourceGroup> = new Map();\n  public conflicts: ISvnResourceGroup;\n  public statusIgnored: IFileStatus[] = [];\n  public statusExternal: IFileStatus[] = [];\n  private disposables: Disposable[] = [];\n  public currentBranch = \"\";\n  public remoteChangedFiles: number = 0;\n  public isIncomplete: boolean = false;\n  public needCleanUp: boolean = false;\n  private remoteChangedUpdateInterval?: NodeJS.Timer;\n  private deletedUris: Uri[] = [];\n  private canSaveAuth: boolean = false;\n\n  private lastPromptAuth?: Thenable<IAuth | undefined>;\n\n  private _fsWatcher: RepositoryFilesWatcher;\n  public get fsWatcher() {\n    return this._fsWatcher;\n  }\n\n  private _onDidChangeRepository = new EventEmitter<Uri>();\n  public readonly onDidChangeRepository: Event<Uri> = this\n    ._onDidChangeRepository.event;\n\n  private _onDidChangeState = new EventEmitter<RepositoryState>();\n  public readonly onDidChangeState: Event<RepositoryState> = this\n    ._onDidChangeState.event;\n\n  private _onDidChangeStatus = new EventEmitter<void>();\n  public readonly onDidChangeStatus: Event<void> = this._onDidChangeStatus\n    .event;\n\n  private _onDidChangeRemoteChangedFiles = new EventEmitter<void>();\n  public readonly onDidChangeRemoteChangedFile: Event<void> = this\n    ._onDidChangeRemoteChangedFiles.event;\n\n  private _onRunOperation = new EventEmitter<Operation>();\n  public readonly onRunOperation: Event<Operation> = this._onRunOperation.event;\n\n  private _onDidRunOperation = new EventEmitter<Operation>();\n  public readonly onDidRunOperation: Event<Operation> = this._onDidRunOperation\n    .event;\n\n  @memoize\n  get onDidChangeOperations(): Event<void> {\n    return anyEvent(\n      this.onRunOperation as Event<any>,\n      this.onDidRunOperation as Event<any>\n    );\n  }\n\n  private _operations = new OperationsImpl();\n  get operations(): IOperations {\n    return this._operations;\n  }\n\n  private _state = RepositoryState.Idle;\n  get state(): RepositoryState {\n    return this._state;\n  }\n  set state(state: RepositoryState) {\n    this._state = state;\n    this._onDidChangeState.fire(state);\n\n    this.changes.resourceStates = [];\n    this.unversioned.resourceStates = [];\n    this.conflicts.resourceStates = [];\n    this.changelists.forEach((group, _changelist) => {\n      group.resourceStates = [];\n    });\n\n    if (this.remoteChanges) {\n      this.remoteChanges.dispose();\n    }\n\n    this.isIncomplete = false;\n    this.needCleanUp = false;\n  }\n\n  get root(): string {\n    return this.repository.root;\n  }\n\n  get workspaceRoot(): string {\n    return this.repository.workspaceRoot;\n  }\n\n  /** 'svn://repo.x/branches/b1' e.g. */\n  get branchRoot(): Uri {\n    return Uri.parse(this.repository.info.url);\n  }\n\n  get inputBox(): SourceControlInputBox {\n    return this.sourceControl.inputBox;\n  }\n\n  get username(): string | undefined {\n    return this.repository.username;\n  }\n\n  set username(username: string | undefined) {\n    this.repository.username = username;\n  }\n\n  get password(): string | undefined {\n    return this.repository.password;\n  }\n\n  set password(password: string | undefined) {\n    this.repository.password = password;\n  }\n\n  constructor(public repository: BaseRepository) {\n    this._fsWatcher = new RepositoryFilesWatcher(repository.root);\n    this.disposables.push(this._fsWatcher);\n\n    this._fsWatcher.onDidAny(this.onFSChange, this, this.disposables);\n    this._fsWatcher.onDidSvnAny(\n      async (e: Uri) => {\n        await this.onDidAnyFileChanged(e);\n      },\n      this,\n      this.disposables\n    );\n\n    this.sourceControl = scm.createSourceControl(\n      \"svn\",\n      \"SVN\",\n      Uri.file(repository.workspaceRoot)\n    );\n\n    this.sourceControl.count = 0;\n    this.sourceControl.inputBox.placeholder =\n      \"Message (press Ctrl+Enter to commit)\";\n    this.sourceControl.acceptInputCommand = {\n      command: \"svn.commitWithMessage\",\n      title: \"commit\",\n      arguments: [this.sourceControl]\n    };\n    this.sourceControl.quickDiffProvider = this;\n    this.disposables.push(this.sourceControl);\n\n    this.statusBar = new StatusBarCommands(this);\n    this.disposables.push(this.statusBar);\n    this.statusBar.onDidChange(\n      () => (this.sourceControl.statusBarCommands = this.statusBar.commands),\n      null,\n      this.disposables\n    );\n\n    this.changes = this.sourceControl.createResourceGroup(\n      \"changes\",\n      \"Changes\"\n    ) as ISvnResourceGroup;\n    this.conflicts = this.sourceControl.createResourceGroup(\n      \"conflicts\",\n      \"Conflicts\"\n    ) as ISvnResourceGroup;\n    this.unversioned = this.sourceControl.createResourceGroup(\n      \"unversioned\",\n      \"Unversioned\"\n    ) as ISvnResourceGroup;\n\n    this.changes.hideWhenEmpty = true;\n    this.unversioned.hideWhenEmpty = true;\n    this.conflicts.hideWhenEmpty = true;\n\n    this.disposables.push(this.changes);\n    this.disposables.push(this.conflicts);\n\n    // The this.unversioned can recreated by update state model\n    this.disposables.push(toDisposable(() => this.unversioned.dispose()));\n\n    // Dispose the setInterval of Remote Changes\n    this.disposables.push(\n      toDisposable(() => {\n        if (this.remoteChangedUpdateInterval) {\n          clearInterval(this.remoteChangedUpdateInterval);\n        }\n      })\n    );\n\n    // For each deleted file, append to list\n    this._fsWatcher.onDidWorkspaceDelete(\n      uri => this.deletedUris.push(uri),\n      this,\n      this.disposables\n    );\n\n    // Only check deleted files after the status list is fully updated\n    this.onDidChangeStatus(this.actionForDeletedFiles, this, this.disposables);\n\n    this.createRemoteChangedInterval();\n\n    this.updateRemoteChangedFiles();\n\n    // On change config, dispose current interval and create a new.\n    configuration.onDidChange(e => {\n      if (e.affectsConfiguration(\"svn.remoteChanges.checkFrequency\")) {\n        if (this.remoteChangedUpdateInterval) {\n          clearInterval(this.remoteChangedUpdateInterval);\n        }\n\n        this.createRemoteChangedInterval();\n\n        this.updateRemoteChangedFiles();\n      }\n    });\n\n    this.status();\n\n    this.disposables.push(\n      workspace.onDidSaveTextDocument(document => {\n        this.onDidSaveTextDocument(document);\n      })\n    );\n  }\n\n  @debounce(1000)\n  private async onDidAnyFileChanged(e: Uri) {\n    await this.repository.updateInfo();\n    this._onDidChangeRepository.fire(e);\n  }\n\n  private createRemoteChangedInterval() {\n    const updateFreq = configuration.get<number>(\n      \"remoteChanges.checkFrequency\",\n      300\n    );\n\n    if (!updateFreq) {\n      return;\n    }\n\n    this.remoteChangedUpdateInterval = setInterval(() => {\n      this.updateRemoteChangedFiles();\n    }, 1000 * updateFreq);\n  }\n\n  /**\n   * Check all recently deleted files and compare with svn status \"missing\"\n   */\n  @debounce(1000)\n  private async actionForDeletedFiles() {\n    if (!this.deletedUris.length) {\n      return;\n    }\n\n    const allUris = this.deletedUris;\n    this.deletedUris = [];\n\n    const actionForDeletedFiles = configuration.get<string>(\n      \"delete.actionForDeletedFiles\",\n      \"prompt\"\n    );\n\n    if (actionForDeletedFiles === \"none\") {\n      return;\n    }\n\n    const resources = allUris\n      .map(uri => this.getResourceFromFile(uri))\n      .filter(\n        resource => resource && resource.type === Status.MISSING\n      ) as Resource[];\n\n    let uris = resources.map(resource => resource.resourceUri);\n\n    if (!uris.length) {\n      return;\n    }\n\n    const ignoredRulesForDeletedFiles = configuration.get<string[]>(\n      \"delete.ignoredRulesForDeletedFiles\",\n      []\n    );\n    const rules = ignoredRulesForDeletedFiles.map(ignored => match(ignored));\n\n    if (rules.length) {\n      uris = uris.filter(uri => {\n        // Check first for relative URL (Better for workspace configuration)\n        const relativePath = this.repository.removeAbsolutePath(uri.fsPath);\n\n        // If some match, remove from list\n        return !rules.some(\n          rule => rule.match(relativePath) || rule.match(uri.fsPath)\n        );\n      });\n    }\n\n    if (!uris.length) {\n      return;\n    }\n\n    if (actionForDeletedFiles === \"remove\") {\n      return this.removeFiles(\n        uris.map(uri => uri.fsPath),\n        false\n      );\n    } else if (actionForDeletedFiles === \"prompt\") {\n      return commands.executeCommand(\"svn.promptRemove\", ...uris);\n    }\n\n    return;\n  }\n\n  @debounce(1000)\n  public async updateRemoteChangedFiles() {\n    const updateFreq = configuration.get<number>(\n      \"remoteChanges.checkFrequency\",\n      300\n    );\n\n    if (updateFreq) {\n      this.run(Operation.StatusRemote);\n    } else {\n      // Remove list of remote changes\n      if (this.remoteChanges) {\n        this.remoteChanges.dispose();\n        this.remoteChanges = undefined;\n      }\n    }\n  }\n\n  private onFSChange(_uri: Uri): void {\n    const autorefresh = configuration.get<boolean>(\"autorefresh\");\n\n    if (!autorefresh) {\n      return;\n    }\n\n    if (!this.operations.isIdle()) {\n      return;\n    }\n\n    this.eventuallyUpdateWhenIdleAndWait();\n  }\n\n  @debounce(1000)\n  private eventuallyUpdateWhenIdleAndWait(): void {\n    this.updateWhenIdleAndWait();\n  }\n\n  @throttle\n  private async updateWhenIdleAndWait(): Promise<void> {\n    await this.whenIdleAndFocused();\n    await this.status();\n    await timeout(5000);\n  }\n\n  public async whenIdleAndFocused(): Promise<void> {\n    while (true) {\n      if (!this.operations.isIdle()) {\n        await eventToPromise(this.onDidRunOperation);\n        continue;\n      }\n\n      if (!window.state.focused) {\n        const onDidFocusWindow = filterEvent(\n          window.onDidChangeWindowState,\n          e => e.focused\n        );\n        await eventToPromise(onDidFocusWindow);\n        continue;\n      }\n\n      return;\n    }\n  }\n\n  @throttle\n  @globalSequentialize(\"updateModelState\")\n  public async updateModelState(checkRemoteChanges: boolean = false) {\n    const changes: any[] = [];\n    const unversioned: any[] = [];\n    const conflicts: any[] = [];\n    const changelists: Map<string, Resource[]> = new Map();\n    const remoteChanges: any[] = [];\n\n    this.statusExternal = [];\n    this.statusIgnored = [];\n    this.isIncomplete = false;\n    this.needCleanUp = false;\n\n    const combineExternal = configuration.get<boolean>(\n      \"sourceControl.combineExternalIfSameServer\",\n      false\n    );\n\n    const statuses =\n      (await this.retryRun(async () => {\n        return this.repository.getStatus({\n          includeIgnored: true,\n          includeExternals: combineExternal,\n          checkRemoteChanges\n        });\n      })) || [];\n\n    const fileConfig = workspace.getConfiguration(\"files\", Uri.file(this.root));\n\n    const filesToExclude = fileConfig.get<any>(\"exclude\");\n\n    const excludeList: string[] = [];\n    for (const pattern in filesToExclude) {\n      if (filesToExclude.hasOwnProperty(pattern)) {\n        const negate = !filesToExclude[pattern];\n        excludeList.push((negate ? \"!\" : \"\") + pattern);\n      }\n    }\n\n    this.statusExternal = statuses.filter(\n      status => status.status === Status.EXTERNAL\n    );\n\n    if (combineExternal && this.statusExternal.length) {\n      const repositoryUuid = await this.repository.getRepositoryUuid();\n      this.statusExternal = this.statusExternal.filter(\n        status => repositoryUuid !== status.repositoryUuid\n      );\n    }\n\n    const statusesRepository = statuses.filter(status => {\n      if (status.status === Status.EXTERNAL) {\n        return false;\n      }\n\n      return !this.statusExternal.some(external =>\n        isDescendant(external.path, status.path)\n      );\n    });\n\n    const hideUnversioned = configuration.get<boolean>(\n      \"sourceControl.hideUnversioned\"\n    );\n\n    const ignoreList = configuration.get<string[]>(\"sourceControl.ignore\");\n\n    for (const status of statusesRepository) {\n      if (status.path === \".\") {\n        this.isIncomplete = status.status === Status.INCOMPLETE;\n        this.needCleanUp = status.wcStatus.locked;\n      }\n\n      // If exists a switched item, the repository is incomplete\n      // To simulate, run \"svn switch\" and kill \"svn\" proccess\n      // After, run \"svn update\"\n      if (status.wcStatus.switched) {\n        this.isIncomplete = true;\n      }\n\n      if (\n        status.wcStatus.locked ||\n        status.wcStatus.switched ||\n        status.status === Status.INCOMPLETE\n      ) {\n        // On commit, `svn status` return all locked files with status=\"normal\" and props=\"none\"\n        continue;\n      }\n\n      if (matchAll(status.path, excludeList, { dot: true })) {\n        continue;\n      }\n\n      const uri = Uri.file(path.join(this.workspaceRoot, status.path));\n      const renameUri = status.rename\n        ? Uri.file(path.join(this.workspaceRoot, status.rename))\n        : undefined;\n\n      if (status.reposStatus) {\n        remoteChanges.push(\n          new Resource(\n            uri,\n            status.reposStatus.item,\n            undefined,\n            status.reposStatus.props,\n            true\n          )\n        );\n      }\n\n      const resource = new Resource(\n        uri,\n        status.status,\n        renameUri,\n        status.props\n      );\n\n      if (\n        (status.status === Status.NORMAL || status.status === Status.NONE) &&\n        (status.props === Status.NORMAL || status.props === Status.NONE) &&\n        !status.changelist\n      ) {\n        // Ignore non changed itens\n        continue;\n      } else if (status.status === Status.IGNORED) {\n        this.statusIgnored.push(status);\n      } else if (status.status === Status.CONFLICTED) {\n        conflicts.push(resource);\n      } else if (status.status === Status.UNVERSIONED) {\n        if (hideUnversioned) {\n          continue;\n        }\n\n        const matches = status.path.match(\n          /(.+?)\\.(mine|working|merge-\\w+\\.r\\d+|r\\d+)$/\n        );\n\n        // If file end with (mine, working, merge, etc..) and has file without extension\n        if (\n          matches &&\n          matches[1] &&\n          statuses.some(s => s.path === matches[1])\n        ) {\n          continue;\n        }\n        if (\n          ignoreList.length > 0 &&\n          matchAll(path.sep + status.path, ignoreList, {\n            dot: true,\n            matchBase: true\n          })\n        ) {\n          continue;\n        }\n        unversioned.push(resource);\n      } else if (status.changelist) {\n        let changelist = changelists.get(status.changelist);\n        if (!changelist) {\n          changelist = [];\n        }\n        changelist.push(resource);\n        changelists.set(status.changelist, changelist);\n      } else {\n        changes.push(resource);\n      }\n    }\n\n    this.changes.resourceStates = changes;\n    this.conflicts.resourceStates = conflicts;\n\n    const prevChangelistsSize = this.changelists.size;\n\n    this.changelists.forEach((group, _changelist) => {\n      group.resourceStates = [];\n    });\n\n    const counts = [this.changes, this.conflicts];\n\n    const ignoreOnStatusCountList = configuration.get<string[]>(\n      \"sourceControl.ignoreOnStatusCount\"\n    );\n\n    changelists.forEach((resources, changelist) => {\n      let group = this.changelists.get(changelist);\n      if (!group) {\n        // Prefix 'changelist-' to prevent double id with 'change' or 'external'\n        group = this.sourceControl.createResourceGroup(\n          `changelist-${changelist}`,\n          `Changelist \"${changelist}\"`\n        ) as ISvnResourceGroup;\n        group.hideWhenEmpty = true;\n        this.disposables.push(group);\n\n        this.changelists.set(changelist, group);\n      }\n\n      group.resourceStates = resources;\n\n      if (!ignoreOnStatusCountList.includes(changelist)) {\n        counts.push(group);\n      }\n    });\n\n    // Recreate unversioned group to move after changelists\n    if (prevChangelistsSize !== this.changelists.size) {\n      this.unversioned.dispose();\n\n      this.unversioned = this.sourceControl.createResourceGroup(\n        \"unversioned\",\n        \"Unversioned\"\n      ) as ISvnResourceGroup;\n\n      this.unversioned.hideWhenEmpty = true;\n    }\n\n    this.unversioned.resourceStates = unversioned;\n\n    if (configuration.get<boolean>(\"sourceControl.countUnversioned\", false)) {\n      counts.push(this.unversioned);\n    }\n\n    this.sourceControl.count = counts.reduce(\n      (a, b) => a + b.resourceStates.length,\n      0\n    );\n\n    // Recreate remoteChanges group to move after unversioned\n    if (!this.remoteChanges || prevChangelistsSize !== this.changelists.size) {\n      /**\n       * Destroy and create for keep at last position\n       */\n      let tempResourceStates: Resource[] = [];\n      if (this.remoteChanges) {\n        tempResourceStates = this.remoteChanges.resourceStates;\n        this.remoteChanges.dispose();\n      }\n\n      this.remoteChanges = this.sourceControl.createResourceGroup(\n        \"remotechanges\",\n        \"Remote Changes\"\n      ) as ISvnResourceGroup;\n\n      this.remoteChanges.repository = this;\n      this.remoteChanges.hideWhenEmpty = true;\n      this.remoteChanges.resourceStates = tempResourceStates;\n    }\n\n    // Update remote changes group\n    if (checkRemoteChanges) {\n      this.remoteChanges.resourceStates = remoteChanges;\n\n      if (remoteChanges.length !== this.remoteChangedFiles) {\n        this.remoteChangedFiles = remoteChanges.length;\n        this._onDidChangeRemoteChangedFiles.fire();\n      }\n    }\n\n    this._onDidChangeStatus.fire();\n\n    this.currentBranch = await this.getCurrentBranch();\n\n    return Promise.resolve();\n  }\n\n  public getResourceFromFile(uri: string | Uri): Resource | undefined {\n    if (typeof uri === \"string\") {\n      uri = Uri.file(uri);\n    }\n\n    const groups = [\n      this.changes,\n      this.conflicts,\n      this.unversioned,\n      ...this.changelists.values()\n    ];\n\n    const uriString = uri.toString();\n\n    for (const group of groups) {\n      for (const resource of group.resourceStates) {\n        if (\n          uriString === resource.resourceUri.toString() &&\n          resource instanceof Resource\n        ) {\n          return resource;\n        }\n      }\n    }\n\n    return undefined;\n  }\n\n  public provideOriginalResource(uri: Uri): Uri | undefined {\n    if (uri.scheme !== \"file\") {\n      return;\n    }\n\n    // Not has original resource for content of \".svn\" folder\n    if (isDescendant(path.join(this.root, \".svn\"), uri.fsPath)) {\n      return;\n    }\n\n    return toSvnUri(uri, SvnUriAction.SHOW, {}, true);\n  }\n\n  public async getBranches() {\n    try {\n      return await this.repository.getBranches();\n    } catch (error) {\n      return [];\n    }\n  }\n\n  @throttle\n  public async status() {\n    return this.run(Operation.Status);\n  }\n\n  public async show(\n    filePath: string | Uri,\n    revision?: string\n  ): Promise<string> {\n    return this.run<string>(Operation.Show, () => {\n      return this.repository.show(filePath, revision);\n    });\n  }\n\n  public async showBuffer(\n    filePath: string | Uri,\n    revision?: string\n  ): Promise<Buffer> {\n    return this.run<Buffer>(Operation.Show, () => {\n      return this.repository.showBuffer(filePath, revision);\n    });\n  }\n\n  public async addFiles(files: string[]) {\n    return this.run(Operation.Add, () => this.repository.addFiles(files));\n  }\n\n  public async addChangelist(files: string[], changelist: string) {\n    return this.run(Operation.AddChangelist, () =>\n      this.repository.addChangelist(files, changelist)\n    );\n  }\n\n  public async removeChangelist(files: string[]) {\n    return this.run(Operation.RemoveChangelist, () =>\n      this.repository.removeChangelist(files)\n    );\n  }\n\n  public async getCurrentBranch() {\n    return this.run(Operation.CurrentBranch, async () => {\n      return this.repository.getCurrentBranch();\n    });\n  }\n\n  public async newBranch(\n    name: string,\n    commitMessage: string = \"Created new branch\"\n  ) {\n    return this.run(Operation.NewBranch, async () => {\n      await this.repository.newBranch(name, commitMessage);\n      this.updateRemoteChangedFiles();\n    });\n  }\n\n  public async switchBranch(name: string, force: boolean = false) {\n    await this.run(Operation.SwitchBranch, async () => {\n      await this.repository.switchBranch(name, force);\n      this.updateRemoteChangedFiles();\n    });\n  }\n\n  public async updateRevision(\n    ignoreExternals: boolean = false\n  ): Promise<string> {\n    return this.run<string>(Operation.Update, async () => {\n      const response = await this.repository.update(ignoreExternals);\n      this.updateRemoteChangedFiles();\n      return response;\n    });\n  }\n\n  public async pullIncomingChange(path: string) {\n    return this.run<string>(Operation.Update, async () => {\n      const response = await this.repository.pullIncomingChange(path);\n      this.updateRemoteChangedFiles();\n      return response;\n    });\n  }\n\n  public async resolve(files: string[], action: string) {\n    return this.run(Operation.Resolve, () =>\n      this.repository.resolve(files, action)\n    );\n  }\n\n  public async commitFiles(message: string, files: any[]) {\n    return this.run(Operation.Commit, () =>\n      this.repository.commitFiles(message, files)\n    );\n  }\n\n  public async revert(files: string[], depth: keyof typeof SvnDepth) {\n    return this.run(Operation.Revert, () =>\n      this.repository.revert(files, depth)\n    );\n  }\n\n  public async info(path: string) {\n    return this.run(Operation.Info, () => this.repository.getInfo(path));\n  }\n\n  public async patch(files: string[]) {\n    return this.run(Operation.Patch, () => this.repository.patch(files));\n  }\n\n  public async patchBuffer(files: string[]) {\n    return this.run(Operation.Patch, () => this.repository.patchBuffer(files));\n  }\n\n  public async patchChangelist(changelistName: string) {\n    return this.run(Operation.Patch, () =>\n      this.repository.patchChangelist(changelistName)\n    );\n  }\n\n  public async removeFiles(files: string[], keepLocal: boolean) {\n    return this.run(Operation.Remove, () =>\n      this.repository.removeFiles(files, keepLocal)\n    );\n  }\n\n  public async plainLog() {\n    return this.run(Operation.Log, () => this.repository.plainLog());\n  }\n\n  public async plainLogBuffer() {\n    return this.run(Operation.Log, () => this.repository.plainLogBuffer());\n  }\n\n  public async plainLogByRevision(revision: number) {\n    return this.run(Operation.Log, () =>\n      this.repository.plainLogByRevision(revision)\n    );\n  }\n\n  public async plainLogByRevisionBuffer(revision: number) {\n    return this.run(Operation.Log, () =>\n      this.repository.plainLogByRevisionBuffer(revision)\n    );\n  }\n\n  public async plainLogByText(search: string) {\n    return this.run(Operation.Log, () =>\n      this.repository.plainLogByText(search)\n    );\n  }\n\n  public async plainLogByTextBuffer(search: string) {\n    return this.run(Operation.Log, () =>\n      this.repository.plainLogByTextBuffer(search)\n    );\n  }\n\n  public async log(\n    rfrom: string,\n    rto: string,\n    limit: number,\n    target?: string | Uri\n  ) {\n    return this.run(Operation.Log, () =>\n      this.repository.log(rfrom, rto, limit, target)\n    );\n  }\n\n  public async logByUser(user: string) {\n    return this.run(Operation.Log, () => this.repository.logByUser(user));\n  }\n\n  public async cleanup() {\n    return this.run(Operation.CleanUp, () => this.repository.cleanup());\n  }\n\n  public async removeUnversioned() {\n    return this.run(Operation.CleanUp, () =>\n      this.repository.removeUnversioned()\n    );\n  }\n\n  public async getInfo(path: string, revision?: string): Promise<ISvnInfo> {\n    return this.run(Operation.Info, () =>\n      this.repository.getInfo(path, revision, true)\n    );\n  }\n\n  public async getChanges(): Promise<ISvnPathChange[]> {\n    return this.run(Operation.Changes, () => this.repository.getChanges());\n  }\n\n  public async finishCheckout() {\n    return this.run(Operation.SwitchBranch, () =>\n      this.repository.finishCheckout()\n    );\n  }\n\n  public async addToIgnore(\n    expressions: string[],\n    directory: string,\n    recursive: boolean = false\n  ) {\n    return this.run(Operation.Ignore, () =>\n      this.repository.addToIgnore(expressions, directory, recursive)\n    );\n  }\n\n  public async rename(oldFile: string, newFile: string) {\n    return this.run(Operation.Rename, () =>\n      this.repository.rename(oldFile, newFile)\n    );\n  }\n\n  public async list(filePath: string): Promise<ISvnListItem[]> {\n    return this.run<ISvnListItem[]>(Operation.List, () => {\n      return this.repository.ls(filePath);\n    });\n  }\n\n  public getPathNormalizer(): PathNormalizer {\n    return new PathNormalizer(this.repository.info);\n  }\n\n  protected getCredentialServiceName() {\n    let key = \"vscode.svn-scm\";\n\n    const info = this.repository.info;\n\n    if (info.repository && info.repository.root) {\n      key += \":\" + info.repository.root;\n    } else if (info.url) {\n      key += \":\" + info.url;\n    }\n\n    return key;\n  }\n\n  public async loadStoredAuths(): Promise<Array<IStoredAuth>> {\n    // Prevent multiple prompts for auth\n    if (this.lastPromptAuth) {\n      await this.lastPromptAuth;\n    }\n\n    try {\n      return keytar.findCredentials(this.getCredentialServiceName());\n    } catch (error) {\n      return [];\n    }\n  }\n\n  public async saveAuth(): Promise<void> {\n    if (this.canSaveAuth && this.username && this.password) {\n      try {\n        await keytar.setPassword(\n          this.getCredentialServiceName(),\n          this.username,\n          this.password\n        );\n      } catch (error) {\n        console.log(error);\n      }\n      this.canSaveAuth = false;\n    }\n  }\n\n  public async promptAuth(): Promise<IAuth | undefined> {\n    // Prevent multiple prompts for auth\n    if (this.lastPromptAuth) {\n      return this.lastPromptAuth;\n    }\n\n    this.lastPromptAuth = commands.executeCommand(\"svn.promptAuth\");\n    const result = await this.lastPromptAuth;\n\n    if (result) {\n      this.username = result.username;\n      this.password = result.password;\n      this.canSaveAuth = true;\n    }\n\n    this.lastPromptAuth = undefined;\n    return result;\n  }\n\n  public onDidSaveTextDocument(document: TextDocument) {\n    const uriString = document.uri.toString();\n    const conflict = this.conflicts.resourceStates.find(\n      resource => resource.resourceUri.toString() === uriString\n    );\n    if (!conflict) {\n      return;\n    }\n\n    const text = document.getText();\n\n    // Check for lines begin with \"<<<<<<\", \"=======\", \">>>>>>>\"\n    if (!/^<{7}[^]+^={7}[^]+^>{7}/m.test(text)) {\n      commands.executeCommand(\"svn.resolved\", conflict.resourceUri);\n    }\n  }\n\n  private async run<T>(\n    operation: Operation,\n    runOperation: () => Promise<T> = () => Promise.resolve<any>(null)\n  ): Promise<T> {\n    if (this.state !== RepositoryState.Idle) {\n      throw new Error(\"Repository not initialized\");\n    }\n\n    const run = async () => {\n      this._operations.start(operation);\n      this._onRunOperation.fire(operation);\n\n      try {\n        const result = await this.retryRun(runOperation);\n\n        const checkRemote = operation === Operation.StatusRemote;\n\n        if (!isReadOnly(operation)) {\n          await this.updateModelState(checkRemote);\n        }\n\n        return result;\n      } catch (err) {\n        if (err.svnErrorCode === svnErrorCodes.NotASvnRepository) {\n          this.state = RepositoryState.Disposed;\n        }\n\n        const rootExists = await exists(this.workspaceRoot);\n        if (!rootExists) {\n          await commands.executeCommand(\"svn.close\", this);\n        }\n\n        throw err;\n      } finally {\n        this._operations.end(operation);\n        this._onDidRunOperation.fire(operation);\n      }\n    };\n\n    return shouldShowProgress(operation)\n      ? window.withProgress({ location: ProgressLocation.SourceControl }, run)\n      : run();\n  }\n\n  private async retryRun<T>(\n    runOperation: () => Promise<T> = () => Promise.resolve<any>(null)\n  ): Promise<T> {\n    let attempt = 0;\n    let accounts: IStoredAuth[] = [];\n\n    while (true) {\n      try {\n        attempt++;\n        const result = await runOperation();\n        this.saveAuth();\n        return result;\n      } catch (err) {\n        if (\n          err.svnErrorCode === svnErrorCodes.RepositoryIsLocked &&\n          attempt <= 10\n        ) {\n          // quatratic backoff\n          await timeout(Math.pow(attempt, 2) * 50);\n        } else if (\n          err.svnErrorCode === svnErrorCodes.AuthorizationFailed &&\n          attempt <= 1 + accounts.length\n        ) {\n          // First attempt load all stored auths\n          if (attempt === 1) {\n            accounts = await this.loadStoredAuths();\n          }\n\n          // each attempt, try a different account\n          const index = accounts.length - 1;\n          if (typeof accounts[index] !== \"undefined\") {\n            this.username = accounts[index].account;\n            this.password = accounts[index].password;\n          }\n        } else if (\n          err.svnErrorCode === svnErrorCodes.AuthorizationFailed &&\n          attempt <= 3 + accounts.length\n        ) {\n          const result = await this.promptAuth();\n          if (!result) {\n            throw err;\n          }\n        } else {\n          throw err;\n        }\n      }\n    }\n  }\n\n  public dispose(): void {\n    this.disposables = dispose(this.disposables);\n  }\n}\n","import * as path from \"path\";\nimport {\n  Command,\n  SourceControlResourceDecorations,\n  SourceControlResourceState,\n  ThemeColor,\n  Uri\n} from \"vscode\";\nimport { PropStatus, Status } from \"./common/types\";\nimport { memoize } from \"./decorators\";\nimport { configuration } from \"./helpers/configuration\";\n\n// Path needs to be relative from out/\nconst iconsRootPath = path.join(__dirname, \"..\", \"icons\");\n\nfunction getIconUri(iconName: string, theme: string): Uri {\n  return Uri.file(path.join(iconsRootPath, theme, `${iconName}.svg`));\n}\n\nexport class Resource implements SourceControlResourceState {\n  private static icons: any = {\n    light: {\n      Added: getIconUri(\"status-added\", \"light\"),\n      Conflicted: getIconUri(\"status-conflicted\", \"light\"),\n      Deleted: getIconUri(\"status-deleted\", \"light\"),\n      Ignored: getIconUri(\"status-ignored\", \"light\"),\n      Missing: getIconUri(\"status-missing\", \"light\"),\n      Modified: getIconUri(\"status-modified\", \"light\"),\n      Renamed: getIconUri(\"status-renamed\", \"light\"),\n      Replaced: getIconUri(\"status-replaced\", \"light\"),\n      Unversioned: getIconUri(\"status-unversioned\", \"light\")\n    },\n    dark: {\n      Added: getIconUri(\"status-added\", \"dark\"),\n      Conflicted: getIconUri(\"status-conflicted\", \"dark\"),\n      Deleted: getIconUri(\"status-deleted\", \"dark\"),\n      Ignored: getIconUri(\"status-ignored\", \"dark\"),\n      Missing: getIconUri(\"status-missing\", \"dark\"),\n      Modified: getIconUri(\"status-modified\", \"dark\"),\n      Renamed: getIconUri(\"status-renamed\", \"dark\"),\n      Replaced: getIconUri(\"status-replaced\", \"dark\"),\n      Unversioned: getIconUri(\"status-unversioned\", \"dark\")\n    }\n  };\n\n  constructor(\n    private _resourceUri: Uri,\n    private _type: string,\n    private _renameResourceUri?: Uri,\n    private _props?: string,\n    private _remote: boolean = false\n  ) {}\n\n  @memoize\n  get resourceUri(): Uri {\n    return this._resourceUri;\n  }\n\n  @memoize\n  get type(): string {\n    return this._type;\n  }\n  get renameResourceUri(): Uri | undefined {\n    return this._renameResourceUri;\n  }\n  get props(): string | undefined {\n    return this._props;\n  }\n\n  get remote(): boolean {\n    return this._remote;\n  }\n\n  get decorations(): SourceControlResourceDecorations {\n    // TODO@joh, still requires restart/redraw in the SCM viewlet\n    const light = { iconPath: this.getIconPath(\"light\") };\n    const dark = { iconPath: this.getIconPath(\"dark\") };\n    const tooltip = this.tooltip;\n    const strikeThrough = this.strikeThrough;\n    const faded = this.faded;\n\n    return {\n      strikeThrough,\n      faded,\n      tooltip,\n      light,\n      dark\n    };\n  }\n\n  @memoize\n  get command(): Command {\n    const diffHead = configuration.get<boolean>(\"diff.withHead\", true);\n    const changesLeftClick = configuration.get<string>(\n      \"sourceControl.changesLeftClick\",\n      \"open diff\"\n    );\n\n    if (!this.remote && changesLeftClick === \"open\") {\n      return {\n        command: \"svn.openFile\",\n        title: \"Open file\",\n        arguments: [this]\n      };\n    }\n\n    if (this.remote || diffHead) {\n      return {\n        command: \"svn.openResourceHead\",\n        title: \"Open Diff With Head\",\n        arguments: [this]\n      };\n    }\n\n    return {\n      command: \"svn.openResourceBase\",\n      title: \"Open Diff With Base\",\n      arguments: [this]\n    };\n  }\n\n  private getIconPath(theme: string): Uri | undefined {\n    if (this.type === Status.ADDED && this.renameResourceUri) {\n      return Resource.icons[theme].Renamed;\n    }\n\n    const type = this.type.charAt(0).toUpperCase() + this.type.slice(1);\n\n    if (typeof Resource.icons[theme][type] !== \"undefined\") {\n      return Resource.icons[theme][type];\n    }\n\n    return void 0;\n  }\n\n  private get tooltip(): string {\n    if (this.type === Status.ADDED && this.renameResourceUri) {\n      return \"Renamed from \" + this.renameResourceUri.fsPath;\n    }\n\n    if (\n      this.type === Status.NORMAL &&\n      this.props &&\n      this.props !== PropStatus.NONE\n    ) {\n      return (\n        \"Property \" + this.props.charAt(0).toUpperCase() + this.props.slice(1)\n      );\n    }\n\n    return this.type.charAt(0).toUpperCase() + this.type.slice(1);\n  }\n\n  private get strikeThrough(): boolean {\n    if (this.type === Status.DELETED) {\n      return true;\n    }\n\n    return false;\n  }\n\n  private get faded(): boolean {\n    return false;\n  }\n\n  get letter(): string | undefined {\n    switch (this.type) {\n      case Status.ADDED:\n        if (this.renameResourceUri) {\n          return \"R\";\n        }\n        return \"A\";\n      case Status.CONFLICTED:\n        return \"C\";\n      case Status.DELETED:\n        return \"D\";\n      case Status.EXTERNAL:\n        return \"E\";\n      case Status.IGNORED:\n        return \"I\";\n      case Status.MODIFIED:\n        return \"M\";\n      case Status.REPLACED:\n        return \"R\";\n      case Status.UNVERSIONED:\n        return \"U\";\n      case Status.MISSING:\n        return \"!\";\n      default:\n        return undefined;\n    }\n  }\n\n  get color(): ThemeColor | undefined {\n    switch (this.type) {\n      case Status.MODIFIED:\n      case Status.REPLACED:\n        return new ThemeColor(\"gitDecoration.modifiedResourceForeground\");\n      case Status.DELETED:\n      case Status.MISSING:\n        return new ThemeColor(\"gitDecoration.deletedResourceForeground\");\n      case Status.ADDED:\n      case Status.UNVERSIONED:\n        return new ThemeColor(\"gitDecoration.untrackedResourceForeground\");\n      case Status.EXTERNAL:\n      case Status.IGNORED:\n        return new ThemeColor(\"gitDecoration.ignoredResourceForeground\");\n      case Status.CONFLICTED:\n        return new ThemeColor(\"gitDecoration.conflictingResourceForeground\");\n      default:\n        return undefined;\n    }\n  }\n\n  get priority(): number {\n    switch (this.type) {\n      case Status.MODIFIED:\n        return 2;\n      case Status.IGNORED:\n        return 3;\n      case Status.DELETED:\n      case Status.ADDED:\n      case Status.REPLACED:\n      case Status.MISSING:\n        return 4;\n      default:\n        return 1;\n    }\n  }\n}\n","import { Stats } from \"original-fs\";\nimport * as path from \"path\";\nimport {\n  commands,\n  Disposable,\n  Event,\n  EventEmitter,\n  Uri,\n  window,\n  workspace,\n  WorkspaceFoldersChangeEvent\n} from \"vscode\";\nimport {\n  ConstructorPolicy,\n  RepositoryChangeEvent,\n  IOpenRepository,\n  RepositoryState\n} from \"./common/types\";\nimport { debounce } from \"./decorators\";\nimport { readdir, stat } from \"./fs\";\nimport { configuration } from \"./helpers/configuration\";\nimport { RemoteRepository } from \"./remoteRepository\";\nimport { Repository } from \"./repository\";\nimport { Svn, svnErrorCodes } from \"./svn\";\nimport SvnError from \"./svnError\";\nimport {\n  anyEvent,\n  dispose,\n  filterEvent,\n  IDisposable,\n  isDescendant,\n  isSvnFolder,\n  normalizePath,\n  eventToPromise\n} from \"./util\";\nimport { matchAll } from \"./util/globMatch\";\n\ntype State = \"uninitialized\" | \"initialized\";\n\nexport class SourceControlManager implements IDisposable {\n  private _onDidOpenRepository = new EventEmitter<Repository>();\n  public readonly onDidOpenRepository: Event<Repository> = this\n    ._onDidOpenRepository.event;\n\n  private _onDidCloseRepository = new EventEmitter<Repository>();\n  public readonly onDidCloseRepository: Event<Repository> = this\n    ._onDidCloseRepository.event;\n\n  private _onDidChangeRepository = new EventEmitter<RepositoryChangeEvent>();\n  public readonly onDidChangeRepository: Event<RepositoryChangeEvent> = this\n    ._onDidChangeRepository.event;\n\n  private _onDidChangeStatusRepository = new EventEmitter<Repository>();\n  public readonly onDidChangeStatusRepository: Event<Repository> = this\n    ._onDidChangeStatusRepository.event;\n\n  public openRepositories: IOpenRepository[] = [];\n  private disposables: Disposable[] = [];\n  private enabled = false;\n  private possibleSvnRepositoryPaths = new Set<string>();\n  private ignoreList: string[] = [];\n  private maxDepth: number = 0;\n\n  private configurationChangeDisposable: Disposable;\n\n  private _onDidChangeState = new EventEmitter<State>();\n  readonly onDidchangeState = this._onDidChangeState.event;\n\n  private _state: State = \"uninitialized\";\n  get state(): State {\n    return this._state;\n  }\n\n  setState(state: State): void {\n    this._state = state;\n    this._onDidChangeState.fire(state);\n  }\n\n  get isInitialized(): Promise<void> {\n    if (this._state === \"initialized\") {\n      return Promise.resolve();\n    }\n\n    return eventToPromise(\n      filterEvent(this.onDidchangeState, s => s === \"initialized\")\n    ) as Promise<any>;\n  }\n\n  get repositories(): Repository[] {\n    return this.openRepositories.map(r => r.repository);\n  }\n\n  get svn(): Svn {\n    return this._svn;\n  }\n\n  constructor(private _svn: Svn, policy: ConstructorPolicy) {\n    if (policy !== ConstructorPolicy.Async) {\n      throw new Error(\"Unsopported policy\");\n    }\n    this.enabled = configuration.get<boolean>(\"enabled\") === true;\n\n    this.configurationChangeDisposable = workspace.onDidChangeConfiguration(\n      this.onDidChangeConfiguration,\n      this\n    );\n\n    return ((async (): Promise<SourceControlManager> => {\n      if (this.enabled) {\n        await this.enable();\n      }\n      return this;\n    })() as unknown) as SourceControlManager;\n  }\n\n  public openRepositoriesSorted(): IOpenRepository[] {\n    // Sort by path length (First external and ignored over root)\n    return this.openRepositories.sort(\n      (a, b) =>\n        b.repository.workspaceRoot.length - a.repository.workspaceRoot.length\n    );\n  }\n\n  private onDidChangeConfiguration(): void {\n    const enabled = configuration.get<boolean>(\"enabled\") === true;\n\n    this.maxDepth = configuration.get<number>(\"multipleFolders.depth\", 0);\n\n    if (enabled === this.enabled) {\n      return;\n    }\n\n    this.enabled = enabled;\n\n    if (enabled) {\n      this.enable();\n    } else {\n      this.disable();\n    }\n  }\n\n  private async enable() {\n    const multipleFolders = configuration.get<boolean>(\n      \"multipleFolders.enabled\",\n      false\n    );\n\n    if (multipleFolders) {\n      this.maxDepth = configuration.get<number>(\"multipleFolders.depth\", 0);\n\n      this.ignoreList = configuration.get(\"multipleFolders.ignore\", []);\n    }\n\n    workspace.onDidChangeWorkspaceFolders(\n      this.onDidChangeWorkspaceFolders,\n      this,\n      this.disposables\n    );\n\n    const fsWatcher = workspace.createFileSystemWatcher(\"**\");\n    this.disposables.push(fsWatcher);\n\n    const onWorkspaceChange = anyEvent(\n      fsWatcher.onDidChange,\n      fsWatcher.onDidCreate,\n      fsWatcher.onDidDelete\n    );\n    const onPossibleSvnRepositoryChange = filterEvent(\n      onWorkspaceChange,\n      uri => uri.scheme === \"file\" && !this.getRepository(uri)\n    );\n    onPossibleSvnRepositoryChange(\n      this.onPossibleSvnRepositoryChange,\n      this,\n      this.disposables\n    );\n\n    this.setState(\"initialized\");\n\n    await this.scanWorkspaceFolders();\n  }\n\n  private onPossibleSvnRepositoryChange(uri: Uri): void {\n    const possibleSvnRepositoryPath = uri.fsPath.replace(/\\.svn.*$/, \"\");\n    this.eventuallyScanPossibleSvnRepository(possibleSvnRepositoryPath);\n  }\n\n  private eventuallyScanPossibleSvnRepository(path: string) {\n    this.possibleSvnRepositoryPaths.add(path);\n    this.eventuallyScanPossibleSvnRepositories();\n  }\n\n  @debounce(500)\n  private eventuallyScanPossibleSvnRepositories(): void {\n    for (const path of this.possibleSvnRepositoryPaths) {\n      this.tryOpenRepository(path, 1);\n    }\n\n    this.possibleSvnRepositoryPaths.clear();\n  }\n\n  private scanExternals(repository: Repository): void {\n    const shouldScanExternals =\n      configuration.get<boolean>(\"detectExternals\") === true;\n\n    if (!shouldScanExternals) {\n      return;\n    }\n\n    repository.statusExternal\n      .map(r => path.join(repository.workspaceRoot, r.path))\n      .forEach(p => this.eventuallyScanPossibleSvnRepository(p));\n  }\n\n  private scanIgnored(repository: Repository): void {\n    const shouldScan = configuration.get<boolean>(\"detectIgnored\") === true;\n\n    if (!shouldScan) {\n      return;\n    }\n\n    repository.statusIgnored\n      .map(r => path.join(repository.workspaceRoot, r.path))\n      .forEach(p => this.eventuallyScanPossibleSvnRepository(p));\n  }\n\n  private disable(): void {\n    this.repositories.forEach(repository => repository.dispose());\n    this.openRepositories = [];\n\n    this.possibleSvnRepositoryPaths.clear();\n    this.disposables = dispose(this.disposables);\n  }\n\n  private async onDidChangeWorkspaceFolders({\n    added,\n    removed\n  }: WorkspaceFoldersChangeEvent) {\n    const possibleRepositoryFolders = added.filter(\n      folder => !this.getOpenRepository(folder.uri)\n    );\n\n    const openRepositoriesToDispose = removed\n      .map(folder => this.getOpenRepository(folder.uri.fsPath))\n      .filter(repository => !!repository)\n      .filter(\n        repository =>\n          !(workspace.workspaceFolders || []).some(f =>\n            repository!.repository.workspaceRoot.startsWith(f.uri.fsPath)\n          )\n      ) as IOpenRepository[];\n\n    possibleRepositoryFolders.forEach(p =>\n      this.tryOpenRepository(p.uri.fsPath)\n    );\n    openRepositoriesToDispose.forEach(r => r.repository.dispose());\n  }\n\n  private async scanWorkspaceFolders() {\n    for (const folder of workspace.workspaceFolders || []) {\n      const root = folder.uri.fsPath;\n      await this.tryOpenRepository(root);\n    }\n  }\n\n  public async tryOpenRepository(path: string, level = 0): Promise<void> {\n    if (this.getRepository(path)) {\n      return;\n    }\n\n    const checkParent = level === 0;\n\n    if (await isSvnFolder(path, checkParent)) {\n      // Config based on folder path\n      const resourceConfig = workspace.getConfiguration(\"svn\", Uri.file(path));\n\n      const ignoredRepos = new Set(\n        (resourceConfig.get<string[]>(\"ignoreRepositories\") || []).map(p =>\n          normalizePath(p)\n        )\n      );\n\n      if (ignoredRepos.has(normalizePath(path))) {\n        return;\n      }\n\n      try {\n        const repositoryRoot = await this.svn.getRepositoryRoot(path);\n\n        const repository = new Repository(\n          await this.svn.open(repositoryRoot, path)\n        );\n\n        this.open(repository);\n      } catch (err) {\n        if (err instanceof SvnError) {\n          if (err.svnErrorCode === svnErrorCodes.WorkingCopyIsTooOld) {\n            await commands.executeCommand(\"svn.upgrade\", path);\n            return;\n          }\n        }\n        console.error(err);\n      }\n      return;\n    }\n\n    const newLevel = level + 1;\n    if (newLevel <= this.maxDepth) {\n      let files: string[] | Buffer[] = [];\n\n      try {\n        files = await readdir(path);\n      } catch (error) {\n        return;\n      }\n\n      for (const file of files) {\n        const dir = path + \"/\" + file;\n        let stats: Stats;\n\n        try {\n          stats = await stat(dir);\n        } catch (error) {\n          continue;\n        }\n\n        if (\n          stats.isDirectory() &&\n          !matchAll(dir, this.ignoreList, { dot: true })\n        ) {\n          await this.tryOpenRepository(dir, newLevel);\n        }\n      }\n    }\n  }\n\n  public async getRemoteRepository(uri: Uri): Promise<RemoteRepository> {\n    return RemoteRepository.open(this.svn, uri);\n  }\n\n  public getRepository(hint: any): Repository | null {\n    const liveRepository = this.getOpenRepository(hint);\n    if (liveRepository && liveRepository.repository) {\n      return liveRepository.repository;\n    }\n\n    return null;\n  }\n\n  public getOpenRepository(hint: any): IOpenRepository | undefined {\n    if (!hint) {\n      return undefined;\n    }\n\n    if (hint instanceof Repository) {\n      return this.openRepositories.find(r => r.repository === hint);\n    }\n\n    if ((hint as any).repository instanceof Repository) {\n      return this.openRepositories.find(\n        r => r.repository === (hint as any).repository\n      );\n    }\n\n    if (typeof hint === \"string\") {\n      hint = Uri.file(hint);\n    }\n\n    if (hint instanceof Uri) {\n      return this.openRepositoriesSorted().find(liveRepository => {\n        if (\n          !isDescendant(liveRepository.repository.workspaceRoot, hint.fsPath)\n        ) {\n          return false;\n        }\n\n        for (const external of liveRepository.repository.statusExternal) {\n          const externalPath = path.join(\n            liveRepository.repository.workspaceRoot,\n            external.path\n          );\n          if (isDescendant(externalPath, hint.fsPath)) {\n            return false;\n          }\n        }\n        for (const ignored of liveRepository.repository.statusIgnored) {\n          const ignoredPath = path.join(\n            liveRepository.repository.workspaceRoot,\n            ignored.path\n          );\n          if (isDescendant(ignoredPath, hint.fsPath)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n\n    for (const liveRepository of this.openRepositories) {\n      const repository = liveRepository.repository;\n\n      if (hint === repository.sourceControl) {\n        return liveRepository;\n      }\n\n      if (hint === repository.changes) {\n        return liveRepository;\n      }\n    }\n\n    return undefined;\n  }\n\n  public async getRepositoryFromUri(uri: Uri): Promise<Repository | null> {\n    for (const liveRepository of this.openRepositoriesSorted()) {\n      const repository = liveRepository.repository;\n\n      // Ignore path is not child (fix for multiple externals)\n      if (!isDescendant(repository.workspaceRoot, uri.fsPath)) {\n        continue;\n      }\n\n      try {\n        const path = normalizePath(uri.fsPath);\n\n        await repository.info(path);\n\n        return repository;\n      } catch (error) {\n        // Ignore\n      }\n    }\n\n    return null;\n  }\n\n  private open(repository: Repository): void {\n    const onDidDisappearRepository = filterEvent(\n      repository.onDidChangeState,\n      state => state === RepositoryState.Disposed\n    );\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    const disappearListener = onDidDisappearRepository(() => dispose());\n\n    const changeListener = repository.onDidChangeRepository(uri =>\n      this._onDidChangeRepository.fire({ repository, uri })\n    );\n\n    const changeStatus = repository.onDidChangeStatus(() => {\n      this._onDidChangeStatusRepository.fire(repository);\n    });\n\n    const statusListener = repository.onDidChangeStatus(() => {\n      this.scanExternals(repository);\n      this.scanIgnored(repository);\n    });\n    this.scanExternals(repository);\n    this.scanIgnored(repository);\n\n    const dispose = () => {\n      disappearListener.dispose();\n      changeListener.dispose();\n      changeStatus.dispose();\n      statusListener.dispose();\n      repository.dispose();\n\n      this.openRepositories = this.openRepositories.filter(\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        e => e !== openRepository\n      );\n      this._onDidCloseRepository.fire(repository);\n    };\n\n    const openRepository = { repository, dispose };\n    this.openRepositories.push(openRepository);\n    this._onDidOpenRepository.fire(repository);\n  }\n\n  public close(repository: Repository): void {\n    const openRepository = this.getOpenRepository(repository);\n\n    if (!openRepository) {\n      return;\n    }\n\n    openRepository.dispose();\n  }\n\n  public async pickRepository() {\n    if (this.openRepositories.length === 0) {\n      throw new Error(\"There are no available repositories\");\n    }\n\n    const picks: any[] = this.repositories.map(repository => {\n      return {\n        label: path.basename(repository.root),\n        repository\n      };\n    });\n    const placeHolder = \"Choose a repository\";\n    const pick = await window.showQuickPick(picks, { placeHolder });\n\n    return pick && pick.repository;\n  }\n\n  public async upgradeWorkingCopy(folderPath: string): Promise<boolean> {\n    try {\n      const result = await this.svn.exec(folderPath, [\"upgrade\"]);\n      return result.exitCode === 0;\n    } catch (e) {\n      console.log(e);\n    }\n    return false;\n  }\n\n  public dispose(): void {\n    this.disable();\n    this.configurationChangeDisposable.dispose();\n  }\n}\n","import { Command, Disposable, Event, EventEmitter } from \"vscode\";\nimport { Operation } from \"../common/types\";\nimport { Repository } from \"../repository\";\n\nexport class CheckoutStatusBar {\n  private _onDidChange = new EventEmitter<void>();\n  get onDidChange(): Event<void> {\n    return this._onDidChange.event;\n  }\n  private disposables: Disposable[] = [];\n\n  constructor(private repository: Repository) {\n    repository.onDidChangeStatus(\n      this._onDidChange.fire,\n      this._onDidChange,\n      this.disposables\n    );\n\n    repository.onDidChangeOperations(\n      this._onDidChange.fire,\n      this._onDidChange,\n      this.disposables\n    );\n  }\n\n  get command(): Command | undefined {\n    if (!this.repository.currentBranch) {\n      return;\n    }\n\n    const isSwitchRunning =\n      this.repository.operations.isRunning(Operation.SwitchBranch) ||\n      this.repository.operations.isRunning(Operation.NewBranch);\n\n    const title = `$(git-branch) ${this.repository.currentBranch}${\n      isSwitchRunning ? ` (Switching)` : \"\"\n    }`;\n\n    return {\n      command: \"svn.switchBranch\",\n      tooltip: \"Switch Branch...\",\n      title,\n      arguments: [this.repository.sourceControl]\n    };\n  }\n\n  public dispose(): void {\n    this.disposables.forEach(d => d.dispose());\n  }\n}\n","import { Command, Disposable, Event } from \"vscode\";\nimport { Repository } from \"../repository\";\nimport { anyEvent } from \"../util\";\nimport { CheckoutStatusBar } from \"./checkoutStatusBar\";\nimport { SyncStatusBar } from \"./syncStatusBar\";\n\nexport class StatusBarCommands {\n  private checkoutStatusBar: CheckoutStatusBar;\n  private syncStatusBar: SyncStatusBar;\n\n  private disposables: Disposable[] = [];\n\n  constructor(repository: Repository) {\n    this.checkoutStatusBar = new CheckoutStatusBar(repository);\n    this.syncStatusBar = new SyncStatusBar(repository);\n\n    this.disposables.push(this.checkoutStatusBar, this.syncStatusBar);\n  }\n\n  get onDidChange(): Event<void> {\n    return anyEvent(\n      this.syncStatusBar.onDidChange,\n      this.checkoutStatusBar.onDidChange\n    );\n  }\n\n  get commands(): Command[] {\n    const result: Command[] = [];\n\n    const checkout = this.checkoutStatusBar.command;\n\n    if (checkout) {\n      result.push(checkout);\n    }\n\n    const sync = this.syncStatusBar.command;\n\n    if (sync) {\n      result.push(sync);\n    }\n\n    return result;\n  }\n\n  public dispose(): void {\n    this.disposables.forEach(disposable => disposable.dispose());\n  }\n}\n","import { Command, Disposable, Event, EventEmitter } from \"vscode\";\nimport { Operation } from \"../common/types\";\nimport { Repository } from \"../repository\";\n\ninterface ISyncStatusBarState {\n  isIncomplete: boolean;\n  isOperationRunning: boolean;\n  isStatusRemoteRunning: boolean;\n  isSyncRunning: boolean;\n  needCleanUp: boolean;\n  remoteChangedFiles: number;\n}\n\nexport class SyncStatusBar {\n  private static startState: ISyncStatusBarState = {\n    isIncomplete: false,\n    isOperationRunning: false,\n    isStatusRemoteRunning: false,\n    isSyncRunning: false,\n    needCleanUp: false,\n    remoteChangedFiles: 0\n  };\n\n  private _onDidChange = new EventEmitter<void>();\n  get onDidChange(): Event<void> {\n    return this._onDidChange.event;\n  }\n  private disposables: Disposable[] = [];\n\n  private _state: ISyncStatusBarState = SyncStatusBar.startState;\n  private get state() {\n    return this._state;\n  }\n  private set state(state: ISyncStatusBarState) {\n    this._state = state;\n    this._onDidChange.fire();\n  }\n\n  constructor(private repository: Repository) {\n    repository.onDidChangeStatus(this.onModelChange, this, this.disposables);\n    repository.onDidChangeOperations(\n      this.onOperationsChange,\n      this,\n      this.disposables\n    );\n    this._onDidChange.fire();\n  }\n\n  private onOperationsChange(): void {\n    const isSyncRunning =\n      this.repository.operations.isRunning(Operation.SwitchBranch) ||\n      this.repository.operations.isRunning(Operation.NewBranch) ||\n      this.repository.operations.isRunning(Operation.Update);\n\n    const isStatusRemoteRunning = this.repository.operations.isRunning(\n      Operation.StatusRemote\n    );\n\n    const isOperationRunning = !this.repository.operations.isIdle();\n\n    this.state = {\n      ...this.state,\n      isStatusRemoteRunning,\n      isOperationRunning,\n      isSyncRunning\n    };\n  }\n\n  private onModelChange(): void {\n    this.state = {\n      ...this.state,\n      remoteChangedFiles: this.repository.remoteChangedFiles\n    };\n  }\n\n  get command(): Command | undefined {\n    let icon = \"$(sync)\";\n    let text = \"\";\n    let command = \"\";\n    let tooltip = \"\";\n\n    if (this.state.isSyncRunning) {\n      command = \"\";\n      icon = \"$(sync~spin)\";\n      text = \"\";\n      tooltip = \"Updating Revision...\";\n    } else if (this.state.isStatusRemoteRunning) {\n      command = \"\";\n      icon = \"$(sync~spin)\";\n      text = \"\";\n      tooltip = \"Checking remote updates...\";\n    } else if (this.state.isOperationRunning) {\n      command = \"\";\n      icon = \"$(sync~spin)\";\n      text = \"Running\";\n      tooltip = \"Running...\";\n    } else if (this.state.needCleanUp) {\n      command = \"svn.cleanup\";\n      icon = \"$(alert)\";\n      text = \"Need cleanup\";\n      tooltip = \"Run cleanup command\";\n    } else if (this.state.isIncomplete) {\n      command = \"svn.finishCheckout\";\n      icon = \"$(issue-reopened)\";\n      text = \"Incomplete (Need finish checkout)\";\n      tooltip = \"Run update to complete\";\n    } else if (this.state.remoteChangedFiles > 0) {\n      icon = \"$(cloud-download)\";\n      command = \"svn.update\";\n      tooltip = \"Update Revision\";\n      text = `${this.state.remoteChangedFiles}↓`;\n    } else {\n      command = \"svn.update\";\n      tooltip = \"Update Revision\";\n    }\n\n    return {\n      command,\n      title: [icon, text].join(\" \").trim(),\n      tooltip,\n      arguments: [this.repository]\n    };\n  }\n\n  public dispose(): void {\n    this.disposables.forEach(d => d.dispose());\n  }\n}\n","import * as cp from \"child_process\";\nimport { EventEmitter } from \"events\";\nimport * as proc from \"process\";\nimport { Readable } from \"stream\";\nimport {\n  ConstructorPolicy,\n  ICpOptions,\n  IExecutionResult,\n  ISvnOptions\n} from \"./common/types\";\nimport * as encodeUtil from \"./encoding\";\nimport { configuration } from \"./helpers/configuration\";\nimport { parseInfoXml } from \"./parser/infoParser\";\nimport SvnError from \"./svnError\";\nimport { Repository } from \"./svnRepository\";\nimport { dispose, IDisposable, toDisposable } from \"./util\";\nimport { iconv } from \"./vscodeModules\";\n\nexport const svnErrorCodes: { [key: string]: string } = {\n  AuthorizationFailed: \"E170001\",\n  RepositoryIsLocked: \"E155004\",\n  NotASvnRepository: \"E155007\",\n  NotShareCommonAncestry: \"E195012\",\n  WorkingCopyIsTooOld: \"E155036\"\n};\n\nfunction getSvnErrorCode(stderr: string): string | undefined {\n  for (const name in svnErrorCodes) {\n    if (svnErrorCodes.hasOwnProperty(name)) {\n      const code = svnErrorCodes[name];\n      const regex = new RegExp(`svn: ${code}`);\n      if (regex.test(stderr)) {\n        return code;\n      }\n    }\n  }\n\n  if (/No more credentials or we tried too many times/.test(stderr)) {\n    return svnErrorCodes.AuthorizationFailed;\n  }\n\n  return void 0;\n}\n\nexport function cpErrorHandler(\n  cb: (reason?: any) => void\n): (reason?: any) => void {\n  return err => {\n    if (/ENOENT/.test(err.message)) {\n      err = new SvnError({\n        error: err,\n        message: \"Failed to execute svn (ENOENT)\",\n        svnErrorCode: \"NotASvnRepository\"\n      });\n    }\n\n    cb(err);\n  };\n}\n\nexport interface BufferResult {\n  exitCode: number;\n  stdout: Buffer;\n  stderr: string;\n}\n\nexport class Svn {\n  public version: string;\n\n  private svnPath: string;\n  private lastCwd: string = \"\";\n\n  private _onOutput = new EventEmitter();\n  get onOutput(): EventEmitter {\n    return this._onOutput;\n  }\n\n  constructor(options: ISvnOptions) {\n    this.svnPath = options.svnPath;\n    this.version = options.version;\n  }\n\n  public logOutput(output: string): void {\n    this._onOutput.emit(\"log\", output);\n  }\n\n  public async exec(\n    cwd: string,\n    args: any[],\n    options: ICpOptions = {}\n  ): Promise<IExecutionResult> {\n    if (cwd) {\n      this.lastCwd = cwd;\n      options.cwd = cwd;\n    }\n\n    if (options.log !== false) {\n      const argsOut = args.map(arg => (/ |^$/.test(arg) ? `'${arg}'` : arg));\n      this.logOutput(\n        `[${this.lastCwd.split(/[\\\\\\/]+/).pop()}]$ svn ${argsOut.join(\" \")}\\n`\n      );\n    }\n\n    if (options.username) {\n      args.push(\"--username\", options.username);\n    }\n    if (options.password) {\n      args.push(\"--password\", options.password);\n    }\n\n    if (options.username || options.password) {\n      // Configuration format: FILE:SECTION:OPTION=[VALUE]\n      // Disable password store\n      args.push(\"--config-option\", \"config:auth:password-stores=\");\n      // Disable store auth credentials\n      args.push(\"--config-option\", \"servers:global:store-auth-creds=no\");\n    }\n\n    // Force non interactive environment\n    args.push(\"--non-interactive\");\n\n    let encoding: string | undefined | null = options.encoding;\n    delete options.encoding;\n\n    // SVN with '--xml' always return 'UTF-8', and jschardet detects this encoding: 'TIS-620'\n    if (args.includes(\"--xml\")) {\n      encoding = \"utf8\";\n    }\n\n    const defaults: cp.SpawnOptions = {\n      env: proc.env\n    };\n    if (cwd) {\n      defaults.cwd = cwd;\n    }\n\n    defaults.env = Object.assign({}, proc.env, options.env || {}, {\n      LC_ALL: \"en_US.UTF-8\",\n      LANG: \"en_US.UTF-8\"\n    });\n\n    const process = cp.spawn(this.svnPath, args, defaults);\n\n    const disposables: IDisposable[] = [];\n\n    const once = (\n      ee: NodeJS.EventEmitter,\n      name: string,\n      fn: (...args: any[]) => void\n    ) => {\n      ee.once(name, fn);\n      disposables.push(toDisposable(() => ee.removeListener(name, fn)));\n    };\n\n    const on = (\n      ee: NodeJS.EventEmitter,\n      name: string,\n      fn: (...args: any[]) => void\n    ) => {\n      ee.on(name, fn);\n      disposables.push(toDisposable(() => ee.removeListener(name, fn)));\n    };\n\n    const [exitCode, stdout, stderr] = await Promise.all<any>([\n      new Promise<number>((resolve, reject) => {\n        once(process, \"error\", reject);\n        once(process, \"exit\", resolve);\n      }),\n      new Promise<Buffer>(resolve => {\n        const buffers: Buffer[] = [];\n        on(process.stdout as Readable, \"data\", (b: Buffer) => buffers.push(b));\n        once(process.stdout as Readable, \"close\", () =>\n          resolve(Buffer.concat(buffers))\n        );\n      }),\n      new Promise<string>(resolve => {\n        const buffers: Buffer[] = [];\n        on(process.stderr as Readable, \"data\", (b: Buffer) => buffers.push(b));\n        once(process.stderr as Readable, \"close\", () =>\n          resolve(Buffer.concat(buffers).toString())\n        );\n      })\n    ]);\n\n    dispose(disposables);\n\n    if (!encoding) {\n      encoding = encodeUtil.detectEncoding(stdout);\n    }\n\n    // if not detected\n    if (!encoding) {\n      encoding = configuration.get<string>(\"default.encoding\");\n    }\n\n    if (!iconv.encodingExists(encoding)) {\n      if (encoding) {\n        console.warn(`SVN: The encoding \"${encoding}\" is invalid`);\n      }\n      encoding = \"utf8\";\n    }\n\n    const decodedStdout = iconv.decode(stdout, encoding);\n\n    if (options.log !== false && stderr.length > 0) {\n      const name = this.lastCwd.split(/[\\\\\\/]+/).pop();\n      const err = stderr\n        .split(\"\\n\")\n        .filter((line: string) => line)\n        .map((line: string) => `[${name}]$ ${line}`)\n        .join(\"\\n\");\n      this.logOutput(err);\n    }\n\n    if (exitCode) {\n      return Promise.reject<IExecutionResult>(\n        new SvnError({\n          message: \"Failed to execute svn\",\n          stdout: decodedStdout,\n          stderr,\n          stderrFormated: stderr.replace(/^svn: E\\d+: +/gm, \"\"),\n          exitCode,\n          svnErrorCode: getSvnErrorCode(stderr),\n          svnCommand: args[0]\n        })\n      );\n    }\n\n    return { exitCode, stdout: decodedStdout, stderr };\n  }\n\n  public async execBuffer(\n    cwd: string,\n    args: any[],\n    options: ICpOptions = {}\n  ): Promise<BufferResult> {\n    if (cwd) {\n      this.lastCwd = cwd;\n      options.cwd = cwd;\n    }\n\n    if (options.log !== false) {\n      const argsOut = args.map(arg => (/ |^$/.test(arg) ? `'${arg}'` : arg));\n      this.logOutput(\n        `[${this.lastCwd.split(/[\\\\\\/]+/).pop()}]$ svn ${argsOut.join(\" \")}\\n`\n      );\n    }\n\n    if (options.username) {\n      args.push(\"--username\", options.username);\n    }\n    if (options.password) {\n      args.push(\"--password\", options.password);\n    }\n\n    if (options.username || options.password) {\n      // Configuration format: FILE:SECTION:OPTION=[VALUE]\n      // Disable password store\n      args.push(\"--config-option\", \"config:auth:password-stores=\");\n      // Disable store auth credentials\n      args.push(\"--config-option\", \"servers:global:store-auth-creds=no\");\n    }\n\n    // Force non interactive environment\n    args.push(\"--non-interactive\");\n\n    const defaults: cp.SpawnOptions = {\n      env: proc.env\n    };\n    if (cwd) {\n      defaults.cwd = cwd;\n    }\n\n    defaults.env = Object.assign({}, proc.env, options.env || {}, {\n      LC_ALL: \"en_US.UTF-8\",\n      LANG: \"en_US.UTF-8\"\n    });\n\n    const process = cp.spawn(this.svnPath, args, defaults);\n\n    const disposables: IDisposable[] = [];\n\n    const once = (\n      ee: NodeJS.EventEmitter,\n      name: string,\n      fn: (...args: any[]) => void\n    ) => {\n      ee.once(name, fn);\n      disposables.push(toDisposable(() => ee.removeListener(name, fn)));\n    };\n\n    const on = (\n      ee: NodeJS.EventEmitter,\n      name: string,\n      fn: (...args: any[]) => void\n    ) => {\n      ee.on(name, fn);\n      disposables.push(toDisposable(() => ee.removeListener(name, fn)));\n    };\n\n    const [exitCode, stdout, stderr] = await Promise.all<any>([\n      new Promise<number>((resolve, reject) => {\n        once(process, \"error\", reject);\n        once(process, \"exit\", resolve);\n      }),\n      new Promise<Buffer>(resolve => {\n        const buffers: Buffer[] = [];\n        on(process.stdout as Readable, \"data\", (b: Buffer) => buffers.push(b));\n        once(process.stdout as Readable, \"close\", () =>\n          resolve(Buffer.concat(buffers))\n        );\n      }),\n      new Promise<string>(resolve => {\n        const buffers: Buffer[] = [];\n        on(process.stderr as Readable, \"data\", (b: Buffer) => buffers.push(b));\n        once(process.stderr as Readable, \"close\", () =>\n          resolve(Buffer.concat(buffers).toString())\n        );\n      })\n    ]);\n\n    dispose(disposables);\n\n    if (options.log !== false && stderr.length > 0) {\n      const name = this.lastCwd.split(/[\\\\\\/]+/).pop();\n      const err = stderr\n        .split(\"\\n\")\n        .filter((line: string) => line)\n        .map((line: string) => `[${name}]$ ${line}`)\n        .join(\"\\n\");\n      this.logOutput(err);\n    }\n\n    return { exitCode, stdout, stderr };\n  }\n\n  public async getRepositoryRoot(path: string) {\n    try {\n      const result = await this.exec(path, [\"info\", \"--xml\"]);\n\n      const info = await parseInfoXml(result.stdout);\n\n      if (info && info.wcInfo && info.wcInfo.wcrootAbspath) {\n        return info.wcInfo.wcrootAbspath;\n      }\n\n      // SVN 1.6 not has \"wcroot-abspath\"\n      return path;\n    } catch (error) {\n      if (error instanceof SvnError) {\n        throw error;\n      }\n      console.error(error);\n      throw new Error(\"Unable to find repository root path\");\n    }\n  }\n\n  public async open(\n    repositoryRoot: string,\n    workspaceRoot: string\n  ): Promise<Repository> {\n    return new Repository(\n      this,\n      repositoryRoot,\n      workspaceRoot,\n      ConstructorPolicy.Async\n    );\n  }\n}\n","import { ISvnErrorData } from \"./common/types\";\n\nexport default class SvnError {\n  public error?: Error;\n  public message: string;\n  public stdout?: string;\n  public stderr?: string;\n  public stderrFormated?: string;\n  public exitCode?: number;\n  public svnErrorCode?: string;\n  public svnCommand?: string;\n\n  constructor(data: ISvnErrorData) {\n    if (data.error) {\n      this.error = data.error;\n      this.message = data.error.message;\n    } else {\n      this.error = void 0;\n    }\n\n    this.message = data.message || \"SVN error\";\n    this.stdout = data.stdout;\n    this.stderr = data.stderr;\n    this.stderrFormated = data.stderrFormated;\n    this.exitCode = data.exitCode;\n    this.svnErrorCode = data.svnErrorCode;\n    this.svnCommand = data.svnCommand;\n  }\n\n  public toString(): string {\n    let result =\n      this.message +\n      \" \" +\n      JSON.stringify(\n        {\n          exitCode: this.exitCode,\n          svnErrorCode: this.svnErrorCode,\n          svnCommand: this.svnCommand,\n          stdout: this.stdout,\n          stderr: this.stderr\n        },\n        null,\n        2\n      );\n\n    if (this.error) {\n      result += (this.error as any).stack;\n    }\n\n    return result;\n  }\n}\n","import {\n  FileSystemProvider,\n  workspace,\n  Disposable,\n  FileStat,\n  Uri,\n  FileSystemError,\n  FileType,\n  FileChangeEvent,\n  EventEmitter,\n  Event,\n  window,\n  FileChangeType\n} from \"vscode\";\nimport { SourceControlManager } from \"./source_control_manager\";\nimport { fromSvnUri } from \"./uri\";\nimport { SvnUriAction, RepositoryChangeEvent } from \"./common/types\";\nimport { debounce, throttle } from \"./decorators\";\nimport {\n  filterEvent,\n  eventToPromise,\n  isDescendant,\n  pathEquals,\n  EmptyDisposable\n} from \"./util\";\n\nconst THREE_MINUTES = 1000 * 60 * 3;\nconst FIVE_MINUTES = 1000 * 60 * 5;\n\ninterface CacheRow {\n  uri: Uri;\n  timestamp: number;\n}\n\nexport class SvnFileSystemProvider implements FileSystemProvider, Disposable {\n  private disposables: Disposable[] = [];\n  private cache = new Map<string, CacheRow>();\n\n  private _onDidChangeFile = new EventEmitter<FileChangeEvent[]>();\n  readonly onDidChangeFile: Event<FileChangeEvent[]> = this._onDidChangeFile\n    .event;\n\n  private changedRepositoryRoots = new Set<string>();\n\n  constructor(private sourceControlManager: SourceControlManager) {\n    this.disposables.push(\n      sourceControlManager.onDidChangeRepository(\n        this.onDidChangeRepository,\n        this\n      ),\n      workspace.registerFileSystemProvider(\"svn\", this, {\n        isReadonly: true,\n        isCaseSensitive: true\n      })\n    );\n\n    setInterval(() => this.cleanup(), FIVE_MINUTES);\n  }\n\n  private onDidChangeRepository({ repository }: RepositoryChangeEvent): void {\n    this.changedRepositoryRoots.add(repository.root);\n    this.eventuallyFireChangeEvents();\n  }\n\n  @debounce(1100)\n  private eventuallyFireChangeEvents(): void {\n    this.fireChangeEvents();\n  }\n\n  @throttle\n  private async fireChangeEvents(): Promise<void> {\n    if (!window.state.focused) {\n      const onDidFocusWindow = filterEvent(\n        window.onDidChangeWindowState,\n        e => e.focused\n      );\n      await eventToPromise(onDidFocusWindow);\n    }\n\n    const events: FileChangeEvent[] = [];\n\n    for (const { uri } of this.cache.values()) {\n      const fsPath = uri.fsPath;\n\n      for (const root of this.changedRepositoryRoots) {\n        if (isDescendant(root, fsPath)) {\n          events.push({ type: FileChangeType.Changed, uri });\n          break;\n        }\n      }\n    }\n\n    if (events.length > 0) {\n      this._onDidChangeFile.fire(events);\n    }\n\n    this.changedRepositoryRoots.clear();\n  }\n\n  watch(): Disposable {\n    return EmptyDisposable;\n  }\n\n  async stat(uri: Uri): Promise<FileStat> {\n    await this.sourceControlManager.isInitialized;\n\n    const { fsPath } = fromSvnUri(uri);\n\n    const repository = this.sourceControlManager.getRepository(fsPath);\n\n    if (!repository) {\n      throw FileSystemError.FileNotFound;\n    }\n\n    let size = 0;\n    let mtime = new Date().getTime();\n\n    try {\n      const listResults = await repository.list(fsPath);\n\n      if (listResults.length) {\n        size = Number(listResults[0].size) as number;\n        mtime = Date.parse(listResults[0].commit.date);\n      }\n    } catch {}\n\n    return { type: FileType.File, size, mtime, ctime: 0 };\n  }\n\n  readDirectory(): Thenable<[string, FileType][]> {\n    throw new Error(\"readDirectory is not implemented\");\n  }\n\n  createDirectory(): void {\n    throw new Error(\"createDirectory is not implemented\");\n  }\n\n  async readFile(uri: Uri): Promise<Uint8Array> {\n    await this.sourceControlManager.isInitialized;\n\n    const { fsPath, extra, action } = fromSvnUri(uri);\n\n    const repository = this.sourceControlManager.getRepository(fsPath);\n\n    if (!repository) {\n      throw FileSystemError.FileNotFound();\n    }\n\n    const cacheKey = uri.toString();\n    const timestamp = new Date().getTime();\n    const cacheValue: CacheRow = { uri: uri, timestamp };\n\n    this.cache.set(cacheKey, cacheValue);\n\n    try {\n      if (action === SvnUriAction.SHOW) {\n        return await repository.showBuffer(fsPath, extra.ref);\n      }\n      if (action === SvnUriAction.LOG) {\n        return await repository.plainLogBuffer();\n      }\n      if (action === SvnUriAction.LOG_REVISION && extra.revision) {\n        return await repository.plainLogByRevisionBuffer(extra.revision);\n      }\n      if (action === SvnUriAction.LOG_SEARCH && extra.search) {\n        return await repository.plainLogByTextBuffer(extra.search);\n      }\n      if (action === SvnUriAction.PATCH) {\n        console.log(\"here\");\n        return await repository.patchBuffer([fsPath]);\n      }\n    } catch {}\n\n    return new Uint8Array(0);\n  }\n\n  writeFile(): void {\n    throw new Error(\"writeFile is not implemented\");\n  }\n\n  delete(): void {\n    throw new Error(\"delete is not implemented\");\n  }\n\n  rename(): void {\n    throw new Error(\"rename is not implemented\");\n  }\n\n  private cleanup(): void {\n    const now = new Date().getTime();\n    const cache = new Map<string, CacheRow>();\n\n    for (const row of this.cache.values()) {\n      const { fsPath } = fromSvnUri(row.uri);\n      const isOpen = workspace.textDocuments\n        .filter(d => d.uri.scheme === \"file\")\n        .some(d => pathEquals(d.uri.fsPath, fsPath));\n\n      if (isOpen || now - row.timestamp < THREE_MINUTES) {\n        cache.set(row.uri.toString(), row);\n      } else {\n        // TODO: should fire delete events?\n      }\n    }\n\n    this.cache = cache;\n  }\n\n  dispose(): void {\n    this.disposables.forEach(d => d.dispose());\n  }\n}\n","import * as cp from \"child_process\";\nimport * as path from \"path\";\nimport * as semver from \"semver\";\nimport { Readable } from \"stream\";\nimport { cpErrorHandler } from \"./svn\";\n\nexport interface ISvn {\n  path: string;\n  version: string;\n}\n\nexport class SvnFinder {\n  public findSvn(hint?: string): Promise<ISvn> {\n    const first = hint\n      ? this.findSpecificSvn(hint)\n      : Promise.reject<ISvn>(null);\n\n    return first\n      .then(void 0, () => {\n        switch (process.platform) {\n          case \"darwin\":\n            return this.findSvnDarwin();\n          case \"win32\":\n            return this.findSvnWin32();\n          default:\n            return this.findSpecificSvn(\"svn\");\n        }\n      })\n      .then(svn => this.checkSvnVersion(svn))\n      .then(null, () =>\n        Promise.reject(new Error(\"Svn installation not found.\"))\n      );\n  }\n\n  public findSvnWin32(): Promise<ISvn> {\n    return this.findSystemSvnWin32(process.env.ProgramW6432)\n      .then(void 0, () =>\n        this.findSystemSvnWin32(process.env[\"ProgramFiles(x86)\"])\n      )\n      .then(void 0, () => this.findSystemSvnWin32(process.env.ProgramFiles))\n      .then(void 0, () => this.findSpecificSvn(\"svn\"));\n  }\n\n  public findSystemSvnWin32(base?: string): Promise<ISvn> {\n    if (!base) {\n      return Promise.reject<ISvn>(\"Not found\");\n    }\n\n    return this.findSpecificSvn(\n      path.join(base, \"TortoiseSVN\", \"bin\", \"svn.exe\")\n    );\n  }\n\n  public findSvnDarwin(): Promise<ISvn> {\n    return new Promise<ISvn>((c, e) => {\n      cp.exec(\"which svn\", (err, svnPathBuffer) => {\n        if (err) {\n          return e(\"svn not found\");\n        }\n\n        const path = svnPathBuffer.toString().replace(/^\\s+|\\s+$/g, \"\");\n\n        function getVersion(path: string) {\n          // make sure svn executes\n          cp.exec(\"svn --version --quiet\", (err, stdout) => {\n            if (err) {\n              return e(\"svn not found\");\n            }\n\n            return c({ path, version: stdout.trim() });\n          });\n        }\n\n        if (path !== \"/usr/bin/svn\") {\n          return getVersion(path);\n        }\n\n        // must check if XCode is installed\n        cp.exec(\"xcode-select -p\", (err: any) => {\n          if (err && err.code === 2) {\n            // svn is not installed, and launching /usr/bin/svn\n            // will prompt the user to install it\n\n            return e(\"svn not found\");\n          }\n\n          getVersion(path);\n        });\n      });\n    });\n  }\n\n  public findSpecificSvn(path: string): Promise<ISvn> {\n    return new Promise<ISvn>((c, e) => {\n      const buffers: Buffer[] = [];\n      const child = cp.spawn(path, [\"--version\", \"--quiet\"]);\n      (child.stdout as Readable).on(\"data\", (b: Buffer) => buffers.push(b));\n      child.on(\"error\", cpErrorHandler(e));\n      child.on(\"close\", code =>\n        code\n          ? e(new Error(\"Not found\"))\n          : c({\n              path,\n              version: Buffer.concat(buffers).toString(\"utf8\").trim()\n            })\n      );\n    });\n  }\n\n  public checkSvnVersion(svn: ISvn): Promise<ISvn> {\n    return new Promise<ISvn>((c, e) => {\n      // fix compatibility with SlickSVN (like 1.6.17-SlikSvn-tag-1.6.17@1130898-X64)\n      const version = svn.version.replace(/^(\\d+\\.\\d+\\.\\d+).*/, \"$1\");\n      if (!semver.valid(version)) {\n        e(new Error(\"Invalid svn version\"));\n      } else if (!semver.gte(version, \"1.6.0\")) {\n        e(new Error(\"Required svn version must be >= 1.6\"));\n      } else {\n        c(svn);\n      }\n    });\n  }\n}\n","import { posix as path } from \"path\";\nimport { Uri } from \"vscode\";\nimport { memoize } from \"./decorators\";\n\nexport function pathOrRoot(uri: Uri): string {\n  return uri.path || \"/\";\n}\n\nexport class SvnRI {\n  constructor(\n    private readonly remoteRoot: Uri,\n    private readonly branchRoot: Uri,\n    private readonly checkoutRoot: Uri | undefined,\n    /** path relative from remoteRoot */\n    private readonly _path: string,\n    private readonly _revision?: string\n  ) {\n    if (_path.length === 0 || _path.charAt(0) === \"/\") {\n      throw new Error(\"Invalid _path \" + _path);\n    }\n  }\n\n  @memoize\n  get remoteFullPath(): Uri {\n    return Uri.parse(this.remoteRoot.toString() + \"/\" + this._path);\n  }\n\n  @memoize\n  get localFullPath(): Uri | undefined {\n    if (this.checkoutRoot === undefined) {\n      return undefined;\n    }\n    return Uri.file(\n      path.join(\n        this.checkoutRoot.path,\n        path.relative(this.fromRepoToBranch, this._path)\n      )\n    );\n  }\n\n  @memoize\n  get relativeFromBranch(): string {\n    return path.relative(this.fromRepoToBranch, this._path);\n  }\n\n  @memoize\n  get fromRepoToBranch(): string {\n    return path.relative(\n      pathOrRoot(this.remoteRoot),\n      pathOrRoot(this.branchRoot)\n    );\n  }\n\n  @memoize\n  get revision(): string | undefined {\n    return this._revision;\n  }\n\n  @memoize\n  public toString(withRevision?: boolean): string {\n    return this.remoteFullPath + (withRevision ? this._revision || \"\" : \"\");\n  }\n}\n","import * as path from \"path\";\nimport * as tmp from \"tmp\";\nimport { Uri, workspace } from \"vscode\";\nimport {\n  ConstructorPolicy,\n  ICpOptions,\n  IExecutionResult,\n  IFileStatus,\n  ISvnInfo,\n  ISvnLogEntry,\n  Status,\n  SvnDepth,\n  ISvnPathChange,\n  ISvnPath,\n  ISvnListItem\n} from \"./common/types\";\nimport { sequentialize } from \"./decorators\";\nimport * as encodeUtil from \"./encoding\";\nimport { exists, writeFile, stat, readdir } from \"./fs\";\nimport { getBranchName } from \"./helpers/branch\";\nimport { configuration } from \"./helpers/configuration\";\nimport { parseInfoXml } from \"./parser/infoParser\";\nimport { parseSvnList } from \"./parser/listParser\";\nimport { parseSvnLog } from \"./parser/logParser\";\nimport { parseStatusXml } from \"./parser/statusParser\";\nimport { Svn, BufferResult } from \"./svn\";\nimport {\n  fixPathSeparator,\n  fixPegRevision,\n  isDescendant,\n  normalizePath,\n  unwrap\n} from \"./util\";\nimport { matchAll } from \"./util/globMatch\";\nimport { parseDiffXml } from \"./parser/diffParser\";\n\nexport class Repository {\n  private _infoCache: {\n    [index: string]: ISvnInfo;\n  } = {};\n  private _info?: ISvnInfo;\n\n  public username?: string;\n  public password?: string;\n\n  constructor(\n    private svn: Svn,\n    public root: string,\n    public workspaceRoot: string,\n    policy: ConstructorPolicy\n  ) {\n    if (policy === ConstructorPolicy.LateInit) {\n      return ((async (): Promise<Repository> => {\n        return this;\n      })() as unknown) as Repository;\n    }\n    return ((async (): Promise<Repository> => {\n      await this.updateInfo();\n      return this;\n    })() as unknown) as Repository;\n  }\n\n  public async updateInfo() {\n    const result = await this.exec([\n      \"info\",\n      \"--xml\",\n      fixPegRevision(this.workspaceRoot ? this.workspaceRoot : this.root)\n    ]);\n\n    this._info = await parseInfoXml(result.stdout);\n  }\n\n  public async exec(\n    args: string[],\n    options: ICpOptions = {}\n  ): Promise<IExecutionResult> {\n    options.username = this.username;\n    options.password = this.password;\n\n    return this.svn.exec(this.workspaceRoot, args, options);\n  }\n\n  public async execBuffer(\n    args: string[],\n    options: ICpOptions = {}\n  ): Promise<BufferResult> {\n    options.username = this.username;\n    options.password = this.password;\n\n    return this.svn.execBuffer(this.workspaceRoot, args, options);\n  }\n\n  public removeAbsolutePath(file: string) {\n    file = fixPathSeparator(file);\n\n    file = path.relative(this.workspaceRoot, file);\n\n    if (file === \"\") {\n      file = \".\";\n    }\n\n    return fixPegRevision(file);\n  }\n\n  public async getStatus(params: {\n    includeIgnored?: boolean;\n    includeExternals?: boolean;\n    checkRemoteChanges?: boolean;\n  }): Promise<IFileStatus[]> {\n    params = Object.assign(\n      {},\n      {\n        includeIgnored: false,\n        includeExternals: true,\n        checkRemoteChanges: false\n      },\n      params\n    );\n\n    const args = [\"stat\", \"--xml\"];\n\n    if (params.includeIgnored) {\n      args.push(\"--no-ignore\");\n    }\n    if (!params.includeExternals) {\n      args.push(\"--ignore-externals\");\n    }\n    if (params.checkRemoteChanges) {\n      args.push(\"--show-updates\");\n    }\n\n    const result = await this.exec(args);\n\n    const status: IFileStatus[] = await parseStatusXml(result.stdout);\n\n    for (const s of status) {\n      if (s.status === Status.EXTERNAL) {\n        try {\n          const info = await this.getInfo(s.path);\n          s.repositoryUuid = info.repository.uuid;\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    }\n\n    return status;\n  }\n\n  public get info(): ISvnInfo {\n    return unwrap(this._info);\n  }\n\n  public resetInfoCache(file: string = \"\") {\n    delete this._infoCache[file];\n  }\n\n  @sequentialize\n  public async getInfo(\n    file: string = \"\",\n    revision?: string,\n    skipCache: boolean = false,\n    isUrl: boolean = false\n  ): Promise<ISvnInfo> {\n    if (!skipCache && this._infoCache[file]) {\n      return this._infoCache[file];\n    }\n\n    const args = [\"info\", \"--xml\"];\n\n    if (revision) {\n      args.push(\"-r\", revision);\n    }\n\n    if (file) {\n      if (!isUrl) {\n        file = fixPathSeparator(file);\n      }\n      args.push(file);\n    }\n\n    const result = await this.exec(args);\n\n    this._infoCache[file] = await parseInfoXml(result.stdout);\n\n    // Cache for 2 minutes\n    setTimeout(() => {\n      this.resetInfoCache(file);\n    }, 2 * 60 * 1000);\n\n    return this._infoCache[file];\n  }\n\n  public async getChanges(): Promise<ISvnPathChange[]> {\n    // First, check to see if this branch was copied from somewhere.\n    let args = [\n      \"log\",\n      \"-r1:HEAD\",\n      \"--stop-on-copy\",\n      \"--xml\",\n      \"--with-all-revprops\",\n      \"--verbose\"\n    ];\n    let result = await this.exec(args);\n    const entries = await parseSvnLog(result.stdout);\n\n    if (entries.length === 0 || entries[0].paths.length === 0) {\n      return [];\n    }\n\n    const copyCommitPath = entries[0].paths[0];\n\n    if (\n      typeof copyCommitPath.copyfromRev === \"undefined\" ||\n      typeof copyCommitPath.copyfromPath === \"undefined\" ||\n      typeof copyCommitPath._ === \"undefined\" ||\n      copyCommitPath.copyfromRev.trim().length === 0 ||\n      copyCommitPath.copyfromPath.trim().length === 0 ||\n      copyCommitPath._.trim().length === 0\n    ) {\n      return [];\n    }\n\n    const copyFromPath = copyCommitPath.copyfromPath;\n    const copyFromRev = copyCommitPath.copyfromRev;\n    const copyToPath = copyCommitPath._;\n    const copyFromUrl = this.info.repository.root + copyFromPath;\n    const copyToUrl = this.info.repository.root + copyToPath;\n\n    // Get last merge revision from path that this branch was copied from.\n    args = [\"mergeinfo\", \"--show-revs=merged\", copyFromUrl, copyToUrl];\n    result = await this.exec(args);\n    const revisions = result.stdout.trim().split(\"\\n\");\n    let latestMergedRevision: string = \"\";\n\n    if (revisions.length) {\n      latestMergedRevision = revisions[revisions.length - 1];\n    }\n\n    if (latestMergedRevision.trim().length === 0) {\n      latestMergedRevision = copyFromRev;\n    }\n\n    // Now, diff the source branch at the latest merged revision with the current branch's revision\n    const info = await this.getInfo(copyToUrl, undefined, true, true);\n    args = [\n      \"diff\",\n      `${copyFromUrl}@${latestMergedRevision}`,\n      copyToUrl,\n      \"--ignore-properties\",\n      \"--xml\",\n      \"--summarize\"\n    ];\n    result = await this.exec(args);\n    let paths: ISvnPath[];\n    try {\n      paths = await parseDiffXml(result.stdout);\n    } catch (err) {\n      return [];\n    }\n\n    const changes: ISvnPathChange[] = [];\n\n    // Now, we have all the files that this branch changed.\n    for (const path of paths) {\n      changes.push({\n        oldPath: Uri.parse(path._),\n        newPath: Uri.parse(path._.replace(copyFromUrl, copyToUrl)),\n        oldRevision: latestMergedRevision.replace(\"r\", \"\"),\n        newRevision: info.revision,\n        item: path.item,\n        props: path.props,\n        kind: path.kind,\n        repo: Uri.parse(this.info.repository.root),\n        localPath: Uri.parse(path._.replace(copyFromUrl, \"\"))\n      });\n    }\n\n    return changes;\n  }\n\n  public async show(file: string | Uri, revision?: string): Promise<string> {\n    const args = [\"cat\"];\n\n    let uri: Uri;\n    let filePath: string;\n\n    if (file instanceof Uri) {\n      uri = file;\n      filePath = file.toString(true);\n    } else {\n      uri = Uri.file(file);\n      filePath = file;\n    }\n\n    const isChild =\n      uri.scheme === \"file\" && isDescendant(this.workspaceRoot, uri.fsPath);\n\n    let target: string = filePath;\n\n    if (isChild) {\n      target = this.removeAbsolutePath(target);\n    }\n\n    if (revision) {\n      args.push(\"-r\", revision);\n      if (\n        isChild &&\n        ![\"BASE\", \"COMMITTED\", \"PREV\"].includes(revision.toUpperCase())\n      ) {\n        const info = await this.getInfo();\n        target = info.url + \"/\" + target.replace(/\\\\/g, \"/\");\n        // TODO move to SvnRI\n      }\n    }\n\n    args.push(target);\n\n    /**\n     * ENCODE DETECTION\n     * if TextDocuments exists and autoGuessEncoding is true,\n     * try detect current encoding of content\n     */\n    const configs = workspace.getConfiguration(\"files\", uri);\n\n    let encoding: string | undefined | null = configs.get(\"encoding\");\n    let autoGuessEncoding: boolean = configs.get<boolean>(\n      \"autoGuessEncoding\",\n      false\n    );\n\n    const textDocument = workspace.textDocuments.find(\n      doc => normalizePath(doc.uri.fsPath) === normalizePath(filePath)\n    );\n\n    if (textDocument) {\n      // Load encoding by languageId\n      const languageConfigs = workspace.getConfiguration(\n        `[${textDocument.languageId}]`,\n        uri\n      );\n      if (languageConfigs[\"files.encoding\"] !== undefined) {\n        encoding = languageConfigs[\"files.encoding\"];\n      }\n      if (languageConfigs[\"files.autoGuessEncoding\"] !== undefined) {\n        autoGuessEncoding = languageConfigs[\"files.autoGuessEncoding\"];\n      }\n\n      if (autoGuessEncoding) {\n        // The `getText` return a `utf-8` string\n        const buffer = Buffer.from(textDocument.getText(), \"utf-8\");\n        const detectedEncoding = encodeUtil.detectEncoding(buffer);\n        if (detectedEncoding) {\n          encoding = detectedEncoding;\n        }\n      }\n    } else {\n      const svnEncoding: string | undefined = configuration.get<string>(\n        \"default.encoding\"\n      );\n      if (svnEncoding) {\n        encoding = svnEncoding;\n      }\n    }\n\n    const experimental = configuration.get<boolean>(\n      \"experimental.detect_encoding\",\n      false\n    );\n    if (experimental) {\n      encoding = null;\n    }\n\n    const result = await this.exec(args, { encoding });\n\n    return result.stdout;\n  }\n\n  public async showBuffer(\n    file: string | Uri,\n    revision?: string\n  ): Promise<Buffer> {\n    const args = [\"cat\"];\n\n    let uri: Uri;\n    let filePath: string;\n\n    if (file instanceof Uri) {\n      uri = file;\n      filePath = file.toString(true);\n    } else {\n      uri = Uri.file(file);\n      filePath = file;\n    }\n\n    const isChild =\n      uri.scheme === \"file\" && isDescendant(this.workspaceRoot, uri.fsPath);\n\n    let target: string = filePath;\n\n    if (isChild) {\n      target = this.removeAbsolutePath(target);\n    }\n\n    if (revision) {\n      args.push(\"-r\", revision);\n      if (\n        isChild &&\n        ![\"BASE\", \"COMMITTED\", \"PREV\"].includes(revision.toUpperCase())\n      ) {\n        const info = await this.getInfo();\n        target = info.url + \"/\" + target.replace(/\\\\/g, \"/\");\n        // TODO move to SvnRI\n      }\n    }\n\n    args.push(target);\n\n    const result = await this.execBuffer(args);\n\n    return result.stdout;\n  }\n\n  public async commitFiles(message: string, files: string[]) {\n    files = files.map(file => this.removeAbsolutePath(file));\n\n    const args = [\"commit\", ...files];\n\n    if (await exists(path.join(this.workspaceRoot, message))) {\n      args.push(\"--force-log\");\n    }\n\n    let tmpFile: tmp.FileResult | undefined;\n\n    /**\n     * For message with line break or non:\n     * \\x00-\\x7F -> ASCII\n     * \\x80-\\xFF -> Latin\n     * Use a file for commit message\n     */\n    if (/\\n|[^\\x00-\\x7F\\x80-\\xFF]/.test(message)) {\n      tmp.setGracefulCleanup();\n\n      tmpFile = tmp.fileSync({\n        prefix: \"svn-commit-message-\"\n      });\n\n      await writeFile(tmpFile.name, message, \"UTF-8\");\n\n      args.push(\"-F\", tmpFile.name);\n      args.push(\"--encoding\", \"UTF-8\");\n    } else {\n      args.push(\"-m\", message);\n    }\n\n    // Prevents commit the files inside the folder\n    args.push(\"--depth\", \"empty\");\n\n    const result = await this.exec(args);\n\n    // Remove temporary file if exists\n    if (tmpFile) {\n      tmpFile.removeCallback();\n    }\n\n    const matches = result.stdout.match(/Committed revision (.*)\\./i);\n    if (matches && matches[0]) {\n      const sendedFiles = (\n        result.stdout.match(/(Sending|Adding|Deleting)\\s+/g) || []\n      ).length;\n\n      const filesMessage = `${sendedFiles} ${\n        sendedFiles === 1 ? \"file\" : \"files\"\n      } commited`;\n\n      return `${filesMessage}: revision ${matches[1]}.`;\n    }\n\n    return result.stdout;\n  }\n\n  public async addFilesByIgnore(files: string[], ignoreList: string[]) {\n    const allFiles = async (file: string): Promise<string[]> => {\n      if ((await stat(file)).isDirectory()) {\n        return (\n          await Promise.all(\n            (await readdir(file)).map(subfile => {\n              const abspath = path.resolve(file + path.sep + subfile);\n              const relpath = this.removeAbsolutePath(abspath);\n              if (\n                !matchAll(path.sep + relpath, ignoreList, {\n                  dot: true,\n                  matchBase: true\n                })\n              ) {\n                return allFiles(abspath);\n              }\n              return [];\n            })\n          )\n        ).reduce((acc, cur) => acc.concat(cur), [file]);\n      }\n      return [file];\n    };\n    files = (await Promise.all(files.map(file => allFiles(file)))).flat();\n    files = files.map(file => this.removeAbsolutePath(file));\n    return this.exec([\"add\", \"--depth=empty\", ...files]);\n  }\n\n  public addFiles(files: string[]) {\n    const ignoreList = configuration.get<string[]>(\"sourceControl.ignore\");\n    if (ignoreList.length > 0) {\n      return this.addFilesByIgnore(files, ignoreList);\n    }\n    files = files.map(file => this.removeAbsolutePath(file));\n    return this.exec([\"add\", ...files]);\n  }\n\n  public addChangelist(files: string[], changelist: string) {\n    files = files.map(file => this.removeAbsolutePath(file));\n    return this.exec([\"changelist\", changelist, ...files]);\n  }\n\n  public removeChangelist(files: string[]) {\n    files = files.map(file => this.removeAbsolutePath(file));\n    return this.exec([\"changelist\", \"--remove\", ...files]);\n  }\n\n  public async getCurrentBranch(): Promise<string> {\n    const info = await this.getInfo();\n\n    const branch = getBranchName(info.url);\n\n    if (branch) {\n      const showFullName = configuration.get<boolean>(\"layout.showFullName\");\n      if (showFullName) {\n        return branch.path;\n      } else {\n        return branch.name;\n      }\n    }\n\n    return \"\";\n  }\n\n  public async getRepositoryUuid(): Promise<string> {\n    const info = await this.getInfo();\n\n    return info.repository.uuid;\n  }\n\n  public async getRepoUrl() {\n    const info = await this.getInfo();\n\n    const branch = getBranchName(info.url);\n\n    if (!branch) {\n      return info.repository.root;\n    }\n\n    const regex = new RegExp(branch.path + \"$\");\n\n    return info.url.replace(regex, \"\").replace(/\\/$/, \"\");\n  }\n\n  public async getBranches() {\n    const trunkLayout = configuration.get<string>(\"layout.trunk\");\n    const branchesLayout = configuration.get<string>(\"layout.branches\");\n    const tagsLayout = configuration.get<string>(\"layout.tags\");\n\n    const repoUrl = await this.getRepoUrl();\n\n    const branches: string[] = [];\n\n    const promises = [];\n\n    if (trunkLayout) {\n      promises.push(\n        new Promise<string[]>(async resolve => {\n          try {\n            await this.exec([\n              \"ls\",\n              repoUrl + \"/\" + trunkLayout,\n              \"--depth\",\n              \"empty\"\n            ]);\n\n            resolve([trunkLayout]);\n          } catch (error) {\n            resolve([]);\n          }\n        })\n      );\n    }\n\n    const trees: string[] = [];\n\n    if (branchesLayout) {\n      trees.push(branchesLayout);\n    }\n\n    if (tagsLayout) {\n      trees.push(tagsLayout);\n    }\n\n    for (const tree of trees) {\n      promises.push(\n        new Promise<string[]>(async resolve => {\n          const branchUrl = repoUrl + \"/\" + tree;\n\n          try {\n            const result = await this.exec([\"ls\", branchUrl]);\n\n            const list = result.stdout\n              .trim()\n              .replace(/\\/|\\\\/g, \"\")\n              .split(/[\\r\\n]+/)\n              .filter((x: string) => !!x)\n              .map((i: string) => tree + \"/\" + i);\n\n            resolve(list);\n          } catch (error) {\n            resolve([]);\n          }\n        })\n      );\n    }\n\n    const all = await Promise.all<any>(promises);\n    all.forEach(list => {\n      branches.push(...list);\n    });\n\n    return branches;\n  }\n\n  public async newBranch(\n    name: string,\n    commitMessage: string = \"Created new branch\"\n  ) {\n    const repoUrl = await this.getRepoUrl();\n    const newBranch = repoUrl + \"/\" + name;\n    const info = await this.getInfo();\n    const currentBranch = info.url;\n\n    await this.exec([\"copy\", currentBranch, newBranch, \"-m\", commitMessage]);\n\n    await this.switchBranch(name);\n\n    return true;\n  }\n\n  public async switchBranch(ref: string, force: boolean = false) {\n    const repoUrl = await this.getRepoUrl();\n    const branchUrl = repoUrl + \"/\" + ref;\n\n    await this.exec(\n      [\"switch\", branchUrl].concat(force ? [\"--ignore-ancestry\"] : [])\n    );\n\n    this.resetInfoCache();\n    return true;\n  }\n\n  public async revert(files: string[], depth: keyof typeof SvnDepth) {\n    files = files.map(file => this.removeAbsolutePath(file));\n    const result = await this.exec([\"revert\", \"--depth\", depth, ...files]);\n    return result.stdout;\n  }\n\n  public async update(ignoreExternals: boolean = true): Promise<string> {\n    const args = [\"update\"];\n\n    if (ignoreExternals) {\n      args.push(\"--ignore-externals\");\n    }\n\n    const result = await this.exec(args);\n\n    this.resetInfoCache();\n\n    const message = result.stdout.trim().split(/\\r?\\n/).pop();\n\n    if (message) {\n      return message;\n    }\n    return result.stdout;\n  }\n\n  public async pullIncomingChange(path: string): Promise<string> {\n    const args = [\"update\", path];\n\n    const result = await this.exec(args);\n\n    this.resetInfoCache();\n\n    const message = result.stdout.trim().split(/\\r?\\n/).pop();\n\n    if (message) {\n      return message;\n    }\n    return result.stdout;\n  }\n\n  public async patch(files: string[]) {\n    files = files.map(file => this.removeAbsolutePath(file));\n    const result = await this.exec([\"diff\", \"--internal-diff\", ...files]);\n    const message = result.stdout;\n    return message;\n  }\n\n  public async patchBuffer(files: string[]) {\n    files = files.map(file => this.removeAbsolutePath(file));\n    const result = await this.execBuffer([\"diff\", \"--internal-diff\", ...files]);\n    const message = result.stdout;\n    return message;\n  }\n\n  public async patchChangelist(changelistName: string) {\n    const result = await this.exec([\n      \"diff\",\n      \"--internal-diff\",\n      \"--changelist\",\n      changelistName\n    ]);\n    const message = result.stdout;\n    return message;\n  }\n\n  public async removeFiles(files: string[], keepLocal: boolean) {\n    files = files.map(file => this.removeAbsolutePath(file));\n    const args = [\"remove\"];\n\n    if (keepLocal) {\n      args.push(\"--keep-local\");\n    }\n\n    args.push(...files);\n\n    const result = await this.exec(args);\n\n    return result.stdout;\n  }\n\n  public async resolve(files: string[], action: string) {\n    files = files.map(file => this.removeAbsolutePath(file));\n\n    const result = await this.exec([\"resolve\", \"--accept\", action, ...files]);\n\n    return result.stdout;\n  }\n\n  public async plainLog(): Promise<string> {\n    const logLength = configuration.get<string>(\"log.length\") || \"50\";\n    const result = await this.exec([\n      \"log\",\n      \"-r\",\n      \"HEAD:1\",\n      \"--limit\",\n      logLength\n    ]);\n\n    return result.stdout;\n  }\n\n  public async plainLogBuffer(): Promise<Buffer> {\n    const logLength = configuration.get<string>(\"log.length\") || \"50\";\n    const result = await this.execBuffer([\n      \"log\",\n      \"-r\",\n      \"HEAD:1\",\n      \"--limit\",\n      logLength\n    ]);\n\n    return result.stdout;\n  }\n\n  public async plainLogByRevision(revision: number) {\n    const result = await this.exec([\"log\", \"-r\", revision.toString()]);\n\n    return result.stdout;\n  }\n\n  public async plainLogByRevisionBuffer(revision: number) {\n    const result = await this.execBuffer([\"log\", \"-r\", revision.toString()]);\n\n    return result.stdout;\n  }\n\n  public async plainLogByText(search: string) {\n    const result = await this.exec([\"log\", \"--search\", search]);\n\n    return result.stdout;\n  }\n\n  public async plainLogByTextBuffer(search: string) {\n    const result = await this.execBuffer([\"log\", \"--search\", search]);\n\n    return result.stdout;\n  }\n\n  public async log(\n    rfrom: string,\n    rto: string,\n    limit: number,\n    target?: string | Uri\n  ): Promise<ISvnLogEntry[]> {\n    const args = [\n      \"log\",\n      \"-r\",\n      `${rfrom}:${rto}`,\n      `--limit=${limit}`,\n      \"--xml\",\n      \"-v\"\n    ];\n    if (target !== undefined) {\n      args.push(\n        fixPegRevision(target instanceof Uri ? target.toString(true) : target)\n      );\n    }\n    const result = await this.exec(args);\n\n    return parseSvnLog(result.stdout);\n  }\n\n  public async logByUser(user: string) {\n    const result = await this.exec([\"log\", \"--xml\", \"-v\", \"--search\", user]);\n\n    return parseSvnLog(result.stdout);\n  }\n\n  public async countNewCommit(revision: string = \"BASE:HEAD\") {\n    const result = await this.exec([\"log\", \"-r\", revision, \"-q\", \"--xml\"]);\n\n    const matches = result.stdout.match(/<logentry/g);\n\n    if (matches && matches.length > 0) {\n      // Every return current commit\n      return matches.length - 1;\n    }\n\n    return 0;\n  }\n\n  public async cleanup() {\n    const result = await this.exec([\"cleanup\"]);\n\n    return result.stdout;\n  }\n\n  public async removeUnversioned() {\n    const result = await this.exec([\"cleanup\", \"--remove-unversioned\"]);\n\n    this.svn.logOutput(result.stdout);\n\n    return result.stdout;\n  }\n\n  public async finishCheckout() {\n    const info = await this.getInfo();\n\n    const result = await this.exec([\"switch\", info.url]);\n\n    return result.stdout;\n  }\n\n  public async list(folder?: string) {\n    let url = await this.getRepoUrl();\n\n    if (folder) {\n      url += \"/\" + folder;\n    }\n\n    const result = await this.exec([\"list\", url, \"--xml\"]);\n\n    return parseSvnList(result.stdout);\n  }\n\n  public async ls(file: string): Promise<ISvnListItem[]> {\n    const result = await this.exec([\"list\", file, \"--xml\"]);\n\n    return parseSvnList(result.stdout);\n  }\n\n  public async getCurrentIgnore(directory: string) {\n    directory = this.removeAbsolutePath(directory);\n\n    let currentIgnore = \"\";\n\n    try {\n      const args = [\"propget\", \"svn:ignore\"];\n\n      if (directory) {\n        args.push(directory);\n      }\n\n      const currentIgnoreResult = await this.exec(args);\n\n      currentIgnore = currentIgnoreResult.stdout.trim();\n    } catch (error) {\n      console.error(error);\n    }\n\n    const ignores = currentIgnore.split(/[\\r\\n]+/);\n\n    return ignores;\n  }\n\n  public async addToIgnore(\n    expressions: string[],\n    directory: string,\n    recursive: boolean = false\n  ) {\n    const ignores = await this.getCurrentIgnore(directory);\n\n    directory = this.removeAbsolutePath(directory);\n\n    ignores.push(...expressions);\n    const newIgnore = [...new Set(ignores)]\n      .filter(v => !!v)\n      .sort()\n      .join(\"\\n\");\n\n    const args = [\"propset\", \"svn:ignore\", newIgnore];\n\n    if (directory) {\n      args.push(directory);\n    } else {\n      args.push(\".\");\n    }\n    if (recursive) {\n      args.push(\"--recursive\");\n    }\n\n    const result = await this.exec(args);\n\n    return result.stdout;\n  }\n\n  public async rename(oldName: string, newName: string): Promise<string> {\n    oldName = this.removeAbsolutePath(oldName);\n    newName = this.removeAbsolutePath(newName);\n    const args = [\"rename\", oldName, newName];\n\n    const result = await this.exec(args);\n\n    return result.stdout;\n  }\n}\n","import {\n  FileSystemProvider,\n  Event,\n  FileChangeEvent,\n  EventEmitter,\n  Uri,\n  Disposable,\n  FileStat,\n  FileType,\n  FileSystemError,\n  FileChangeType,\n  workspace\n} from \"vscode\";\nimport * as path from \"path\";\nimport * as crypto from \"crypto\";\nimport { configuration } from \"./helpers/configuration\";\nimport { iconv } from \"./vscodeModules\";\n\nexport class File implements FileStat {\n  type: FileType;\n  ctime: number;\n  mtime: number;\n  size: number;\n  name: string;\n  data?: Uint8Array;\n\n  constructor(name: string) {\n    this.type = FileType.File;\n    this.ctime = Date.now();\n    this.mtime = Date.now();\n    this.size = 0;\n    this.name = name;\n  }\n}\n\nexport class Directory implements FileStat {\n  type: FileType;\n  ctime: number;\n  mtime: number;\n  size: number;\n\n  name: string;\n  entries: Map<string, File | Directory>;\n\n  constructor(name: string) {\n    this.type = FileType.Directory;\n    this.ctime = Date.now();\n    this.mtime = Date.now();\n    this.size = 0;\n    this.name = name;\n    this.entries = new Map();\n  }\n}\n\nexport type Entry = File | Directory;\n\nclass TempSvnFs implements FileSystemProvider, Disposable {\n  private _emitter = new EventEmitter<FileChangeEvent[]>();\n  private _bufferedEvents: FileChangeEvent[] = [];\n  private _fireSoonHandler?: NodeJS.Timer;\n  private _root = new Directory(\"\");\n  private _disposables: Disposable[] = [];\n\n  readonly onDidChangeFile: Event<FileChangeEvent[]> = this._emitter.event;\n\n  constructor() {\n    this._disposables.push(\n      workspace.registerFileSystemProvider(\"tempsvnfs\", this, {\n        isCaseSensitive: true\n      }),\n      workspace.onDidCloseTextDocument(event => {\n        if (event.uri.scheme === \"tempsvnfs\") {\n          this.delete(event.uri);\n        }\n      })\n    );\n  }\n\n  watch(_resource: Uri): Disposable {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    return new Disposable(() => {});\n  }\n\n  stat(uri: Uri): FileStat {\n    return this._lookup(uri, false);\n  }\n\n  readDirectory(uri: Uri): [string, FileType][] {\n    const entry = this._lookupAsDirectory(uri, false);\n    const result: [string, FileType][] = [];\n    for (const [name, child] of entry.entries) {\n      result.push([name, child.type]);\n    }\n\n    return result;\n  }\n\n  createDirectory(uri: Uri): void {\n    const basename = path.posix.basename(uri.path);\n    const dirname = uri.with({ path: path.posix.dirname(uri.path) });\n    const parent = this._lookupAsDirectory(dirname, false);\n\n    const entry = new Directory(basename);\n    parent.entries.set(entry.name, entry);\n    parent.mtime = Date.now();\n    parent.size += 1;\n\n    this._fireSoon(\n      { type: FileChangeType.Changed, uri: dirname },\n      { type: FileChangeType.Created, uri }\n    );\n  }\n\n  readFile(uri: Uri): Uint8Array {\n    const data = this._lookupAsFile(uri, false).data;\n    if (data) {\n      return data;\n    }\n\n    throw FileSystemError.FileNotFound();\n  }\n\n  writeFile(\n    uri: Uri,\n    content: Uint8Array,\n    options: { create: boolean; overwrite: boolean }\n  ): void {\n    const basename = path.posix.basename(uri.path);\n    const parent = this._lookupParentDirectory(uri);\n    let entry = parent.entries.get(basename);\n    if (entry instanceof Directory) {\n      throw FileSystemError.FileIsADirectory(uri);\n    }\n\n    if (!entry && !options.create) {\n      throw FileSystemError.FileNotFound(uri);\n    }\n\n    if (entry && options.create && !options.overwrite) {\n      throw FileSystemError.FileExists(uri);\n    }\n\n    if (!entry) {\n      entry = new File(basename);\n      parent.entries.set(basename, entry);\n      this._fireSoon({ type: FileChangeType.Created, uri });\n    }\n\n    entry.mtime = Date.now();\n    entry.size = content.byteLength;\n    entry.data = content;\n\n    this._fireSoon({ type: FileChangeType.Changed, uri });\n  }\n\n  delete(uri: Uri): void {\n    const dirname = uri.with({ path: path.posix.dirname(uri.path) });\n    const basename = path.posix.basename(uri.path);\n    const parent = this._lookupAsDirectory(dirname, false);\n    if (!parent.entries.has(basename)) {\n      throw FileSystemError.FileNotFound(uri);\n    }\n    parent.entries.delete(basename);\n    parent.mtime = Date.now();\n    parent.size -= 1;\n\n    this._fireSoon(\n      { type: FileChangeType.Changed, uri: dirname },\n      { type: FileChangeType.Deleted, uri }\n    );\n  }\n\n  rename(oldUri: Uri, newUri: Uri, options: { overwrite: boolean }): void {\n    if (!options.overwrite && this._lookup(newUri, true)) {\n      throw FileSystemError.FileExists(newUri);\n    }\n\n    const entry = this._lookup(oldUri, false);\n    const oldParent = this._lookupParentDirectory(oldUri);\n\n    const newParent = this._lookupParentDirectory(newUri);\n    const newName = path.posix.basename(newUri.path);\n\n    oldParent.entries.delete(entry.name);\n    entry.name = newName;\n    newParent.entries.set(newName, entry);\n\n    this._fireSoon(\n      { type: FileChangeType.Deleted, uri: oldUri },\n      { type: FileChangeType.Created, uri: newUri }\n    );\n  }\n\n  async createTempSvnRevisionFile(\n    svnUri: Uri,\n    revision: string,\n    content: string\n  ) {\n    const fname = `r${revision}_${path.basename(svnUri.fsPath)}`;\n    const hash = crypto.createHash(\"md5\");\n    const filePathHash = hash.update(svnUri.path).digest(\"hex\");\n    const encoding = configuration.get<string>(\"default.encoding\");\n    let contentBuffer: Buffer;\n\n    if (encoding) {\n      contentBuffer = Buffer.from(iconv.encode(content, encoding));\n    } else {\n      contentBuffer = Buffer.from(content);\n    }\n\n    if (!this._root.entries.has(filePathHash)) {\n      this.createDirectory(Uri.parse(`tempsvnfs:/${filePathHash}`));\n    }\n\n    const uri = Uri.parse(`tempsvnfs:/${filePathHash}/${fname}`, true);\n\n    this.writeFile(uri, contentBuffer, {\n      create: true,\n      overwrite: true\n    });\n\n    return uri;\n  }\n\n  dispose(): void {\n    this._disposables.forEach(disposable => disposable.dispose());\n    this._disposables = [];\n\n    for (const [name] of this.readDirectory(Uri.parse(\"tempsvnfs:/\"))) {\n      this.delete(Uri.parse(`tempsvnfs:/${name}`));\n    }\n  }\n\n  private _lookup(uri: Uri, silent: false): Entry;\n  private _lookup(uri: Uri, silent: boolean): Entry | undefined;\n  private _lookup(uri: Uri, silent: boolean): Entry | undefined {\n    const parts = uri.path.split(\"/\");\n    let entry: Entry = this._root;\n\n    for (const part of parts) {\n      if (!part) {\n        continue;\n      }\n\n      let child: Entry | undefined;\n      if (entry instanceof Directory) {\n        child = entry.entries.get(part);\n      }\n\n      if (!child) {\n        if (!silent) {\n          throw FileSystemError.FileNotFound(uri);\n        } else {\n          return undefined;\n        }\n      }\n\n      entry = child;\n    }\n\n    return entry;\n  }\n\n  private _lookupAsDirectory(uri: Uri, silent: boolean): Directory {\n    const entry = this._lookup(uri, silent);\n    if (entry instanceof Directory) {\n      return entry;\n    }\n\n    throw FileSystemError.FileNotADirectory(uri);\n  }\n\n  private _lookupAsFile(uri: Uri, silent: boolean): File {\n    const entry = this._lookup(uri, silent);\n    if (entry instanceof File) {\n      return entry;\n    }\n\n    throw FileSystemError.FileIsADirectory(uri);\n  }\n\n  private _lookupParentDirectory(uri: Uri): Directory {\n    const dirname = uri.with({ path: path.posix.dirname(uri.path) });\n    return this._lookupAsDirectory(dirname, false);\n  }\n\n  private _fireSoon(...events: FileChangeEvent[]): void {\n    this._bufferedEvents.push(...events);\n\n    if (this._fireSoonHandler) {\n      clearTimeout(this._fireSoonHandler);\n    }\n\n    this._fireSoonHandler = setTimeout(() => {\n      this._emitter.fire(this._bufferedEvents);\n      this._bufferedEvents.length = 0;\n    }, 1);\n  }\n}\n\nexport const tempSvnFs = new TempSvnFs();\n","import {\n  commands,\n  Event,\n  EventEmitter,\n  TreeDataProvider,\n  TreeItem,\n  Disposable,\n  window\n} from \"vscode\";\nimport { SourceControlManager } from \"../../source_control_manager\";\nimport BaseNode from \"../nodes/baseNode\";\nimport RepositoryNode from \"../nodes/repositoryNode\";\nimport { dispose } from \"../../util\";\n\nexport default class SvnProvider\n  implements TreeDataProvider<BaseNode>, Disposable {\n  private _onDidChangeTreeData: EventEmitter<\n    BaseNode | undefined\n  > = new EventEmitter<BaseNode | undefined>();\n  private _dispose: Disposable[] = [];\n  public onDidChangeTreeData: Event<BaseNode | undefined> = this\n    ._onDidChangeTreeData.event;\n\n  constructor(private sourceControlManager: SourceControlManager) {\n    this._dispose.push(\n      window.registerTreeDataProvider(\"svn\", this),\n      commands.registerCommand(\"svn.treeview.refreshProvider\", () =>\n        this.refresh()\n      )\n    );\n  }\n\n  public refresh(): void {\n    this._onDidChangeTreeData.fire();\n  }\n\n  public getTreeItem(element: RepositoryNode): TreeItem {\n    return element.getTreeItem();\n  }\n\n  public async getChildren(element?: BaseNode): Promise<BaseNode[]> {\n    if (\n      !this.sourceControlManager ||\n      this.sourceControlManager.openRepositories.length === 0\n    ) {\n      return Promise.resolve([]);\n    }\n\n    if (element) {\n      return element.getChildren();\n    }\n\n    const repositories = this.sourceControlManager.openRepositories.map(\n      repository => {\n        return new RepositoryNode(repository.repository, this);\n      }\n    );\n\n    return repositories;\n  }\n\n  public update(node: BaseNode): void {\n    this._onDidChangeTreeData.fire(node);\n  }\n\n  public dispose() {\n    dispose(this._dispose);\n  }\n}\n","import * as path from \"path\";\nimport { TreeItem, TreeItemCollapsibleState, Uri } from \"vscode\";\nimport { Repository } from \"../../repository\";\nimport { Resource } from \"../../resource\";\nimport { getIconUri } from \"../../uri\";\nimport BaseNode from \"./baseNode\";\n\nexport default class IncomingChangeNode implements BaseNode {\n  constructor(\n    public uri: Uri,\n    public type: string,\n    public repository: Repository\n  ) {}\n\n  get props(): undefined {\n    return undefined;\n  }\n\n  get label() {\n    return path.relative(this.repository.workspaceRoot, this.uri.fsPath);\n  }\n\n  get contextValue() {\n    return `incomingChange:${this.type}`;\n  }\n\n  public getTreeItem(): TreeItem {\n    const item = new TreeItem(this.label, TreeItemCollapsibleState.None);\n    item.iconPath = {\n      dark: getIconUri(`status-${this.type}`, \"dark\"),\n      light: getIconUri(`status-${this.type}`, \"light\")\n    };\n    item.contextValue = this.contextValue;\n    item.command = this.getCommand();\n\n    return item;\n  }\n\n  public getChildren(): Promise<BaseNode[]> {\n    return Promise.resolve([]);\n  }\n\n  public getCommand() {\n    switch (this.type) {\n      case \"modified\":\n        return {\n          command: \"svn.openChangeHead\",\n          title: \"Open Changes with HEAD\",\n          arguments: [\n            new Resource(this.uri, this.type, undefined, \"none\", true)\n          ]\n        };\n      case \"deleted\":\n        return {\n          command: \"svn.openFile\",\n          title: \"Open File\",\n          arguments: [this.uri]\n        };\n      case \"added\":\n        return {\n          command: \"svn.openHEADFile\",\n          title: \"Open File (HEAD)\",\n          arguments: [\n            new Resource(this.uri, this.type, undefined, \"none\", true)\n          ]\n        };\n      default:\n        console.error(`No command returned for type ${this.type}`);\n        return;\n    }\n  }\n}\n","import { TreeItem, TreeItemCollapsibleState } from \"vscode\";\nimport { Repository } from \"../../repository\";\nimport { getIconUri } from \"../../uri\";\nimport BaseNode from \"./baseNode\";\nimport IncomingChangeNode from \"./incomingChangeNode\";\nimport NoIncomingChangesNode from \"./noIncomingChangesNode\";\n\nexport default class IncomingChangesNode implements BaseNode {\n  constructor(private repository: Repository) {}\n\n  public getTreeItem(): TreeItem {\n    const item = new TreeItem(\n      \"Incoming Changes\",\n      TreeItemCollapsibleState.Collapsed\n    );\n    item.iconPath = {\n      dark: getIconUri(\"download\", \"dark\"),\n      light: getIconUri(\"download\", \"light\")\n    };\n\n    return item;\n  }\n\n  public async getChildren(): Promise<BaseNode[]> {\n    if (!this.repository.remoteChanges) {\n      return [];\n    }\n\n    const changes = this.repository.remoteChanges.resourceStates.map(\n      remoteChange => {\n        return new IncomingChangeNode(\n          remoteChange.resourceUri,\n          remoteChange.type,\n          this.repository\n        );\n      }\n    );\n\n    if (changes.length === 0) {\n      return [new NoIncomingChangesNode()];\n    }\n\n    return changes;\n  }\n}\n","import { TreeItem, TreeItemCollapsibleState } from \"vscode\";\nimport BaseNode from \"./baseNode\";\n\nexport default class NoIncomingChangesNode implements BaseNode {\n  public getTreeItem(): TreeItem {\n    const item = new TreeItem(\n      \"No Incoming Changes\",\n      TreeItemCollapsibleState.None\n    );\n\n    return item;\n  }\n\n  public async getChildren(): Promise<BaseNode[]> {\n    return [];\n  }\n}\n","import * as path from \"path\";\nimport { TreeItem, TreeItemCollapsibleState } from \"vscode\";\nimport { Repository } from \"../../repository\";\nimport { getIconUri } from \"../../uri\";\nimport SvnProvider from \"../dataProviders/svnProvider\";\nimport BaseNode from \"./baseNode\";\nimport IncomingChangesNode from \"./incomingChangesNode\";\n\nexport default class RepositoryNode implements BaseNode {\n  constructor(\n    private repository: Repository,\n    private svnProvider: SvnProvider\n  ) {\n    repository.onDidChangeStatus(() => {\n      this.svnProvider.update(this);\n    });\n  }\n\n  get label() {\n    return path.basename(this.repository.workspaceRoot);\n  }\n\n  public getTreeItem(): TreeItem {\n    const item = new TreeItem(this.label, TreeItemCollapsibleState.Collapsed);\n    item.iconPath = {\n      dark: getIconUri(\"repo\", \"dark\"),\n      light: getIconUri(\"repo\", \"light\")\n    };\n\n    return item;\n  }\n\n  public async getChildren(): Promise<BaseNode[]> {\n    return [new IncomingChangesNode(this.repository)];\n  }\n}\n","import * as path from \"path\";\nimport { Uri } from \"vscode\";\nimport {\n  ISvnUriExtraParams,\n  ISvnUriParams,\n  SvnUriAction\n} from \"./common/types\";\n\nexport function fromSvnUri(uri: Uri): ISvnUriParams {\n  return JSON.parse(uri.query);\n}\n\nexport function toSvnUri(\n  uri: Uri,\n  action: SvnUriAction,\n  extra: ISvnUriExtraParams = {},\n  replaceFileExtension = false\n): Uri {\n  const params: ISvnUriParams = {\n    action,\n    fsPath: uri.fsPath,\n    extra\n  };\n\n  return uri.with({\n    scheme: \"svn\",\n    path: replaceFileExtension ? uri.path + \".svn\" : uri.path,\n    query: JSON.stringify(params)\n  });\n}\n\nexport function getIconUri(iconName: string, theme: string): Uri {\n  // Path needs to be relative from out/\n  const iconsRootPath = path.join(__dirname, \"..\", \"icons\");\n  return Uri.file(path.join(iconsRootPath, theme, `${iconName}.svg`));\n}\n","import * as path from \"path\";\nimport { Event, commands } from \"vscode\";\nimport { Operation } from \"./common/types\";\nimport { exists, lstat, readdir, rmdir, unlink } from \"./fs\";\n\nexport interface IDisposable {\n  dispose(): void;\n}\n\nexport function done<T>(promise: Promise<T>): Promise<void> {\n  return promise.then<void>(() => void 0);\n}\n\nexport function dispose(disposables: any[]): any[] {\n  disposables.forEach(disposable => disposable.dispose());\n\n  return [];\n}\n\nexport function toDisposable(dispose: () => void): IDisposable {\n  return { dispose };\n}\n\nexport function combinedDisposable(disposables: IDisposable[]): IDisposable {\n  return toDisposable(() => dispose(disposables));\n}\n\nexport function anyEvent<T>(...events: Array<Event<T>>): Event<T> {\n  return (listener: any, thisArgs = null, disposables?: any) => {\n    const result = combinedDisposable(\n      events.map(event => event((i: any) => listener.call(thisArgs, i)))\n    );\n\n    if (disposables) {\n      disposables.push(result);\n    }\n\n    return result;\n  };\n}\n\nexport function filterEvent<T>(\n  event: Event<T>,\n  filter: (e: T) => boolean\n): Event<T> {\n  return (listener: any, thisArgs = null, disposables?: any) =>\n    event(\n      (e: any) => filter(e) && listener.call(thisArgs, e),\n      null,\n      disposables\n    );\n}\n\nexport function onceEvent<T>(event: Event<T>): Event<T> {\n  return (listener: any, thisArgs = null, disposables?: any) => {\n    const result = event(\n      (e: any) => {\n        result.dispose();\n        return listener.call(thisArgs, e);\n      },\n      null,\n      disposables\n    );\n\n    return result;\n  };\n}\n\nexport function eventToPromise<T>(event: Event<T>): Promise<T> {\n  return new Promise<T>(c => onceEvent(event)(c));\n}\n\nconst regexNormalizePath = new RegExp(path.sep === \"/\" ? \"\\\\\\\\\" : \"/\", \"g\");\nconst regexNormalizeWindows = new RegExp(\"^\\\\\\\\(\\\\w:)\", \"g\");\nexport function fixPathSeparator(file: string) {\n  file = file.replace(regexNormalizePath, path.sep);\n  file = file.replace(regexNormalizeWindows, \"$1\"); // \"\\t:\\test\" => \"t:\\test\"\n\n  if (path.sep === \"\\\\\") {\n    file = file.charAt(0).toLowerCase() + file.slice(1);\n  }\n\n  return file;\n}\n\nexport function normalizePath(file: string) {\n  file = fixPathSeparator(file);\n\n  // IF Windows\n  if (path.sep === \"\\\\\") {\n    file = file.toLowerCase();\n  }\n\n  return file;\n}\n\nexport function isDescendant(parent: string, descendant: string): boolean {\n  if (parent.trim() === \"\" || descendant.trim() === \"\") {\n    return false;\n  }\n\n  parent = parent.replace(/[\\\\\\/]/g, path.sep);\n  descendant = descendant.replace(/[\\\\\\/]/g, path.sep);\n\n  // IF Windows\n  if (path.sep === \"\\\\\") {\n    parent = parent.replace(/^\\\\/, \"\").toLowerCase();\n    descendant = descendant.replace(/^\\\\/, \"\").toLowerCase();\n  }\n\n  if (parent === descendant) {\n    return true;\n  }\n\n  if (parent.charAt(parent.length - 1) !== path.sep) {\n    parent += path.sep;\n  }\n\n  return descendant.startsWith(parent);\n}\n\nexport function camelcase(name: string) {\n  return name\n    .replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (letter, index) => {\n      return index === 0 ? letter.toLowerCase() : letter.toUpperCase();\n    })\n    .replace(/[\\s\\-]+/g, \"\");\n}\n\nexport function timeout(ms: number) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport function isReadOnly(operation: Operation): boolean {\n  switch (operation) {\n    case Operation.CurrentBranch:\n    case Operation.Log:\n    case Operation.Show:\n    case Operation.Info:\n    case Operation.Changes:\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Remove directory recursively\n * @param {string} dirPath\n * @see https://stackoverflow.com/a/42505874/3027390\n */\nexport async function deleteDirectory(dirPath: string): Promise<void> {\n  if ((await exists(dirPath)) && (await lstat(dirPath)).isDirectory()) {\n    await Promise.all(\n      (await readdir(dirPath)).map(async (entry: string) => {\n        const entryPath = path.join(dirPath, entry);\n        if ((await lstat(entryPath)).isDirectory()) {\n          await deleteDirectory(entryPath);\n        } else {\n          await unlink(entryPath);\n        }\n      })\n    );\n    await rmdir(dirPath);\n  }\n}\n\nexport function unwrap<T>(maybeT?: T): T {\n  if (maybeT === undefined) {\n    throw new Error(\"undefined unwrap\");\n  }\n  return maybeT;\n}\n\nexport function fixPegRevision(file: string) {\n  // Fix Peg Revision Algorithm (http://svnbook.red-bean.com/en/1.8/svn.advanced.pegrevs.html)\n  if (/@/.test(file)) {\n    file += \"@\";\n  }\n\n  return file;\n}\n\nexport async function isSvnFolder(\n  dir: string,\n  checkParent: boolean = true\n): Promise<boolean> {\n  const result = await exists(`${dir}/.svn`);\n\n  if (result || !checkParent) {\n    return result;\n  }\n\n  const parent = path.dirname(dir);\n\n  // For windows: the `path.dirname(\"c:\")` return `c:`\n  // For empty or doted dir, return \".\"\n  if (parent === dir || parent === \".\") {\n    return false;\n  }\n\n  return isSvnFolder(parent, true);\n}\n\nexport function setVscodeContext(key: string, value: any) {\n  commands.executeCommand(\"setContext\", key, value);\n}\n\nfunction isWindowsPath(path: string): boolean {\n  return /^[a-zA-Z]:\\\\/.test(path);\n}\n\nexport function pathEquals(a: string, b: string): boolean {\n  // Windows is case insensitive\n  if (isWindowsPath(a)) {\n    a = a.toLowerCase();\n    b = b.toLowerCase();\n  }\n\n  return a === b;\n}\n\nexport const EmptyDisposable = toDisposable(() => null);\n","import * as minimatch from \"minimatch\";\n\nexport function matchAll(\n  path: string,\n  patterns: string[],\n  opts: minimatch.IOptions = {}\n): boolean {\n  let match = false;\n\n  patterns.forEach(pattern => {\n    const isExclusion = pattern[0] === \"!\";\n\n    // If we've got a match, only re-test for exclusions.\n    // if we don't have a match, only re-test for inclusions.\n    if (match !== isExclusion) {\n      return;\n    }\n\n    match = minimatch(path, pattern, opts);\n  });\n\n  return match;\n}\n\nexport function match(pattern: string) {\n  return new minimatch.Minimatch(pattern);\n}\n","// Only this file is allowed to import VSCode modules\n// tslint:disable: import-blacklist\n\nimport { env, window } from \"vscode\";\n\ndeclare const __webpack_require__: typeof require;\ndeclare const __non_webpack_require__: typeof require;\n\nfunction getNodeModule<T>(moduleName: string, showError = true): T | undefined {\n  const r =\n    typeof __webpack_require__ === \"function\"\n      ? __non_webpack_require__\n      : require;\n\n  const paths = [\n    `${env.appRoot}/node_modules.asar/${moduleName}`,\n    `${env.appRoot}/node_modules/${moduleName}`,\n    moduleName\n  ];\n\n  for (const p of paths) {\n    try {\n      return r(p);\n    } catch (err) {\n      // Not in path.\n    }\n  }\n\n  if (showError) {\n    window.showErrorMessage(`Missing dependency: ${moduleName}`);\n  }\n\n  return undefined;\n}\n\nexport const keytar = getNodeModule(\"keytar\", false) as typeof import(\"keytar\");\n\nlet iconv_lite = getNodeModule(\n  \"iconv-lite-umd\",\n  false\n) as typeof import(\"iconv-lite-umd\");\nif (!iconv_lite) {\n  iconv_lite = getNodeModule(\"iconv-lite\") as typeof import(\"iconv-lite\");\n}\nexport const iconv = iconv_lite;\n\nexport const jschardet = getNodeModule(\n  \"jschardet\"\n) as typeof import(\"jschardet\");\n","import { Event, Uri, workspace, EventEmitter, RelativePattern } from \"vscode\";\nimport { watch } from \"fs\";\nimport { exists } from \"../fs\";\nimport { join } from \"path\";\nimport { debounce } from \"../decorators\";\nimport {\n  anyEvent,\n  filterEvent,\n  IDisposable,\n  isDescendant,\n  fixPathSeparator\n} from \"../util\";\n\nexport class RepositoryFilesWatcher implements IDisposable {\n  private disposables: IDisposable[] = [];\n\n  private _onRepoChange: EventEmitter<Uri>;\n  private _onRepoCreate: EventEmitter<Uri>;\n  private _onRepoDelete: EventEmitter<Uri>;\n\n  public onDidChange: Event<Uri>;\n  public onDidCreate: Event<Uri>;\n  public onDidDelete: Event<Uri>;\n  public onDidAny: Event<Uri>;\n\n  public onDidWorkspaceChange: Event<Uri>;\n  public onDidWorkspaceCreate: Event<Uri>;\n  public onDidWorkspaceDelete: Event<Uri>;\n  public onDidWorkspaceAny: Event<Uri>;\n\n  public onDidSvnChange: Event<Uri>;\n  public onDidSvnCreate: Event<Uri>;\n  public onDidSvnDelete: Event<Uri>;\n  public onDidSvnAny: Event<Uri>;\n\n  constructor(readonly root: string) {\n    const fsWatcher = workspace.createFileSystemWatcher(\n      new RelativePattern(fixPathSeparator(root), \"**\")\n    );\n    this._onRepoChange = new EventEmitter<Uri>();\n    this._onRepoCreate = new EventEmitter<Uri>();\n    this._onRepoDelete = new EventEmitter<Uri>();\n    let onRepoChange: Event<Uri> | undefined;\n    let onRepoCreate: Event<Uri> | undefined;\n    let onRepoDelete: Event<Uri> | undefined;\n\n    if (\n      typeof workspace.workspaceFolders !== \"undefined\" &&\n      !workspace.workspaceFolders.filter(w => isDescendant(w.uri.fsPath, root))\n        .length\n    ) {\n      const repoWatcher = watch(join(root, \".svn\"), this.repoWatch);\n\n      repoWatcher.on(\"error\", error => {\n        throw error;\n      });\n\n      onRepoChange = this._onRepoChange.event;\n      onRepoCreate = this._onRepoCreate.event;\n      onRepoDelete = this._onRepoDelete.event;\n    }\n\n    this.disposables.push(fsWatcher);\n\n    const isTmp = (uri: Uri) => /[\\\\\\/]\\.svn[\\\\\\/]tmp/.test(uri.path);\n\n    const isRelevant = (uri: Uri) => !isTmp(uri);\n\n    this.onDidChange = filterEvent(fsWatcher.onDidChange, isRelevant);\n    this.onDidCreate = filterEvent(fsWatcher.onDidCreate, isRelevant);\n    this.onDidDelete = filterEvent(fsWatcher.onDidDelete, isRelevant);\n\n    this.onDidAny = anyEvent(\n      this.onDidChange,\n      this.onDidCreate,\n      this.onDidDelete\n    );\n\n    const svnPattern = /[\\\\\\/]\\.svn[\\\\\\/]/;\n\n    const ignoreSvn = (uri: Uri) => !svnPattern.test(uri.path);\n\n    this.onDidWorkspaceChange = filterEvent(this.onDidChange, ignoreSvn);\n    this.onDidWorkspaceCreate = filterEvent(this.onDidCreate, ignoreSvn);\n    this.onDidWorkspaceDelete = filterEvent(this.onDidDelete, ignoreSvn);\n\n    this.onDidWorkspaceAny = anyEvent(\n      this.onDidWorkspaceChange,\n      this.onDidWorkspaceCreate,\n      this.onDidWorkspaceDelete\n    );\n    const ignoreWorkspace = (uri: Uri) => svnPattern.test(uri.path);\n\n    this.onDidSvnChange = filterEvent(this.onDidChange, ignoreWorkspace);\n    this.onDidSvnCreate = filterEvent(this.onDidCreate, ignoreWorkspace);\n    this.onDidSvnDelete = filterEvent(this.onDidDelete, ignoreWorkspace);\n\n    if (onRepoChange && onRepoCreate && onRepoDelete) {\n      this.onDidSvnChange = onRepoChange;\n      this.onDidSvnCreate = onRepoCreate;\n      this.onDidSvnDelete = onRepoDelete;\n    }\n\n    this.onDidSvnAny = anyEvent(\n      this.onDidSvnChange,\n      this.onDidSvnCreate,\n      this.onDidSvnDelete\n    );\n  }\n\n  @debounce(1000)\n  private repoWatch(event: string, filename: string): void {\n    if (event === \"change\") {\n      this._onRepoChange.fire(Uri.parse(filename));\n    } else if (event === \"rename\") {\n      exists(filename).then(doesExist => {\n        if (doesExist) {\n          this._onRepoCreate.fire(Uri.parse(filename));\n        } else {\n          this._onRepoDelete.fire(Uri.parse(filename));\n        }\n      });\n    }\n  }\n\n  public dispose(): void {\n    this.disposables.forEach(d => d.dispose());\n  }\n}\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, escapeCDATA, requiresCDATA, wrapCDATA,\n    hasProp = {}.hasOwnProperty;\n\n  builder = require('xmlbuilder');\n\n  defaults = require('./defaults').defaults;\n\n  requiresCDATA = function(entry) {\n    return typeof entry === \"string\" && (entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0);\n  };\n\n  wrapCDATA = function(entry) {\n    return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n  };\n\n  escapeCDATA = function(entry) {\n    return entry.replace(']]>', ']]]]><![CDATA[>');\n  };\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, ref, value;\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = (function(_this) {\n        return function(element, obj) {\n          var attr, child, entry, index, key, value;\n          if (typeof obj !== 'object') {\n            if (_this.options.cdata && requiresCDATA(obj)) {\n              element.raw(wrapCDATA(obj));\n            } else {\n              element.txt(obj);\n            }\n          } else if (Array.isArray(obj)) {\n            for (index in obj) {\n              if (!hasProp.call(obj, index)) continue;\n              child = obj[index];\n              for (key in child) {\n                entry = child[key];\n                element = render(element.ele(key), entry).up();\n              }\n            }\n          } else {\n            for (key in obj) {\n              if (!hasProp.call(obj, key)) continue;\n              child = obj[key];\n              if (key === attrkey) {\n                if (typeof child === \"object\") {\n                  for (attr in child) {\n                    value = child[attr];\n                    element = element.att(attr, value);\n                  }\n                }\n              } else if (key === charkey) {\n                if (_this.options.cdata && requiresCDATA(child)) {\n                  element = element.raw(wrapCDATA(child));\n                } else {\n                  element = element.txt(child);\n                }\n              } else if (Array.isArray(child)) {\n                for (index in child) {\n                  if (!hasProp.call(child, index)) continue;\n                  entry = child[index];\n                  if (typeof entry === 'string') {\n                    if (_this.options.cdata && requiresCDATA(entry)) {\n                      element = element.ele(key).raw(wrapCDATA(entry)).up();\n                    } else {\n                      element = element.ele(key, entry).up();\n                    }\n                  } else {\n                    element = render(element.ele(key), entry).up();\n                  }\n                }\n              } else if (typeof child === \"object\") {\n                element = render(element.ele(key), child).up();\n              } else {\n                if (typeof child === 'string' && _this.options.cdata && requiresCDATA(child)) {\n                  element = element.ele(key).raw(wrapCDATA(child)).up();\n                } else {\n                  if (child == null) {\n                    child = '';\n                  }\n                  element = element.ele(key, child.toString()).up();\n                }\n              }\n            }\n          }\n          return element;\n        };\n      })(this);\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless,\n        allowSurrogateChars: this.options.allowSurrogateChars\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      emptyTag: ''\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      preserveChildrenOrder: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false,\n      chunkSize: 10000,\n      emptyTag: '',\n      cdata: false\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var bom, defaults, events, isEmpty, processItem, processors, sax, setImmediate,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  sax = require('sax');\n\n  events = require('events');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  setImmediate = require('timers').setImmediate;\n\n  defaults = require('./defaults').defaults;\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processItem = function(processors, item, key) {\n    var i, len, process;\n    for (i = 0, len = processors.length; i < len; i++) {\n      process = processors[i];\n      item = process(item, key);\n    }\n    return item;\n  };\n\n  exports.Parser = (function(superClass) {\n    extend(Parser, superClass);\n\n    function Parser(opts) {\n      this.parseStringPromise = bind(this.parseStringPromise, this);\n      this.parseString = bind(this.parseString, this);\n      this.reset = bind(this.reset, this);\n      this.assignOrPush = bind(this.assignOrPush, this);\n      this.processAsync = bind(this.processAsync, this);\n      var key, ref, value;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.processAsync = function() {\n      var chunk, err;\n      try {\n        if (this.remaining.length <= this.options.chunkSize) {\n          chunk = this.remaining;\n          this.remaining = '';\n          this.saxParser = this.saxParser.write(chunk);\n          return this.saxParser.close();\n        } else {\n          chunk = this.remaining.substr(0, this.options.chunkSize);\n          this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);\n          this.saxParser = this.saxParser.write(chunk);\n          return setImmediate(this.processAsync);\n        }\n      } catch (error1) {\n        err = error1;\n        if (!this.saxParser.errThrown) {\n          this.saxParser.errThrown = true;\n          return this.emit(err);\n        }\n      }\n    };\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.onend = (function(_this) {\n        return function() {\n          if (!_this.saxParser.ended) {\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            ref = node.attributes;\n            for (key in ref) {\n              if (!hasProp.call(ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = _this.options.attrValueProcessors ? processItem(_this.options.attrValueProcessors, node.attributes[key], key) : node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processItem(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processItem(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, key, node, nodeName, obj, objClone, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          if (!_this.options.explicitChildren || !_this.options.preserveChildrenOrder) {\n            delete obj[\"#name\"];\n          }\n          if (obj.cdata === true) {\n            cdata = obj.cdata;\n            delete obj.cdata;\n          }\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            obj[charkey] = _this.options.valueProcessors ? processItem(_this.options.valueProcessors, obj[charkey], nodeName) : obj[charkey];\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== '' ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var i, len, results;\n              results = [];\n              for (i = 0, len = stack.length; i < len; i++) {\n                node = stack[i];\n                results.push(node[\"#name\"]);\n              }\n              return results;\n            })()).concat(nodeName).join(\"/\");\n            (function() {\n              var err;\n              try {\n                return obj = _this.options.validator(xpath, s && s[nodeName], obj);\n              } catch (error1) {\n                err = error1;\n                return _this.emit(\"error\", err);\n              }\n            })();\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            if (!_this.options.preserveChildrenOrder) {\n              node = {};\n              if (_this.options.attrkey in obj) {\n                node[_this.options.attrkey] = obj[_this.options.attrkey];\n                delete obj[_this.options.attrkey];\n              }\n              if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n                node[_this.options.charkey] = obj[_this.options.charkey];\n                delete obj[_this.options.charkey];\n              }\n              if (Object.getOwnPropertyNames(obj).length > 0) {\n                node[_this.options.childkey] = obj;\n              }\n              obj = node;\n            } else if (s) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              objClone = {};\n              for (key in obj) {\n                if (!hasProp.call(obj, key)) continue;\n                objClone[key] = obj[key];\n              }\n              s[_this.options.childkey].push(objClone);\n              delete obj[\"#name\"];\n              if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n                obj = obj[charkey];\n              }\n            }\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var charChild, s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            if (_this.options.explicitChildren && _this.options.preserveChildrenOrder && _this.options.charsAsChildren && (_this.options.includeWhiteChars || text.replace(/\\\\n/g, '').trim() !== '')) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              charChild = {\n                '#name': '__text__'\n              };\n              charChild[charkey] = text;\n              if (_this.options.normalize) {\n                charChild[charkey] = charChild[charkey].replace(/\\s{2,}/g, \" \").trim();\n              }\n              s[_this.options.childkey].push(charChild);\n            }\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          return cb(null, result);\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          return cb(err);\n        });\n      }\n      try {\n        str = str.toString();\n        if (str.trim() === '') {\n          this.emit(\"end\", null);\n          return true;\n        }\n        str = bom.stripBOM(str);\n        if (this.options.async) {\n          this.remaining = str;\n          setImmediate(this.processAsync);\n          return this.saxParser;\n        }\n        return this.saxParser.write(str).close();\n      } catch (error1) {\n        err = error1;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        } else if (this.saxParser.ended) {\n          throw err;\n        }\n      }\n    };\n\n    Parser.prototype.parseStringPromise = function(str) {\n      return new Promise((function(_this) {\n        return function(resolve, reject) {\n          return _this.parseString(str, function(err, value) {\n            if (err) {\n              return reject(err);\n            } else {\n              return resolve(value);\n            }\n          });\n        };\n      })(this));\n    };\n\n    return Parser;\n\n  })(events);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n  exports.parseStringPromise = function(str, a) {\n    var options, parser;\n    if (typeof a === 'object') {\n      options = a;\n    }\n    parser = new exports.Parser(options);\n    return parser.parseStringPromise(str);\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n  exports.parseNumbers = function(str) {\n    if (!isNaN(str)) {\n      str = str % 1 === 0 ? parseInt(str, 10) : parseFloat(str);\n    }\n    return str;\n  };\n\n  exports.parseBooleans = function(str) {\n    if (/^(?:true|false)$/i.test(str)) {\n      str = str.toLowerCase() === 'true';\n    }\n    return str;\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, parser, processors,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  defaults = require('./defaults');\n\n  builder = require('./builder');\n\n  parser = require('./parser');\n\n  processors = require('./processors');\n\n  exports.defaults = defaults.defaults;\n\n  exports.processors = processors;\n\n  exports.ValidationError = (function(superClass) {\n    extend(ValidationError, superClass);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = builder.Builder;\n\n  exports.Parser = parser.Parser;\n\n  exports.parseString = parser.parseString;\n\n  exports.parseStringPromise = parser.parseStringPromise;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Disconnected: 1,\n    Preceding: 2,\n    Following: 4,\n    Contains: 8,\n    ContainedBy: 16,\n    ImplementationSpecific: 32\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Element: 1,\n    Attribute: 2,\n    Text: 3,\n    CData: 4,\n    EntityReference: 5,\n    EntityDeclaration: 6,\n    ProcessingInstruction: 7,\n    Comment: 8,\n    Document: 9,\n    DocType: 10,\n    DocumentFragment: 11,\n    NotationDeclaration: 12,\n    Declaration: 201,\n    Raw: 202,\n    AttributeDeclaration: 203,\n    ElementDeclaration: 204,\n    Dummy: 205\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var assign, getValue, isArray, isEmpty, isFunction, isObject, isPlainObject,\n    slice = [].slice,\n    hasProp = {}.hasOwnProperty;\n\n  assign = function() {\n    var i, key, len, source, sources, target;\n    target = arguments[0], sources = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n    if (isFunction(Object.assign)) {\n      Object.assign.apply(null, arguments);\n    } else {\n      for (i = 0, len = sources.length; i < len; i++) {\n        source = sources[i];\n        if (source != null) {\n          for (key in source) {\n            if (!hasProp.call(source, key)) continue;\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n    return target;\n  };\n\n  isFunction = function(val) {\n    return !!val && Object.prototype.toString.call(val) === '[object Function]';\n  };\n\n  isObject = function(val) {\n    var ref;\n    return !!val && ((ref = typeof val) === 'function' || ref === 'object');\n  };\n\n  isArray = function(val) {\n    if (isFunction(Array.isArray)) {\n      return Array.isArray(val);\n    } else {\n      return Object.prototype.toString.call(val) === '[object Array]';\n    }\n  };\n\n  isEmpty = function(val) {\n    var key;\n    if (isArray(val)) {\n      return !val.length;\n    } else {\n      for (key in val) {\n        if (!hasProp.call(val, key)) continue;\n        return false;\n      }\n      return true;\n    }\n  };\n\n  isPlainObject = function(val) {\n    var ctor, proto;\n    return isObject(val) && (proto = Object.getPrototypeOf(val)) && (ctor = proto.constructor) && (typeof ctor === 'function') && (ctor instanceof ctor) && (Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object));\n  };\n\n  getValue = function(obj) {\n    if (isFunction(obj.valueOf)) {\n      return obj.valueOf();\n    } else {\n      return obj;\n    }\n  };\n\n  module.exports.assign = assign;\n\n  module.exports.isFunction = isFunction;\n\n  module.exports.isObject = isObject;\n\n  module.exports.isArray = isArray;\n\n  module.exports.isEmpty = isEmpty;\n\n  module.exports.isPlainObject = isPlainObject;\n\n  module.exports.getValue = getValue;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    None: 0,\n    OpenTag: 1,\n    InsideTag: 2,\n    CloseTag: 3\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLNode;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.parent = parent;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.value = this.stringify.attValue(value);\n      this.type = NodeType.Attribute;\n      this.isId = false;\n      this.schemaTypeInfo = null;\n    }\n\n    Object.defineProperty(XMLAttribute.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'ownerElement', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'specified', {\n      get: function() {\n        return true;\n      }\n    });\n\n    XMLAttribute.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLAttribute.prototype.toString = function(options) {\n      return this.options.writer.attribute(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLAttribute.prototype.debugInfo = function(name) {\n      name = name || this.name;\n      if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else {\n        return \"attribute: {\" + name + \"}, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLAttribute.prototype.isEqualNode = function(node) {\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.value !== this.value) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCData, XMLCharacterData,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLCData = (function(superClass) {\n    extend(XMLCData, superClass);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text. \" + this.debugInfo());\n      }\n      this.name = \"#cdata-section\";\n      this.type = NodeType.CData;\n      this.value = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCData.prototype.toString = function(options) {\n      return this.options.writer.cdata(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLCData;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCharacterData, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCharacterData = (function(superClass) {\n    extend(XMLCharacterData, superClass);\n\n    function XMLCharacterData(parent) {\n      XMLCharacterData.__super__.constructor.call(this, parent);\n      this.value = '';\n    }\n\n    Object.defineProperty(XMLCharacterData.prototype, 'data', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'length', {\n      get: function() {\n        return this.value.length;\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    XMLCharacterData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCharacterData.prototype.substringData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.appendData = function(arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.insertData = function(offset, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.deleteData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.replaceData = function(offset, count, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.isEqualNode = function(node) {\n      if (!XMLCharacterData.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.data !== this.data) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLCharacterData;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLComment,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLComment = (function(superClass) {\n    extend(XMLComment, superClass);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text. \" + this.debugInfo());\n      }\n      this.name = \"#comment\";\n      this.type = NodeType.Comment;\n      this.value = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLComment.prototype.toString = function(options) {\n      return this.options.writer.comment(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLComment;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMConfiguration, XMLDOMErrorHandler, XMLDOMStringList;\n\n  XMLDOMErrorHandler = require('./XMLDOMErrorHandler');\n\n  XMLDOMStringList = require('./XMLDOMStringList');\n\n  module.exports = XMLDOMConfiguration = (function() {\n    function XMLDOMConfiguration() {\n      var clonedSelf;\n      this.defaultParams = {\n        \"canonical-form\": false,\n        \"cdata-sections\": false,\n        \"comments\": false,\n        \"datatype-normalization\": false,\n        \"element-content-whitespace\": true,\n        \"entities\": true,\n        \"error-handler\": new XMLDOMErrorHandler(),\n        \"infoset\": true,\n        \"validate-if-schema\": false,\n        \"namespaces\": true,\n        \"namespace-declarations\": true,\n        \"normalize-characters\": false,\n        \"schema-location\": '',\n        \"schema-type\": '',\n        \"split-cdata-sections\": true,\n        \"validate\": false,\n        \"well-formed\": true\n      };\n      this.params = clonedSelf = Object.create(this.defaultParams);\n    }\n\n    Object.defineProperty(XMLDOMConfiguration.prototype, 'parameterNames', {\n      get: function() {\n        return new XMLDOMStringList(Object.keys(this.defaultParams));\n      }\n    });\n\n    XMLDOMConfiguration.prototype.getParameter = function(name) {\n      if (this.params.hasOwnProperty(name)) {\n        return this.params[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLDOMConfiguration.prototype.canSetParameter = function(name, value) {\n      return true;\n    };\n\n    XMLDOMConfiguration.prototype.setParameter = function(name, value) {\n      if (value != null) {\n        return this.params[name] = value;\n      } else {\n        return delete this.params[name];\n      }\n    };\n\n    return XMLDOMConfiguration;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMErrorHandler;\n\n  module.exports = XMLDOMErrorHandler = (function() {\n    function XMLDOMErrorHandler() {}\n\n    XMLDOMErrorHandler.prototype.handleError = function(error) {\n      throw new Error(error);\n    };\n\n    return XMLDOMErrorHandler;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMImplementation;\n\n  module.exports = XMLDOMImplementation = (function() {\n    function XMLDOMImplementation() {}\n\n    XMLDOMImplementation.prototype.hasFeature = function(feature, version) {\n      return true;\n    };\n\n    XMLDOMImplementation.prototype.createDocumentType = function(qualifiedName, publicId, systemId) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createDocument = function(namespaceURI, qualifiedName, doctype) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createHTMLDocument = function(title) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLDOMImplementation;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMStringList;\n\n  module.exports = XMLDOMStringList = (function() {\n    function XMLDOMStringList(arr) {\n      this.arr = arr || [];\n    }\n\n    Object.defineProperty(XMLDOMStringList.prototype, 'length', {\n      get: function() {\n        return this.arr.length;\n      }\n    });\n\n    XMLDOMStringList.prototype.item = function(index) {\n      return this.arr[index] || null;\n    };\n\n    XMLDOMStringList.prototype.contains = function(str) {\n      return this.arr.indexOf(str) !== -1;\n    };\n\n    return XMLDOMStringList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDAttList = (function(superClass) {\n    extend(XMLDTDAttList, superClass);\n\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      XMLDTDAttList.__super__.constructor.call(this, parent);\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name. \" + this.debugInfo(elementName));\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type. \" + this.debugInfo(elementName));\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default. \" + this.debugInfo(elementName));\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      this.elementName = this.stringify.name(elementName);\n      this.type = NodeType.AttributeDeclaration;\n      this.attributeName = this.stringify.name(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      if (defaultValue) {\n        this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      }\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.toString = function(options) {\n      return this.options.writer.dtdAttList(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDAttList;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDElement, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDElement = (function(superClass) {\n    extend(XMLDTDElement, superClass);\n\n    function XMLDTDElement(parent, name, value) {\n      XMLDTDElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (Array.isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.ElementDeclaration;\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.toString = function(options) {\n      return this.options.writer.dtdElement(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDEntity, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDEntity = (function(superClass) {\n    extend(XMLDTDEntity, superClass);\n\n    function XMLDTDEntity(parent, pe, name, value) {\n      XMLDTDEntity.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD entity name. \" + this.debugInfo(name));\n      }\n      if (value == null) {\n        throw new Error(\"Missing DTD entity value. \" + this.debugInfo(name));\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.name(name);\n      this.type = NodeType.EntityDeclaration;\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n        this.internal = true;\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity. \" + this.debugInfo(name));\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity. \" + this.debugInfo(name));\n        }\n        this.internal = false;\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity. \" + this.debugInfo(name));\n        }\n      }\n    }\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'notationName', {\n      get: function() {\n        return this.nData || null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlVersion', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDTDEntity.prototype.toString = function(options) {\n      return this.options.writer.dtdEntity(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDEntity;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDNotation, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDNotation = (function(superClass) {\n    extend(XMLDTDNotation, superClass);\n\n    function XMLDTDNotation(parent, name, value) {\n      XMLDTDNotation.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD notation name. \" + this.debugInfo(name));\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.NotationDeclaration;\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    XMLDTDNotation.prototype.toString = function(options) {\n      return this.options.writer.dtdNotation(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDNotation;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDeclaration, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDeclaration = (function(superClass) {\n    extend(XMLDeclaration, superClass);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      this.type = NodeType.Declaration;\n      this.version = this.stringify.xmlVersion(version);\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.toString = function(options) {\n      return this.options.writer.declaration(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLNamedNodeMap, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLDocType = (function(superClass) {\n    extend(XMLDocType, superClass);\n\n    function XMLDocType(parent, pubID, sysID) {\n      var child, i, len, ref, ref1, ref2;\n      XMLDocType.__super__.constructor.call(this, parent);\n      this.type = NodeType.DocType;\n      if (parent.children) {\n        ref = parent.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.Element) {\n            this.name = child.name;\n            break;\n          }\n        }\n      }\n      this.documentObject = parent;\n      if (isObject(pubID)) {\n        ref1 = pubID, pubID = ref1.pubID, sysID = ref1.sysID;\n      }\n      if (sysID == null) {\n        ref2 = [pubID, sysID], sysID = ref2[0], pubID = ref2[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDocType.prototype, 'entities', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if ((child.type === NodeType.EntityDeclaration) && !child.pe) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'notations', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.NotationDeclaration) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'internalSubset', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLDocType.prototype.element = function(name, value) {\n      var child;\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var child;\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var child;\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.toString = function(options) {\n      return this.options.writer.docType(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root() || this.documentObject;\n    };\n\n    XMLDocType.prototype.isEqualNode = function(node) {\n      if (!XMLDocType.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.name !== this.name) {\n        return false;\n      }\n      if (node.publicId !== this.publicId) {\n        return false;\n      }\n      if (node.systemId !== this.systemId) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLDocType;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDOMConfiguration, XMLDOMImplementation, XMLDocument, XMLNode, XMLStringWriter, XMLStringifier, isPlainObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isPlainObject = require('./Utility').isPlainObject;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDOMConfiguration = require('./XMLDOMConfiguration');\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  module.exports = XMLDocument = (function(superClass) {\n    extend(XMLDocument, superClass);\n\n    function XMLDocument(options) {\n      XMLDocument.__super__.constructor.call(this, null);\n      this.name = \"#document\";\n      this.type = NodeType.Document;\n      this.documentURI = null;\n      this.domConfig = new XMLDOMConfiguration();\n      options || (options = {});\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n    }\n\n    Object.defineProperty(XMLDocument.prototype, 'implementation', {\n      value: new XMLDOMImplementation()\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'doctype', {\n      get: function() {\n        var child, i, len, ref;\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.DocType) {\n            return child;\n          }\n        }\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'documentElement', {\n      get: function() {\n        return this.rootObject || null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'strictErrorChecking', {\n      get: function() {\n        return false;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlEncoding', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].encoding;\n        } else {\n          return null;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlStandalone', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].standalone === 'yes';\n        } else {\n          return false;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlVersion', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].version;\n        } else {\n          return \"1.0\";\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'URL', {\n      get: function() {\n        return this.documentURI;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'origin', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'compatMode', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'characterSet', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'contentType', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDocument.prototype.end = function(writer) {\n      var writerOptions;\n      writerOptions = {};\n      if (!writer) {\n        writer = this.options.writer;\n      } else if (isPlainObject(writer)) {\n        writerOptions = writer;\n        writer = this.options.writer;\n      }\n      return writer.document(this, writer.filterOptions(writerOptions));\n    };\n\n    XMLDocument.prototype.toString = function(options) {\n      return this.options.writer.document(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocument.prototype.createElement = function(tagName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createDocumentFragment = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTextNode = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createComment = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createCDATASection = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createProcessingInstruction = function(target, data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttribute = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEntityReference = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.importNode = function(importedNode, deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createElementNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttributeNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementById = function(elementId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.adoptNode = function(source) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.normalizeDocument = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.renameNode = function(node, namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEvent = function(eventInterface) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createRange = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createNodeIterator = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTreeWalker = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLDocument;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLAttribute, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDocument, XMLDocumentCB, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLStringifier, XMLText, getValue, isFunction, isObject, isPlainObject, ref,\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, isPlainObject = ref.isPlainObject, getValue = ref.getValue;\n\n  NodeType = require('./NodeType');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLElement = require('./XMLElement');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLDocumentCB = (function() {\n    function XMLDocumentCB(options, onData, onEnd) {\n      var writerOptions;\n      this.name = \"?xml\";\n      this.type = NodeType.Document;\n      options || (options = {});\n      writerOptions = {};\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      } else if (isPlainObject(options.writer)) {\n        writerOptions = options.writer;\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.writer = options.writer;\n      this.writerOptions = this.writer.filterOptions(writerOptions);\n      this.stringify = new XMLStringifier(options);\n      this.onDataCallback = onData || function() {};\n      this.onEndCallback = onEnd || function() {};\n      this.currentNode = null;\n      this.currentLevel = -1;\n      this.openTags = {};\n      this.documentStarted = false;\n      this.documentCompleted = false;\n      this.root = null;\n    }\n\n    XMLDocumentCB.prototype.createChildNode = function(node) {\n      var att, attName, attributes, child, i, len, ref1, ref2;\n      switch (node.type) {\n        case NodeType.CData:\n          this.cdata(node.value);\n          break;\n        case NodeType.Comment:\n          this.comment(node.value);\n          break;\n        case NodeType.Element:\n          attributes = {};\n          ref1 = node.attribs;\n          for (attName in ref1) {\n            if (!hasProp.call(ref1, attName)) continue;\n            att = ref1[attName];\n            attributes[attName] = att.value;\n          }\n          this.node(node.name, attributes);\n          break;\n        case NodeType.Dummy:\n          this.dummy();\n          break;\n        case NodeType.Raw:\n          this.raw(node.value);\n          break;\n        case NodeType.Text:\n          this.text(node.value);\n          break;\n        case NodeType.ProcessingInstruction:\n          this.instruction(node.target, node.value);\n          break;\n        default:\n          throw new Error(\"This XML node type is not supported in a JS object: \" + node.constructor.name);\n      }\n      ref2 = node.children;\n      for (i = 0, len = ref2.length; i < len; i++) {\n        child = ref2[i];\n        this.createChildNode(child);\n        if (child.type === NodeType.Element) {\n          this.up();\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dummy = function() {\n      return this;\n    };\n\n    XMLDocumentCB.prototype.node = function(name, attributes, text) {\n      var ref1;\n      if (name == null) {\n        throw new Error(\"Missing node name.\");\n      }\n      if (this.root && this.currentLevel === -1) {\n        throw new Error(\"Document can only have one root node. \" + this.debugInfo(name));\n      }\n      this.openCurrent();\n      name = getValue(name);\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];\n      }\n      this.currentNode = new XMLElement(this, name, attributes);\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      if (text != null) {\n        this.text(text);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.element = function(name, attributes, text) {\n      var child, i, len, oldValidationFlag, ref1, root;\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        this.dtdElement.apply(this, arguments);\n      } else {\n        if (Array.isArray(name) || isObject(name) || isFunction(name)) {\n          oldValidationFlag = this.options.noValidation;\n          this.options.noValidation = true;\n          root = new XMLDocument(this.options).element('TEMP_ROOT');\n          root.element(name);\n          this.options.noValidation = oldValidationFlag;\n          ref1 = root.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            this.createChildNode(child);\n            if (child.type === NodeType.Element) {\n              this.up();\n            }\n          }\n        } else {\n          this.node(name, attributes, text);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (!this.currentNode || this.currentNode.children) {\n        throw new Error(\"att() can only be used immediately after an ele() call in callback mode. \" + this.debugInfo(name));\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.text = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLText(this, value);\n      this.onData(this.writer.text(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.cdata = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLCData(this, value);\n      this.onData(this.writer.cdata(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.comment = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLComment(this, value);\n      this.onData(this.writer.comment(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.raw = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLRaw(this, value);\n      this.onData(this.writer.raw(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.instruction = function(target, value) {\n      var i, insTarget, insValue, len, node;\n      this.openCurrent();\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (i = 0, len = target.length; i < len; i++) {\n          insTarget = target[i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        node = new XMLProcessingInstruction(this, target, value);\n        this.onData(this.writer.processingInstruction(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.declaration = function(version, encoding, standalone) {\n      var node;\n      this.openCurrent();\n      if (this.documentStarted) {\n        throw new Error(\"declaration() must be the first node.\");\n      }\n      node = new XMLDeclaration(this, version, encoding, standalone);\n      this.onData(this.writer.declaration(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.doctype = function(root, pubID, sysID) {\n      this.openCurrent();\n      if (root == null) {\n        throw new Error(\"Missing root node name.\");\n      }\n      if (this.root) {\n        throw new Error(\"dtd() must come before the root node.\");\n      }\n      this.currentNode = new XMLDocType(this, pubID, sysID);\n      this.currentNode.rootNodeName = root;\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dtdElement = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDElement(this, name, value);\n      this.onData(this.writer.dtdElement(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.onData(this.writer.dtdAttList(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.entity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, false, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.pEntity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, true, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.notation = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDNotation(this, name, value);\n      this.onData(this.writer.dtdNotation(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.up = function() {\n      if (this.currentLevel < 0) {\n        throw new Error(\"The document node has no parent.\");\n      }\n      if (this.currentNode) {\n        if (this.currentNode.children) {\n          this.closeNode(this.currentNode);\n        } else {\n          this.openNode(this.currentNode);\n        }\n        this.currentNode = null;\n      } else {\n        this.closeNode(this.openTags[this.currentLevel]);\n      }\n      delete this.openTags[this.currentLevel];\n      this.currentLevel--;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.end = function() {\n      while (this.currentLevel >= 0) {\n        this.up();\n      }\n      return this.onEnd();\n    };\n\n    XMLDocumentCB.prototype.openCurrent = function() {\n      if (this.currentNode) {\n        this.currentNode.children = true;\n        return this.openNode(this.currentNode);\n      }\n    };\n\n    XMLDocumentCB.prototype.openNode = function(node) {\n      var att, chunk, name, ref1;\n      if (!node.isOpen) {\n        if (!this.root && this.currentLevel === 0 && node.type === NodeType.Element) {\n          this.root = node;\n        }\n        chunk = '';\n        if (node.type === NodeType.Element) {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<' + node.name;\n          ref1 = node.attribs;\n          for (name in ref1) {\n            if (!hasProp.call(ref1, name)) continue;\n            att = ref1[name];\n            chunk += this.writer.attribute(att, this.writerOptions, this.currentLevel);\n          }\n          chunk += (node.children ? '>' : '/>') + this.writer.endline(node, this.writerOptions, this.currentLevel);\n          this.writerOptions.state = WriterState.InsideTag;\n        } else {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<!DOCTYPE ' + node.rootNodeName;\n          if (node.pubID && node.sysID) {\n            chunk += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n          } else if (node.sysID) {\n            chunk += ' SYSTEM \"' + node.sysID + '\"';\n          }\n          if (node.children) {\n            chunk += ' [';\n            this.writerOptions.state = WriterState.InsideTag;\n          } else {\n            this.writerOptions.state = WriterState.CloseTag;\n            chunk += '>';\n          }\n          chunk += this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.onData(chunk, this.currentLevel);\n        return node.isOpen = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.closeNode = function(node) {\n      var chunk;\n      if (!node.isClosed) {\n        chunk = '';\n        this.writerOptions.state = WriterState.CloseTag;\n        if (node.type === NodeType.Element) {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '</' + node.name + '>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        } else {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + ']>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.writerOptions.state = WriterState.None;\n        this.onData(chunk, this.currentLevel);\n        return node.isClosed = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.onData = function(chunk, level) {\n      this.documentStarted = true;\n      return this.onDataCallback(chunk, level + 1);\n    };\n\n    XMLDocumentCB.prototype.onEnd = function() {\n      this.documentCompleted = true;\n      return this.onEndCallback();\n    };\n\n    XMLDocumentCB.prototype.debugInfo = function(name) {\n      if (name == null) {\n        return \"\";\n      } else {\n        return \"node: <\" + name + \">\";\n      }\n    };\n\n    XMLDocumentCB.prototype.ele = function() {\n      return this.element.apply(this, arguments);\n    };\n\n    XMLDocumentCB.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLDocumentCB.prototype.dtd = function(root, pubID, sysID) {\n      return this.doctype(root, pubID, sysID);\n    };\n\n    XMLDocumentCB.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLDocumentCB.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.att = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.a = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocumentCB.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocumentCB.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    return XMLDocumentCB;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDummy, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDummy = (function(superClass) {\n    extend(XMLDummy, superClass);\n\n    function XMLDummy(parent) {\n      XMLDummy.__super__.constructor.call(this, parent);\n      this.type = NodeType.Dummy;\n    }\n\n    XMLDummy.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLDummy.prototype.toString = function(options) {\n      return '';\n    };\n\n    return XMLDummy;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLElement, XMLNamedNodeMap, XMLNode, getValue, isFunction, isObject, ref,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, getValue = ref.getValue;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLElement = (function(superClass) {\n    extend(XMLElement, superClass);\n\n    function XMLElement(parent, name, attributes) {\n      var child, j, len, ref1;\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name. \" + this.debugInfo());\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.Element;\n      this.attribs = {};\n      this.schemaTypeInfo = null;\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n      if (parent.type === NodeType.Document) {\n        this.isRoot = true;\n        this.documentObject = parent;\n        parent.rootObject = this;\n        if (parent.children) {\n          ref1 = parent.children;\n          for (j = 0, len = ref1.length; j < len; j++) {\n            child = ref1[j];\n            if (child.type === NodeType.DocType) {\n              child.name = this.name;\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    Object.defineProperty(XMLElement.prototype, 'tagName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'id', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'className', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'classList', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'attributes', {\n      get: function() {\n        if (!this.attributeMap || !this.attributeMap.nodes) {\n          this.attributeMap = new XMLNamedNodeMap(this.attribs);\n        }\n        return this.attributeMap;\n      }\n    });\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, ref1;\n      clonedSelf = Object.create(this);\n      if (clonedSelf.isRoot) {\n        clonedSelf.documentObject = null;\n      }\n      clonedSelf.attribs = {};\n      ref1 = this.attribs;\n      for (attName in ref1) {\n        if (!hasProp.call(ref1, attName)) continue;\n        att = ref1[attName];\n        clonedSelf.attribs[attName] = att.clone();\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, j, len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo());\n      }\n      name = getValue(name);\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          attName = name[j];\n          delete this.attribs[attName];\n        }\n      } else {\n        delete this.attribs[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options) {\n      return this.options.writer.element(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.getAttribute = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].value;\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttribute = function(name, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNode = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttributeNode = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNode = function(oldAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNS = function(namespaceURI, qualifiedName, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNodeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNodeNS = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.hasAttribute = function(name) {\n      return this.attribs.hasOwnProperty(name);\n    };\n\n    XMLElement.prototype.hasAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttribute = function(name, isId) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].isId;\n      } else {\n        return isId;\n      }\n    };\n\n    XMLElement.prototype.setIdAttributeNS = function(namespaceURI, localName, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttributeNode = function(idAttr, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.isEqualNode = function(node) {\n      var i, j, ref1;\n      if (!XMLElement.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.attribs.length !== this.attribs.length) {\n        return false;\n      }\n      for (i = j = 0, ref1 = this.attribs.length - 1; 0 <= ref1 ? j <= ref1 : j >= ref1; i = 0 <= ref1 ? ++j : --j) {\n        if (!this.attribs[i].isEqualNode(node.attribs[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNamedNodeMap;\n\n  module.exports = XMLNamedNodeMap = (function() {\n    function XMLNamedNodeMap(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNamedNodeMap.prototype, 'length', {\n      get: function() {\n        return Object.keys(this.nodes).length || 0;\n      }\n    });\n\n    XMLNamedNodeMap.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItem = function(name) {\n      return this.nodes[name];\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItem = function(node) {\n      var oldNode;\n      oldNode = this.nodes[node.nodeName];\n      this.nodes[node.nodeName] = node;\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItem = function(name) {\n      var oldNode;\n      oldNode = this.nodes[name];\n      delete this.nodes[name];\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.item = function(index) {\n      return this.nodes[Object.keys(this.nodes)[index]] || null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItemNS = function(node) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLNamedNodeMap;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var DocumentPosition, NodeType, XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLNamedNodeMap, XMLNode, XMLNodeList, XMLProcessingInstruction, XMLRaw, XMLText, getValue, isEmpty, isFunction, isObject, ref1,\n    hasProp = {}.hasOwnProperty;\n\n  ref1 = require('./Utility'), isObject = ref1.isObject, isFunction = ref1.isFunction, isEmpty = ref1.isEmpty, getValue = ref1.getValue;\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  XMLProcessingInstruction = null;\n\n  XMLDummy = null;\n\n  NodeType = null;\n\n  XMLNodeList = null;\n\n  XMLNamedNodeMap = null;\n\n  DocumentPosition = null;\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent1) {\n      this.parent = parent1;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      this.value = null;\n      this.children = [];\n      this.baseURI = null;\n      if (!XMLElement) {\n        XMLElement = require('./XMLElement');\n        XMLCData = require('./XMLCData');\n        XMLComment = require('./XMLComment');\n        XMLDeclaration = require('./XMLDeclaration');\n        XMLDocType = require('./XMLDocType');\n        XMLRaw = require('./XMLRaw');\n        XMLText = require('./XMLText');\n        XMLProcessingInstruction = require('./XMLProcessingInstruction');\n        XMLDummy = require('./XMLDummy');\n        NodeType = require('./NodeType');\n        XMLNodeList = require('./XMLNodeList');\n        XMLNamedNodeMap = require('./XMLNamedNodeMap');\n        DocumentPosition = require('./DocumentPosition');\n      }\n    }\n\n    Object.defineProperty(XMLNode.prototype, 'nodeName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeValue', {\n      get: function() {\n        return this.value;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'parentNode', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'childNodes', {\n      get: function() {\n        if (!this.childNodeList || !this.childNodeList.nodes) {\n          this.childNodeList = new XMLNodeList(this.children);\n        }\n        return this.childNodeList;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'firstChild', {\n      get: function() {\n        return this.children[0] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'lastChild', {\n      get: function() {\n        return this.children[this.children.length - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'previousSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nextSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i + 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'ownerDocument', {\n      get: function() {\n        return this.document() || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'textContent', {\n      get: function() {\n        var child, j, len, ref2, str;\n        if (this.nodeType === NodeType.Element || this.nodeType === NodeType.DocumentFragment) {\n          str = '';\n          ref2 = this.children;\n          for (j = 0, len = ref2.length; j < len; j++) {\n            child = ref2[j];\n            if (child.textContent) {\n              str += child.textContent;\n            }\n          }\n          return str;\n        } else {\n          return null;\n        }\n      },\n      set: function(value) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLNode.prototype.setParent = function(parent) {\n      var child, j, len, ref2, results;\n      this.parent = parent;\n      if (parent) {\n        this.options = parent.options;\n        this.stringify = parent.stringify;\n      }\n      ref2 = this.children;\n      results = [];\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        results.push(child.setParent(this));\n      }\n      return results;\n    };\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var childNode, item, j, k, key, lastChild, len, len1, ref2, ref3, val;\n      lastChild = null;\n      if (attributes === null && (text == null)) {\n        ref2 = [{}, null], attributes = ref2[0], text = ref2[1];\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref3 = [attributes, text], text = ref3[0], attributes = ref3[1];\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          item = name[j];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.separateArrayItems && Array.isArray(val) && isEmpty(val)) {\n            lastChild = this.dummy();\n          } else if (isObject(val) && isEmpty(val)) {\n            lastChild = this.element(key);\n          } else if (!this.options.keepNullNodes && (val == null)) {\n            lastChild = this.dummy();\n          } else if (!this.options.separateArrayItems && Array.isArray(val)) {\n            for (k = 0, len1 = val.length; k < len1; k++) {\n              item = val[k];\n              childNode = {};\n              childNode[key] = item;\n              lastChild = this.element(childNode);\n            }\n          } else if (isObject(val)) {\n            if (!this.options.ignoreDecorators && this.stringify.convertTextKey && key.indexOf(this.stringify.convertTextKey) === 0) {\n              lastChild = this.element(val);\n            } else {\n              lastChild = this.element(key);\n              lastChild.element(val);\n            }\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else if (!this.options.keepNullNodes && text === null) {\n        lastChild = this.dummy();\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && name.indexOf(this.stringify.convertPIKey) === 0) {\n          lastChild = this.instruction(name.substr(this.stringify.convertPIKey.length), text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name + \". \" + this.debugInfo());\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, newChild, refChild, removed;\n      if (name != null ? name.type : void 0) {\n        newChild = name;\n        refChild = attributes;\n        newChild.setParent(this);\n        if (refChild) {\n          i = children.indexOf(refChild);\n          removed = children.splice(i);\n          children.push(newChild);\n          Array.prototype.push.apply(children, removed);\n        } else {\n          children.push(newChild);\n        }\n        return newChild;\n      } else {\n        if (this.isRoot) {\n          throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n        }\n        i = this.parent.children.indexOf(this);\n        removed = this.parent.children.splice(i);\n        child = this.parent.element(name, attributes, text);\n        Array.prototype.push.apply(this.parent.children, removed);\n        return child;\n      }\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, ref2;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element. \" + this.debugInfo());\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref2 = [])), ref2;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var child, ref2;\n      if (name != null) {\n        name = getValue(name);\n      }\n      attributes || (attributes = {});\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref2 = [attributes, text], text = ref2[0], attributes = ref2[1];\n      }\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var child;\n      if (isObject(value)) {\n        this.element(value);\n      }\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.commentBefore = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.commentAfter = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var child;\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.dummy = function() {\n      var child;\n      child = new XMLDummy(this);\n      return child;\n    };\n\n    XMLNode.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, j, len;\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (j = 0, len = target.length; j < len; j++) {\n          insTarget = target[j];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.children.push(instruction);\n      }\n      return this;\n    };\n\n    XMLNode.prototype.instructionBefore = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.instructionAfter = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var doc, xmldec;\n      doc = this.document();\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      if (doc.children.length === 0) {\n        doc.children.unshift(xmldec);\n      } else if (doc.children[0].type === NodeType.Declaration) {\n        doc.children[0] = xmldec;\n      } else {\n        doc.children.unshift(xmldec);\n      }\n      return doc.root() || doc;\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      var child, doc, doctype, i, j, k, len, len1, ref2, ref3;\n      doc = this.document();\n      doctype = new XMLDocType(doc, pubID, sysID);\n      ref2 = doc.children;\n      for (i = j = 0, len = ref2.length; j < len; i = ++j) {\n        child = ref2[i];\n        if (child.type === NodeType.DocType) {\n          doc.children[i] = doctype;\n          return doctype;\n        }\n      }\n      ref3 = doc.children;\n      for (i = k = 0, len1 = ref3.length; k < len1; i = ++k) {\n        child = ref3[i];\n        if (child.isRoot) {\n          doc.children.splice(i, 0, doctype);\n          return doctype;\n        }\n      }\n      doc.children.push(doctype);\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node.rootObject;\n        } else if (node.isRoot) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.document = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().end(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node. \" + this.debugInfo());\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node. \" + this.debugInfo());\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importDocument = function(doc) {\n      var clonedRoot;\n      clonedRoot = doc.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.debugInfo = function(name) {\n      var ref2, ref3;\n      name = name || this.name;\n      if ((name == null) && !((ref2 = this.parent) != null ? ref2.name : void 0)) {\n        return \"\";\n      } else if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else if (!((ref3 = this.parent) != null ? ref3.name : void 0)) {\n        return \"node: <\" + name + \">\";\n      } else {\n        return \"node: <\" + name + \">, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(doc) {\n      return this.importDocument(doc);\n    };\n\n    XMLNode.prototype.replaceChild = function(newChild, oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.removeChild = function(oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.appendChild = function(newChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.hasChildNodes = function() {\n      return this.children.length !== 0;\n    };\n\n    XMLNode.prototype.cloneNode = function(deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.normalize = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isSupported = function(feature, version) {\n      return true;\n    };\n\n    XMLNode.prototype.hasAttributes = function() {\n      return this.attribs.length !== 0;\n    };\n\n    XMLNode.prototype.compareDocumentPosition = function(other) {\n      var ref, res;\n      ref = this;\n      if (ref === other) {\n        return 0;\n      } else if (this.document() !== other.document()) {\n        res = DocumentPosition.Disconnected | DocumentPosition.ImplementationSpecific;\n        if (Math.random() < 0.5) {\n          res |= DocumentPosition.Preceding;\n        } else {\n          res |= DocumentPosition.Following;\n        }\n        return res;\n      } else if (ref.isAncestor(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Preceding;\n      } else if (ref.isDescendant(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Following;\n      } else if (ref.isPreceding(other)) {\n        return DocumentPosition.Preceding;\n      } else {\n        return DocumentPosition.Following;\n      }\n    };\n\n    XMLNode.prototype.isSameNode = function(other) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupPrefix = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isDefaultNamespace = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupNamespaceURI = function(prefix) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isEqualNode = function(node) {\n      var i, j, ref2;\n      if (node.nodeType !== this.nodeType) {\n        return false;\n      }\n      if (node.children.length !== this.children.length) {\n        return false;\n      }\n      for (i = j = 0, ref2 = this.children.length - 1; 0 <= ref2 ? j <= ref2 : j >= ref2; i = 0 <= ref2 ? ++j : --j) {\n        if (!this.children[i].isEqualNode(node.children[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    XMLNode.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.setUserData = function(key, data, handler) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.getUserData = function(key) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.contains = function(other) {\n      if (!other) {\n        return false;\n      }\n      return other === this || this.isDescendant(other);\n    };\n\n    XMLNode.prototype.isDescendant = function(node) {\n      var child, isDescendantChild, j, len, ref2;\n      ref2 = this.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (node === child) {\n          return true;\n        }\n        isDescendantChild = child.isDescendant(node);\n        if (isDescendantChild) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    XMLNode.prototype.isAncestor = function(node) {\n      return node.isDescendant(this);\n    };\n\n    XMLNode.prototype.isPreceding = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos < thisPos;\n      }\n    };\n\n    XMLNode.prototype.isFollowing = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos > thisPos;\n      }\n    };\n\n    XMLNode.prototype.treePosition = function(node) {\n      var found, pos;\n      pos = 0;\n      found = false;\n      this.foreachTreeNode(this.document(), function(childNode) {\n        pos++;\n        if (!found && childNode === node) {\n          return found = true;\n        }\n      });\n      if (found) {\n        return pos;\n      } else {\n        return -1;\n      }\n    };\n\n    XMLNode.prototype.foreachTreeNode = function(node, func) {\n      var child, j, len, ref2, res;\n      node || (node = this.document());\n      ref2 = node.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (res = func(child)) {\n          return res;\n        } else {\n          res = this.foreachTreeNode(child, func);\n          if (res) {\n            return res;\n          }\n        }\n      }\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNodeList;\n\n  module.exports = XMLNodeList = (function() {\n    function XMLNodeList(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNodeList.prototype, 'length', {\n      get: function() {\n        return this.nodes.length || 0;\n      }\n    });\n\n    XMLNodeList.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNodeList.prototype.item = function(index) {\n      return this.nodes[index] || null;\n    };\n\n    return XMLNodeList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLProcessingInstruction,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLProcessingInstruction = (function(superClass) {\n    extend(XMLProcessingInstruction, superClass);\n\n    function XMLProcessingInstruction(parent, target, value) {\n      XMLProcessingInstruction.__super__.constructor.call(this, parent);\n      if (target == null) {\n        throw new Error(\"Missing instruction target. \" + this.debugInfo());\n      }\n      this.type = NodeType.ProcessingInstruction;\n      this.target = this.stringify.insTarget(target);\n      this.name = this.target;\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options) {\n      return this.options.writer.processingInstruction(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLProcessingInstruction.prototype.isEqualNode = function(node) {\n      if (!XMLProcessingInstruction.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.target !== this.target) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLProcessingInstruction;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLNode, XMLRaw,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(superClass) {\n    extend(XMLRaw, superClass);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text. \" + this.debugInfo());\n      }\n      this.type = NodeType.Raw;\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLRaw.prototype.toString = function(options) {\n      return this.options.writer.raw(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLStreamWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLStreamWriter = (function(superClass) {\n    extend(XMLStreamWriter, superClass);\n\n    function XMLStreamWriter(stream, options) {\n      this.stream = stream;\n      XMLStreamWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStreamWriter.prototype.endline = function(node, options, level) {\n      if (node.isLastRootNode && options.state === WriterState.CloseTag) {\n        return '';\n      } else {\n        return XMLStreamWriter.__super__.endline.call(this, node, options, level);\n      }\n    };\n\n    XMLStreamWriter.prototype.document = function(doc, options) {\n      var child, i, j, k, len, len1, ref, ref1, results;\n      ref = doc.children;\n      for (i = j = 0, len = ref.length; j < len; i = ++j) {\n        child = ref[i];\n        child.isLastRootNode = i === doc.children.length - 1;\n      }\n      options = this.filterOptions(options);\n      ref1 = doc.children;\n      results = [];\n      for (k = 0, len1 = ref1.length; k < len1; k++) {\n        child = ref1[k];\n        results.push(this.writeChildNode(child, options, 0));\n      }\n      return results;\n    };\n\n    XMLStreamWriter.prototype.attribute = function(att, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.attribute.call(this, att, options, level));\n    };\n\n    XMLStreamWriter.prototype.cdata = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.cdata.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.comment = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.comment.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.declaration = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.declaration.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.docType = function(node, options, level) {\n      var child, j, len, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level));\n      this.stream.write('<!DOCTYPE ' + node.root().name);\n      if (node.pubID && node.sysID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n      } else if (node.sysID) {\n        this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n      }\n      if (node.children.length > 0) {\n        this.stream.write(' [');\n        this.stream.write(this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (j = 0, len = ref.length; j < len; j++) {\n          child = ref[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(']');\n      }\n      options.state = WriterState.CloseTag;\n      this.stream.write(options.spaceBeforeSlash + '>');\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, j, len, name, prettySuppressed, ref, ref1;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level) + '<' + node.name);\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          this.stream.write('>');\n          options.state = WriterState.CloseTag;\n          this.stream.write('</' + node.name + '>');\n        } else {\n          options.state = WriterState.CloseTag;\n          this.stream.write(options.spaceBeforeSlash + '/>');\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        this.stream.write('>');\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        this.stream.write('</' + node.name + '>');\n      } else {\n        this.stream.write('>' + this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref1 = node.children;\n        for (j = 0, len = ref1.length; j < len; j++) {\n          child = ref1[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(this.indent(node, options, level) + '</' + node.name + '>');\n      }\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.processingInstruction = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.processingInstruction.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.raw = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.raw.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.text = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.text.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdAttList = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdAttList.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdElement = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdElement.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdEntity = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdEntity.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdNotation = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdNotation.call(this, node, options, level));\n    };\n\n    return XMLStreamWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  module.exports = XMLStringWriter = (function(superClass) {\n    extend(XMLStringWriter, superClass);\n\n    function XMLStringWriter(options) {\n      XMLStringWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStringWriter.prototype.document = function(doc, options) {\n      var child, i, len, r, ref;\n      options = this.filterOptions(options);\n      r = '';\n      ref = doc.children;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        r += this.writeChildNode(child, options, 0);\n      }\n      if (options.pretty && r.slice(-options.newline.length) === options.newline) {\n        r = r.slice(0, -options.newline.length);\n      }\n      return r;\n    };\n\n    return XMLStringWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringifier,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalName = bind(this.assertLegalName, this);\n      this.assertLegalChar = bind(this.assertLegalChar, this);\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      if (!this.options.version) {\n        this.options.version = '1.0';\n      }\n      ref = options.stringify || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.name = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalName('' + val || '');\n    };\n\n    XMLStringifier.prototype.text = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.textEscape('' + val || ''));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      val = val.replace(']]>', ']]]]><![CDATA[>');\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.attEscape(val = '' + val || ''));\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)) {\n        throw new Error(\"Invalid encoding: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var regex, res;\n      if (this.options.noValidation) {\n        return str;\n      }\n      regex = '';\n      if (this.options.version === '1.0') {\n        regex = /[\\0-\\x08\\x0B\\f\\x0E-\\x1F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      } else if (this.options.version === '1.1') {\n        regex = /[\\0\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.assertLegalName = function(str) {\n      var regex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      this.assertLegalChar(str);\n      regex = /^([:A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])([\\x2D\\.0-:A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])*$/;\n      if (!str.match(regex)) {\n        throw new Error(\"Invalid character in name\");\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.textEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLText,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLText = (function(superClass) {\n    extend(XMLText, superClass);\n\n    function XMLText(parent, text) {\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text. \" + this.debugInfo());\n      }\n      this.name = \"#text\";\n      this.type = NodeType.Text;\n      this.value = this.stringify.text(text);\n    }\n\n    Object.defineProperty(XMLText.prototype, 'isElementContentWhitespace', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLText.prototype, 'wholeText', {\n      get: function() {\n        var next, prev, str;\n        str = '';\n        prev = this.previousSibling;\n        while (prev) {\n          str = prev.data + str;\n          prev = prev.previousSibling;\n        }\n        str += this.data;\n        next = this.nextSibling;\n        while (next) {\n          str = str + next.data;\n          next = next.nextSibling;\n        }\n        return str;\n      }\n    });\n\n    XMLText.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLText.prototype.toString = function(options) {\n      return this.options.writer.text(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLText.prototype.splitText = function(offset) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLText.prototype.replaceWholeText = function(content) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLText;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLProcessingInstruction, XMLRaw, XMLText, XMLWriterBase, assign,\n    hasProp = {}.hasOwnProperty;\n\n  assign = require('./Utility').assign;\n\n  NodeType = require('./NodeType');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLElement = require('./XMLElement');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDummy = require('./XMLDummy');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLWriterBase = (function() {\n    function XMLWriterBase(options) {\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      ref = options.writer || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[\"_\" + key] = this[key];\n        this[key] = value;\n      }\n    }\n\n    XMLWriterBase.prototype.filterOptions = function(options) {\n      var filteredOptions, ref, ref1, ref2, ref3, ref4, ref5, ref6;\n      options || (options = {});\n      options = assign({}, this.options, options);\n      filteredOptions = {\n        writer: this\n      };\n      filteredOptions.pretty = options.pretty || false;\n      filteredOptions.allowEmpty = options.allowEmpty || false;\n      filteredOptions.indent = (ref = options.indent) != null ? ref : '  ';\n      filteredOptions.newline = (ref1 = options.newline) != null ? ref1 : '\\n';\n      filteredOptions.offset = (ref2 = options.offset) != null ? ref2 : 0;\n      filteredOptions.dontPrettyTextNodes = (ref3 = (ref4 = options.dontPrettyTextNodes) != null ? ref4 : options.dontprettytextnodes) != null ? ref3 : 0;\n      filteredOptions.spaceBeforeSlash = (ref5 = (ref6 = options.spaceBeforeSlash) != null ? ref6 : options.spacebeforeslash) != null ? ref5 : '';\n      if (filteredOptions.spaceBeforeSlash === true) {\n        filteredOptions.spaceBeforeSlash = ' ';\n      }\n      filteredOptions.suppressPrettyCount = 0;\n      filteredOptions.user = {};\n      filteredOptions.state = WriterState.None;\n      return filteredOptions;\n    };\n\n    XMLWriterBase.prototype.indent = function(node, options, level) {\n      var indentLevel;\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else if (options.pretty) {\n        indentLevel = (level || 0) + options.offset + 1;\n        if (indentLevel > 0) {\n          return new Array(indentLevel).join(options.indent);\n        }\n      }\n      return '';\n    };\n\n    XMLWriterBase.prototype.endline = function(node, options, level) {\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else {\n        return options.newline;\n      }\n    };\n\n    XMLWriterBase.prototype.attribute = function(att, options, level) {\n      var r;\n      this.openAttribute(att, options, level);\n      r = ' ' + att.name + '=\"' + att.value + '\"';\n      this.closeAttribute(att, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.cdata = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<![CDATA[';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ']]>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.comment = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!-- ';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ' -->' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.declaration = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?xml';\n      options.state = WriterState.InsideTag;\n      r += ' version=\"' + node.version + '\"';\n      if (node.encoding != null) {\n        r += ' encoding=\"' + node.encoding + '\"';\n      }\n      if (node.standalone != null) {\n        r += ' standalone=\"' + node.standalone + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.docType = function(node, options, level) {\n      var child, i, len, r, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      r += '<!DOCTYPE ' + node.root().name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      if (node.children.length > 0) {\n        r += ' [';\n        r += this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += ']';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, i, j, len, len1, name, prettySuppressed, r, ref, ref1, ref2;\n      level || (level = 0);\n      prettySuppressed = false;\n      r = '';\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r += this.indent(node, options, level) + '<' + node.name;\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        r += this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          r += '>';\n          options.state = WriterState.CloseTag;\n          r += '</' + node.name + '>' + this.endline(node, options, level);\n        } else {\n          options.state = WriterState.CloseTag;\n          r += options.spaceBeforeSlash + '/>' + this.endline(node, options, level);\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        r += '>';\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        r += this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        r += '</' + node.name + '>' + this.endline(node, options, level);\n      } else {\n        if (options.dontPrettyTextNodes) {\n          ref1 = node.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            if ((child.type === NodeType.Text || child.type === NodeType.Raw) && (child.value != null)) {\n              options.suppressPrettyCount++;\n              prettySuppressed = true;\n              break;\n            }\n          }\n        }\n        r += '>' + this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref2 = node.children;\n        for (j = 0, len1 = ref2.length; j < len1; j++) {\n          child = ref2[j];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += this.indent(node, options, level) + '</' + node.name + '>';\n        if (prettySuppressed) {\n          options.suppressPrettyCount--;\n        }\n        r += this.endline(node, options, level);\n        options.state = WriterState.None;\n      }\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.writeChildNode = function(node, options, level) {\n      switch (node.type) {\n        case NodeType.CData:\n          return this.cdata(node, options, level);\n        case NodeType.Comment:\n          return this.comment(node, options, level);\n        case NodeType.Element:\n          return this.element(node, options, level);\n        case NodeType.Raw:\n          return this.raw(node, options, level);\n        case NodeType.Text:\n          return this.text(node, options, level);\n        case NodeType.ProcessingInstruction:\n          return this.processingInstruction(node, options, level);\n        case NodeType.Dummy:\n          return '';\n        case NodeType.Declaration:\n          return this.declaration(node, options, level);\n        case NodeType.DocType:\n          return this.docType(node, options, level);\n        case NodeType.AttributeDeclaration:\n          return this.dtdAttList(node, options, level);\n        case NodeType.ElementDeclaration:\n          return this.dtdElement(node, options, level);\n        case NodeType.EntityDeclaration:\n          return this.dtdEntity(node, options, level);\n        case NodeType.NotationDeclaration:\n          return this.dtdNotation(node, options, level);\n        default:\n          throw new Error(\"Unknown XML node type: \" + node.constructor.name);\n      }\n    };\n\n    XMLWriterBase.prototype.processingInstruction = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?';\n      options.state = WriterState.InsideTag;\n      r += node.target;\n      if (node.value) {\n        r += ' ' + node.value;\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.raw = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.text = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdAttList = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ATTLIST';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType;\n      if (node.defaultValueType !== '#DEFAULT') {\n        r += ' ' + node.defaultValueType;\n      }\n      if (node.defaultValue) {\n        r += ' \"' + node.defaultValue + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdElement = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ELEMENT';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name + ' ' + node.value;\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdEntity = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ENTITY';\n      options.state = WriterState.InsideTag;\n      if (node.pe) {\n        r += ' %';\n      }\n      r += ' ' + node.name;\n      if (node.value) {\n        r += ' \"' + node.value + '\"';\n      } else {\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n        if (node.nData) {\n          r += ' NDATA ' + node.nData;\n        }\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdNotation = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!NOTATION';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.pubID) {\n        r += ' PUBLIC \"' + node.pubID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.openNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.closeNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.openAttribute = function(att, options, level) {};\n\n    XMLWriterBase.prototype.closeAttribute = function(att, options, level) {};\n\n    return XMLWriterBase;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLDOMImplementation, XMLDocument, XMLDocumentCB, XMLStreamWriter, XMLStringWriter, assign, isFunction, ref;\n\n  ref = require('./Utility'), assign = ref.assign, isFunction = ref.isFunction;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLDocumentCB = require('./XMLDocumentCB');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  XMLStreamWriter = require('./XMLStreamWriter');\n\n  NodeType = require('./NodeType');\n\n  WriterState = require('./WriterState');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    var doc, root;\n    if (name == null) {\n      throw new Error(\"Root element needs a name.\");\n    }\n    options = assign({}, xmldec, doctype, options);\n    doc = new XMLDocument(options);\n    root = doc.element(name);\n    if (!options.headless) {\n      doc.declaration(options);\n      if ((options.pubID != null) || (options.sysID != null)) {\n        doc.dtd(options);\n      }\n    }\n    return root;\n  };\n\n  module.exports.begin = function(options, onData, onEnd) {\n    var ref1;\n    if (isFunction(options)) {\n      ref1 = [options, onData], onData = ref1[0], onEnd = ref1[1];\n      options = {};\n    }\n    if (onData) {\n      return new XMLDocumentCB(options, onData, onEnd);\n    } else {\n      return new XMLDocument(options);\n    }\n  };\n\n  module.exports.stringWriter = function(options) {\n    return new XMLStringWriter(options);\n  };\n\n  module.exports.streamWriter = function(stream, options) {\n    return new XMLStreamWriter(stream, options);\n  };\n\n  module.exports.implementation = new XMLDOMImplementation();\n\n  module.exports.nodeType = NodeType;\n\n  module.exports.writerState = WriterState;\n\n}).call(this);\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","module.exports = require(\"assert\");;","module.exports = require(\"child_process\");;","module.exports = require(\"crypto\");;","module.exports = require(\"events\");;","module.exports = require(\"fs\");;","module.exports = require(\"os\");;","module.exports = require(\"path\");;","module.exports = require(\"process\");;","module.exports = require(\"stream\");;","module.exports = require(\"string_decoder\");;","module.exports = require(\"timers\");;","module.exports = require(\"util\");;","module.exports = require(\"vscode\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import * as path from \"path\";\nimport {\n  commands,\n  Disposable,\n  ExtensionContext,\n  OutputChannel,\n  Uri,\n  window\n} from \"vscode\";\nimport { registerCommands } from \"./commands\";\nimport { ConstructorPolicy } from \"./common/types\";\nimport { CheckActiveEditor } from \"./contexts/checkActiveEditor\";\nimport { OpenRepositoryCount } from \"./contexts/openRepositoryCount\";\nimport { configuration } from \"./helpers/configuration\";\nimport { ItemLogProvider } from \"./historyView/itemLogProvider\";\nimport { RepoLogProvider } from \"./historyView/repoLogProvider\";\nimport * as messages from \"./messages\";\nimport { SourceControlManager } from \"./source_control_manager\";\nimport { Svn } from \"./svn\";\nimport { SvnFinder } from \"./svnFinder\";\nimport SvnProvider from \"./treeView/dataProviders/svnProvider\";\nimport { toDisposable } from \"./util\";\nimport { BranchChangesProvider } from \"./historyView/branchChangesProvider\";\nimport { IsSvn19orGreater } from \"./contexts/isSvn19orGreater\";\nimport { IsSvn18orGreater } from \"./contexts/isSvn18orGreater\";\nimport { tempSvnFs } from \"./temp_svn_fs\";\nimport { SvnFileSystemProvider } from \"./svnFileSystemProvider\";\n\nasync function init(\n  _context: ExtensionContext,\n  outputChannel: OutputChannel,\n  disposables: Disposable[]\n) {\n  const pathHint = configuration.get<string>(\"path\");\n  const svnFinder = new SvnFinder();\n\n  const info = await svnFinder.findSvn(pathHint);\n  const svn = new Svn({ svnPath: info.path, version: info.version });\n  const sourceControlManager = await new SourceControlManager(\n    svn,\n    ConstructorPolicy.Async\n  );\n\n  registerCommands(sourceControlManager, disposables);\n\n  disposables.push(\n    sourceControlManager,\n    tempSvnFs,\n    new SvnFileSystemProvider(sourceControlManager),\n    new SvnProvider(sourceControlManager),\n    new RepoLogProvider(sourceControlManager),\n    new ItemLogProvider(sourceControlManager),\n    new BranchChangesProvider(sourceControlManager),\n    new CheckActiveEditor(sourceControlManager),\n    new OpenRepositoryCount(sourceControlManager),\n    new IsSvn18orGreater(info.version),\n    new IsSvn19orGreater(info.version)\n  );\n\n  outputChannel.appendLine(`Using svn \"${info.version}\" from \"${info.path}\"`);\n\n  const onOutput = (str: string) => outputChannel.append(str);\n  svn.onOutput.addListener(\"log\", onOutput);\n  disposables.push(\n    toDisposable(() => svn.onOutput.removeListener(\"log\", onOutput))\n  );\n  disposables.push(toDisposable(messages.dispose));\n}\n\nasync function _activate(context: ExtensionContext, disposables: Disposable[]) {\n  const outputChannel = window.createOutputChannel(\"Svn\");\n  commands.registerCommand(\"svn.showOutput\", () => outputChannel.show());\n  disposables.push(outputChannel);\n\n  const showOutput = configuration.get<boolean>(\"showOutput\");\n\n  if (showOutput) {\n    outputChannel.show();\n  }\n\n  const tryInit = async () => {\n    try {\n      await init(context, outputChannel, disposables);\n    } catch (err) {\n      if (!/Svn installation not found/.test(err.message || \"\")) {\n        throw err;\n      }\n\n      const shouldIgnore =\n        configuration.get<boolean>(\"ignoreMissingSvnWarning\") === true;\n\n      if (shouldIgnore) {\n        return;\n      }\n\n      console.warn(err.message);\n      outputChannel.appendLine(err.message);\n      outputChannel.show();\n\n      const findSvnExecutable = \"Find SVN executable\";\n      const download = \"Download SVN\";\n      const neverShowAgain = \"Don't Show Again\";\n      const choice = await window.showWarningMessage(\n        \"SVN not found. Install it or configure it using the 'svn.path' setting.\",\n        findSvnExecutable,\n        download,\n        neverShowAgain\n      );\n\n      if (choice === findSvnExecutable) {\n        let filters: { [name: string]: string[] } | undefined;\n\n        // For windows, limit to executable files\n        if (path.sep === \"\\\\\") {\n          filters = {\n            svn: [\"exe\", \"bat\"]\n          };\n        }\n\n        const executable = await window.showOpenDialog({\n          canSelectFiles: true,\n          canSelectFolders: false,\n          canSelectMany: false,\n          filters\n        });\n\n        if (executable && executable[0]) {\n          const file = executable[0].fsPath;\n\n          outputChannel.appendLine(`Updated \"svn.path\" with \"${file}\"`);\n\n          await configuration.update(\"path\", file);\n\n          // Try Re-init after select the executable\n          await tryInit();\n        }\n      } else if (choice === download) {\n        commands.executeCommand(\n          \"vscode.open\",\n          Uri.parse(\"https://subversion.apache.org/packages.html\")\n        );\n      } else if (choice === neverShowAgain) {\n        await configuration.update(\"ignoreMissingSvnWarning\", true);\n      }\n    }\n  };\n\n  await tryInit();\n}\n\nexport async function activate(context: ExtensionContext) {\n  const disposables: Disposable[] = [];\n  context.subscriptions.push(\n    new Disposable(() => Disposable.from(...disposables).dispose())\n  );\n\n  await _activate(context, disposables).catch(err => console.error(err));\n}\n\n// this method is called when your extension is deactivated\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction deactivate() {}\nexports.deactivate = deactivate;\n"],"sourceRoot":""}