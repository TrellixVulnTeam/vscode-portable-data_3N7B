const a4_0x2e5e=["658865eTEAZZ","Cannot parse","colorCount","length","paletteColorCount","set"," failed to decode as bmp","lambda ","Cannot parse .ico files with > 1 color planes yet (","resource","Unexpected .bmp header size (","2ixqDNk","_data","fromCharCode","Unsupported .ico image entry color depth (","_colorCount","Assertion failure: "," yet"," !== ","getUint16","bitmapWidth","getUint8","headerSize","drawImage","floor","497284CkuXFX","pow","32-bit (png)","isReady","dataSize","Error","602908opYRQK","272219oRYEtP","setUint16","error","bitsPerPixel","buffer","bitmapHeight","format","height","dataOffset","createImageBitmap","Warning","all","Cannot open .icos containing 32-bit bitmaps with palettes yet (color count=","toRGBA","severity","byteSize","4387794KpxQSZ","Not enough pixel data (","-bit","map","_offset","1045603AwuDoq",") and BMP pixel data don`t have matching dimensions (",'Unexpected bitmap type "',"data","OffscreenCanvas","Offset (","push","getImageData","webpackChunkluna","BITMAPINFOHEADER color plane count must be 1","isArray","1bxjMZS","413362UVlCsw","subarray","getContext","imageCount","createElement","warn","getUint32","width"],a4_0xb646=function(t,e){return a4_0x2e5e[t-=416]},a4_0x3cc773=a4_0xb646;(function(t,e){const n=a4_0xb646;for(;;)try{if(625334==-parseInt(n(472))-parseInt(n(421))-parseInt(n(433))-parseInt(n(441))-parseInt(n(466))+parseInt(n(473))*-parseInt(n(452))+-parseInt(n(416))*-parseInt(n(432)))break;t.push(t.shift())}catch(e){t.push(t.shift())}})(a4_0x2e5e),(self[a4_0x3cc773(429)]=self.webpackChunkluna||[])[a4_0x3cc773(427)]([[586],{3586:(t,e,n)=>{"use strict";const a=a4_0x3cc773;n.r(e),n.d(e,{openIco:()=>l,parseDirectory:()=>d,parseHeader:()=>p});class r extends Error{constructor(t){const e=a4_0xb646;super(Array[e(431)](t)?t[e(419)]((t=>{return(e=t)[a4_0xb646(487)]+": "+e.message;var e})).join("\n"):t.message),this.problems=t}}const o={Info:console.info,[a(483)]:console[a(438)],[a(471)]:console[a(475)]};function i(t){const e=a;for(const n of t)o[n[e(487)]](n.message)}class s{constructor(t,e){const n=a;this[n(453)]=t,this[n(420)]=14+e.headerSize,this[n(456)]=n(445)in e?e.paletteColorCount:0,0===this[n(456)]&&(this[n(456)]=Math[n(467)](2,e.bitsPerPixel))}get[a(488)](){return 4*this[a(456)]}get[a(443)](){return this[a(456)]}get(t){const e=a;return new Uint8Array([this[e(453)][this[e(420)]+4*t+2],this._data[this[e(420)]+4*t+1],this[e(453)][this[e(420)]+4*t],this[e(453)][this._offset+4*t+3]])}}var c;function h(t,e,n){const r=a;if(t[r(462)](e)!==n)throw u(t[r(462)](e)+r(459)+n)}function f(t,e,n){const r=a;if(t[r(460)](e,!0)!==n)throw u(t.getUint16(e,!0)+r(459)+n)}function u(t){return new r({message:a(457)+t,severity:"Error"})}async function l(t){const e=a,n=[],r=new DataView(t.buffer);try{const o=function(t,e,n){const r=a,o=[];for(const n of e){const e=t.slice(n[r(481)],n.dataOffset+n[r(470)]);let a;const i=new Promise((t=>a=t)),s={width:n[r(440)],height:n[r(480)],data:new Uint8Array(0),format:""},c={resource:s,readyPromise:i,isReady:!1};w(n,e).then((t=>{const e=r;if(s[e(424)]=t[e(424)],0===s[e(440)]&&(s[e(440)]=t[e(440)]),0===s.height&&(s.height=t[e(480)]),s[e(479)]=t[e(479)],0!==n[e(440)]&&n[e(440)]!==s[e(440)]||0!==n[e(480)]&&n.height!==s.height)throw new Error("ICO entry ("+n.width+"x"+n[e(480)]+e(422)+c[e(450)][e(440)]+"x"+c[e(450)][e(480)]+")");a(c[e(450)]),c[e(469)]=!0})),o.push(c)}return o}(t,d(r,p(r),n));return i(n),Promise[e(484)](o)}catch(t){throw i(n),t}}function p(t){const e=a;return f(t,0,0),f(t,2,1),function(t,e,n){const r=a;if(!(t[r(460)](4,!0)>0))throw u(r(448)+t[r(460)](4,!0))}(t),{imageCount:t[e(460)](4,!0)}}function d(t,e,n){const o=a,i=[];let s,c,f,u=0,l=0,p=0,d=0,w=6,g=6+16*e[o(436)];for(;i[o(444)]<e[o(436)];){if(u=t[o(462)](w),l=t[o(462)](w+1),p=t[o(462)](w+2),h(t,w+3,0),d=t[o(460)](w+4,!0),d>1)throw new r({message:o(449)+d+")",severity:o(471)});if(s=t[o(460)](w+6,!0),0!==s&&1!==s&&4!==s&&8!==s&&24!==s&&32!==s)throw new r({message:o(455)+s+")",severity:"Error"});c=t[o(439)](w+8,!0),f=t.getUint32(w+12,!0),n&&g!==f&&n[o(427)]({message:o(426)+f+") was not expected value of "+(6+16*e[o(436)]),severity:o(483)}),g+=c,i[o(427)]({width:u,height:l,paletteColorCount:p,colorPlanes:d,bitsPerPixel:s,dataSize:c,dataOffset:f}),w+=16}return i}async function w(t,e,n){const o=a;try{return await async function(t){const e=a,n=new Blob([t]),r=await window[e(482)](n);let o;e(425)in window?o=new OffscreenCanvas(r.width,r[e(480)]):(o=document[e(437)]("canvas"),o[e(440)]=r.width,o.height=r.height);const i=o[e(435)]("2d");i[e(464)](r,0,0);const s=i[e(428)](0,0,r[e(440)],r.height);return{data:new Uint8Array(s[e(424)]),width:r[e(440)],height:r[e(480)],format:e(468)}}(e)}catch(n){try{return await async function(t,e,n){const o=a,i=new Uint8Array(14+t[o(444)]);i.set(t,14);const h=new DataView(i.buffer),f=function(t,e=14){const n=a,o=t[n(460)](e,!0);switch(o){case 40:return function(t,e){const n=a,o=t[n(460)](e+12,!0);if(1!==o)throw new r({message:n(430),severity:n(471)});return{type:1,headerSize:40,bitmapWidth:t[n(439)](e+4,!0),bitmapHeight:t[n(439)](e+8,!0),colorPlaneCount:o,bitsPerPixel:t[n(460)](e+14,!0),compression:t[n(439)](e+16,!0),imageSize:t.getUint32(e+20,!0),horizontalResolution:t[n(439)](e+24,!0),verticalResolution:t[n(439)](e+28,!0),paletteColorCount:t.getUint32(e+32,!0),importantColorCount:t.getUint32(e+36,!0)}}(t,e);case 12:case 16:case 52:case 56:case 64:case 108:case 124:throw new r({message:"Cannot parse bitmap DIB header of size "+o+n(458),severity:n(471)});default:throw new r({message:n(451)+o+")",severity:n(471)})}}(h);f.bitmapHeight===2*f[o(461)]&&h[o(474)](22,f[o(461)],!0);const u=f[o(476)]/8,l=f.bitmapWidth*(f.bitmapHeight/2),p=l*u;if(t.length<f[o(463)]+p)throw new r({message:o(417)+t.length+") to decode image, expected "+(f[o(463)]+p),severity:o(471)});let d;switch(f[o(476)]){case 1:case 4:case 8:d=function(t,e){const n=a,o=e[n(461)]*(e[n(478)]/2),i=g(e[n(461)]*e[n(476)],32),c=i/8,h=e[n(478)]/2*c;if(t.length<e[n(463)]+h)throw new r({message:n(417)+t[n(444)]+") to decode image, expected "+(e.headerSize+h),severity:n(471)});const f=new s(t,e),u=t.subarray(14+e[n(463)]+f[n(488)],14+e[n(463)]+f[n(488)]+h),l=new Uint8Array(4*o);let p=0,d=0,w=0;for(let t=0;t<e[n(478)]/2;t++){w=(e.bitmapHeight/2-t-1)*e[n(461)]*4;for(let a=0;a<e[n(461)];a++){switch(e[n(476)]){case 1:d=t*i+a;const r=7-d%8;p=u[Math.floor(d/8)]>>r&1;break;case 4:d=t*i/e[n(476)]+a,p=d%2==0?u[d/2]>>4:15&u[Math.floor(d/2)];break;case 8:d=t*c+a,p=u[d]}l[n(446)](f.get(p),w+4*a)}}return m(t,l,e,14+e[n(463)]+f[n(488)]+h),{data:l,width:e[n(461)],height:e[n(478)]}}(i,f);break;case 24:d=function(t,e,n,r){const o=a,i=t[o(434)](14+e[o(463)],14+e[o(463)]+r),s=new Uint8Array(4*n);let c=0,h=0;for(let t=0;t<e.bitmapHeight/2;t++){h=(e[o(478)]/2-t-1)*e[o(461)]*4;for(let n=0;n<e[o(461)];n++)c=3*(t*e.bitmapWidth+n),s[h+4*n]=i[c+2],s[h+4*n+1]=i[c+1],s[h+4*n+2]=i[c]}return m(t,s,e,14+e[o(463)]+r),{data:s,width:e[o(461)],height:e[o(478)]}}(i,f,l,p);break;case 32:d=function(t,e,n,o){const i=a,s=i(445)in e?e[i(445)]:0;if(s)throw new r({message:i(485)+s+")",severity:i(471)});const h=t[i(434)](14+e[i(463)],14+e[i(463)]+o);32===e[i(476)]&&c[i(486)](h,e[i(461)]*(e[i(478)]/2));const f=new Uint8Array(h),u=e.bitmapWidth*n;let l=0;for(let t=0;t<e[i(478)]/2;t++)l=e.bitmapHeight/2-(t+1),f[i(446)](h.subarray(l*u,(l+1)*u),t*u);return{data:f,width:e[i(461)],height:e.bitmapHeight}}(i,f,u,p);break;default:throw new Error("Unexpected bpp "+f[o(476)])}return{...d,format:f[o(476)]+o(418)}}(e)}catch(e){return console[o(475)](t[o(440)]+"x"+t[o(480)]+o(447),e),{data:new Uint8Array(0),width:0,height:0,format:o(442)}}}}function g(t,e){return Math.ceil(t/e)*e}function m(t,e,n,r){const o=a,i=g(n[o(461)],32),s=t.subarray(r,r+i*n[o(463)]/2);let c=0,h=0;for(let t=0;t<n[o(478)]/2;t++){const a=i*t/8;for(let r=0;r<n[o(461)];r++){const i=7-r%8;c=s[a+Math[o(465)](r/8)]>>i&1,0===c&&(h=(n[o(478)]/2-t-1)*n.bitmapWidth*4,e[h+4*r+3]=255)}}}(c||(c={}))[a(486)]=function(t,e){let n=0;const a=4*e;for(let e=0;e<a;e+=4)n=t[e],t[e]=t[e+2],t[e+2]=n}}}]);