const a8_0x1ddf=["run","historyService","_floodModeOption","176294YYvsUU","Fill","_color","multiply","onHistoryUpdateValue","currentLayer","value","event","9IFBnNK","register","undoColorData","normal","_toleranceOption","773903jgistd","edit","overlay","Flood Mode","34250cXMGkj","lighten","runAction","replace","webpackChunkluna","max","getCoordsFromEvent","length","data","indexList","softLight","linearBurn","exclusion","difference","8QjvQlN","327235etTolB","type","pointerDown","number","selectionService","name","containsCoord","Tolerance %","options","_onHistoryUpdateValue","string","contiguous","_selection","_operationName","1711070VeILyR","pointerUp","range","setValueFromHistoryChange","imageService","_layer","push","screen","_sc","_range","_value","runTask","Blend Mode","1CdQDsk","fire","fillContiguous","20589cdSRmT","5142yCjqex","_indexList","onUpdate","_onUpdate","_taskWorkerService","fill","viewportService","paletteService","linearDodgeAdd","39CMqLLv","taskWorkerService"],a8_0x4b23=function(t,s){return a8_0x1ddf[t-=426]},a8_0x1a5698=a8_0x4b23;(function(t,s){const e=a8_0x4b23;for(;;)try{if(410003===parseInt(e(491))+parseInt(e(499))*parseInt(e(477))+parseInt(e(476))*-parseInt(e(486))+-parseInt(e(427))+-parseInt(e(431))*parseInt(e(445))+parseInt(e(473))*parseInt(e(446))+parseInt(e(460)))break;t.push(t.shift())}catch(s){t.push(t.shift())}})(a8_0x1ddf),(self.webpackChunkluna=self[a8_0x1a5698(435)]||[])[a8_0x1a5698(466)]([[643],{9904:(t,s,e)=>{"use strict";const i=a8_0x1a5698;e.d(s,{rP:()=>o,bG:()=>a,Jp:()=>c,qv:()=>h});var n=e(1815),r=e(5120);class o extends r.JT{constructor(t,s,e){const i=a8_0x4b23;super(),this[i(451)]=t,this[i(454)]=s,this[i(470)]=e,this[i(447)]=i(456),this[i(455)]=this[i(500)](new n.v),this[i(495)]=this[i(455)].event,this[i(480)]=this.register(new n.v),this[i(479)]=this[i(480)][i(498)]}get[i(497)](){return this[i(470)]}set[i(497)](t){const s=i;this[s(470)]=t,this[s(480)].fire()}[i(463)](t){const s=i;this[s(470)]=t,this[s(455)][s(474)](t)}}class a extends o{constructor(){const t=i;super(t(472),[t(502),"darken","multiply",t(442),t(432),t(467),t(485),t(429),t(441),"difference",t(443)],"normal")}}class c extends o{constructor(){const t=i;super(t(472),[t(502),t(434),"darken",t(494),t(442),t(432),t(467),t(485),t(429),t(441),t(444),t(443)],t(502))}}class h extends r.JT{constructor(t,s,e,r){const o=i;super(),this[o(451)]=t,this._value=s,this.min=e,this[o(436)]=r,this.type=o(449),this[o(455)]=this[o(500)](new n.v),this[o(495)]=this[o(455)][o(498)],this[o(480)]=this[o(500)](new n.v),this[o(479)]=this[o(480)][o(498)]}get[i(497)](){return this[i(470)]}set[i(497)](t){const s=i;this[s(470)]=t,this._onUpdate[s(474)]()}[i(463)](t){const s=i;this[s(470)]=t,this._onHistoryUpdateValue[s(474)](t)}}},7643:(t,s,e)=>{"use strict";const i=a8_0x1a5698;e.r(s),e.d(s,{default:()=>l});var n=e(5120),r=e(6785);i(488);class o{constructor(t,s,e,n,r,o,a,c){const h=i;this[h(459)]=t,this[h(465)]=s,this[h(458)]=e,this._x=n,this._y=r,this[h(493)]=o,this._tolerance=a,this[h(481)]=c}async[i(488)](){const t=i;let s;await this[t(465)][t(428)]((async(e,i,n)=>{const r=t;return s=await this[r(481)][r(471)](r(475),{targetImage:{data:e,width:i,height:n},color:new Uint8Array(this[r(493)]),selection:this._selection,x:this._x,y:this._y,tolerance:this._tolerance}),s[r(462)]}));const e={colorData:s[t(501)],indexList:s[t(440)]},n={colorData:s.redoColorData,indexList:s[t(440)]};return new r.x(this[t(459)],this[t(465)],s[t(462)],e,n)}}var a=e(6495),c=e(9904);class h extends n.JT{constructor(t){const s=i;super(),this[s(468)]=t,this.id=s(482),this[s(490)]=new c.rP(s(430),[s(457),"global"],s(457)),this[s(426)]=new c.qv(s(453),0,0,100),this[s(454)]=[this[s(490)],this._toleranceOption]}[i(448)](t){const s=i;this[s(493)]=this._sc[s(484)].getColorFromPointerEvent(t)}[i(461)](t){const s=i;if(!this[s(493)])return;const[e,n]=this._sc[s(483)][s(437)](t);if(!this[s(468)][s(464)][s(452)](e,n)||!this[s(468)].selectionService[s(452)](e,n))return;const r=this[s(468)][s(464)][s(496)];if(!r)return;const c=this[s(426)][s(497)]/100*255;return"global"===this._floodModeOption.value?this._sc[s(489)][s(433)](new a.N(s(492),r,this._sc[s(450)][s(462)],e,n,this[s(493)],c,this[s(468)][s(487)])):this[s(468)][s(489)][s(433)](new o("Fill",r,this[s(468)].selectionService[s(462)],e,n,this[s(493)],c,this[s(468)][s(487)]))}}const l=h}}]);