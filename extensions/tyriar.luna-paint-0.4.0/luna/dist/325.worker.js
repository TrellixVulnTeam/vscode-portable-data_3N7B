const a1_0x24fb=['Invalid dimensions for image "',"92893BVwhqq","height","set","color",'" dimensions differ',"bottom","left","data","51967fhuCej","max","range","update","115fBKRre","abs","10XpLEYs","4102936tHLVvB","19QekyeH","targetImage","730372FcDDMz","SharedArrayBuffer"," x ","size","right","toFixed",'" dimensions are equal',"2tWpTNY",'" and "','Images "',"top","blendMode","4114jVnWJa","width","end","round","number","sqrt","219127KXHlZe","start","webpackChunkluna","824737aIRZJJ"],a1_0x402b=function(t,e){return a1_0x24fb[t-=406]},a1_0xd19be3=a1_0x402b;(function(t,e){const a=a1_0x402b;for(;;)try{if(596668===-parseInt(a(425))+-parseInt(a(435))*parseInt(a(443))+-parseInt(a(439))*parseInt(a(416))+parseInt(a(411))*parseInt(a(422))+parseInt(a(427))*-parseInt(a(441))-parseInt(a(445))+parseInt(a(442)))break;t.push(t.shift())}catch(e){t.push(t.shift())}})(a1_0x24fb),(self[a1_0xd19be3(424)]=self[a1_0xd19be3(424)]||[]).push([[325],{325:(t,e,a)=>{"use strict";a.r(e),a.d(e,{run:()=>s});var n=a(517),r=a(166),o=a(742);const s=(t,e,a)=>{const s=a1_0x402b;(0,o.ap)(a,"targetImage");const i=a[s(444)].data,f=a[s(444)][s(417)],d=a[s(415)],h=a[s(437)],u=a[s(430)],c=(0,r.Qf)(a.targetImage,a[s(437)]);for(let a=h[s(414)]+t[s(423)];a<h[s(414)]+t[s(418)];a++){for(let t=h[s(433)];t<h[s(408)];t++)(0,n.B)(d,i,4*(a*f+t),u,0);e[s(438)](+((a-t[s(423)])/t[s(407)])[s(409)](2))}return{redoData:(0,r.Qf)(a[s(444)],a[s(437)]),undoData:c}}},742:(t,e,a)=>{"use strict";function n(t,e){const a=a1_0x402b,n=t[e];if(n[a(417)]<1||n[a(428)]<1)throw new Error(a(426)+e+'": '+n[a(417)]+a(406)+n[a(428)])}function r(t,e,a){const n=a1_0x402b,r=t[e],o=t[a];if(r[n(417)]===o[n(417)]&&r[n(428)]===o[n(428)])throw new Error(n(413)+e+n(412)+a+n(410))}a.d(e,{ap:()=>n,TO:()=>r})},517:(t,e,a)=>{"use strict";const n=a1_0xd19be3;a.d(e,{B:()=>i});const r=new Float32Array(6);let o;const s={normal:(t,e)=>e,darken:(t,e)=>Math.min(t,e),multiply:(t,e)=>t*e,linearBurn:(t,e)=>Math.max(t+e-1,0),lighten:(t,e)=>Math[n(436)](t,e),screen:(t,e)=>1-(1-t)*(1-e),linearDodgeAdd:(t,e)=>Math.min(t+e,1),overlay:(t,e)=>t<.5?2*t*e:1-2*(1-t)*(1-e),softLight:(t,e)=>e<.5?2*t*e+t*t*(1-2*e):Math[n(421)](t)*(2*e-1)+2*t*(1-e),difference:(t,e)=>Math[n(440)](t-e),exclusion:(t,e)=>t+e-2*t*e};function i(t,e,a,i,d,h=e,u=a){const c=n;return r[0]=i[d+3]/255,0===r[0]?(e[a]=h[u],e[a+1]=h[u+1],e[a+2]=h[u+2],void(e[a+3]=h[u+3])):(r[1]=h[u+3]/255,0===r[1]?(e[a]=i[d],e[a+1]=i[d+1],e[a+2]=i[d+2],void(e[a+3]=i[d+3])):(o=s[t],r[3]=o(h[u]/255,i[d]/255),r[4]=o(h[u+1]/255,i[d+1]/255),r[5]=o(h[u+2]/255,i[d+2]/255),r[2]=r[0]+r[1]*(1-r[0]),e[a]=Math[c(419)](f(h[u]/255,r[1],i[d]/255,r[0],r[3])/r[2]*255),e[a+1]=Math.round(f(h[u+1]/255,r[1],i[d+1]/255,r[0],r[4])/r[2]*255),e[a+2]=Math[c(419)](f(h[u+2]/255,r[1],i[d+2]/255,r[0],r[5])/r[2]*255),void(e[a+3]=Math[c(419)](255*r[2]))))}function f(t,e,a,n,r){return(e-e*n)*t+(n-e*n)*a+e*n*r}},166:(t,e,a)=>{"use strict";function n(t,e){const a=a1_0x402b,n=e[a(432)]-e[a(414)],r=e[a(408)]-e[a(433)],o=new Uint8Array(r*n*4);let s=0,i=0;for(let f=0;f<n;f++)i=f+e.top,s=4*(i*t[a(417)]+e.left),o[a(429)](t[a(434)].subarray(s,s+4*r),f*r*4);return o}function r(t,e,a,n,r=!0){const o=a1_0x402b;if(!r&&e<n&&t<a)return{left:Math.round((a-t)/2),top:Math[o(419)]((n-e)/2),width:t,height:e};const s={left:0,top:0,width:a,height:n};if(e>t){const n=t/e;s[o(433)]=Math.round(a*(.5-n/2)),s[o(417)]=Math[o(419)](a*n)}else if(t>e){const a=e/t;s[o(414)]=Math.round(n*(.5-a/2)),s[o(428)]=Math[o(419)](n*a)}return s}a.d(e,{Qf:()=>n,M_:()=>r})}}]);