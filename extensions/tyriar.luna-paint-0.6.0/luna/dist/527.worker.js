const a18_0x4ce3=["7gQvkom","6791gbZBvM","right","toFixed","390775uiuSEg","start","1CqVZXk","83223kclpht","putImage","targetImage"," x ","sqrt",'": ',"top","abs","flipX","flipY","round","45SJjIgb","set","195FACDCR","left","height","266093QzlVig","width",'" dimensions are equal',"bottom","997fzkLqL","putRange","subarray","min","max","blend","83891zsDups","data",'Images "',"normal",", image = ","size","push","307423GzEsBe","replacedImage","putRange must equal to or less than putImage dimensions, range = ","1wTsLMI"],a18_0x4ed3=function(t,a){return a18_0x4ce3[t-=232]},a18_0x560856=a18_0x4ed3;(function(t,a){const e=a18_0x4ed3;for(;;)try{if(353191===parseInt(e(251))+parseInt(e(259))*-parseInt(e(261))+parseInt(e(273))*-parseInt(e(256))+parseInt(e(244))*parseInt(e(255))+parseInt(e(275))*-parseInt(e(238))+parseInt(e(262))+parseInt(e(254))*parseInt(e(234)))break;t.push(t.shift())}catch(a){t.push(t.shift())}})(a18_0x4ce3),(self.webpackChunkluna=self.webpackChunkluna||[])[a18_0x560856(250)]([[527],{527:(t,a,e)=>{"use strict";e.r(a),e.d(a,{run:()=>s});var n=e(517),r=e(742);const s=(t,a,e)=>{const s=a18_0x4ed3;if((0,r.ap)(e,s(264)),e[s(252)]&&(0,r.ap)(e,s(252)),e[s(239)][s(257)]-e[s(239)].left<e[s(263)][s(235)]||e[s(239)][s(237)]-e.putRange[s(268)]<e[s(263)][s(233)])throw new Error(s(253)+(e[s(239)][s(257)]-e[s(239)][s(232)])+s(265)+(e[s(239)].bottom-e[s(239)].top)+s(248)+e[s(263)][s(235)]+" x "+e.putImage[s(233)]);let o=0,i=0,u=0,d=0;const p=e[s(239)],g=Math[s(242)](p[s(232)],0),h=4*(Math[s(241)](p[s(257)],e[s(264)][s(235)])-g),c=p[s(232)]<0?-p[s(232)]:0,l=p[s(268)]<0?-p[s(268)]:0;let f=0,m=0;for(let r=t[s(260)];r<t.end;r++)if(f=p[s(268)]+r,m=e[s(271)]?f=p[s(268)]+(p[s(237)]-p.top-1)-r:f,!(f<0)){if(f>=e[s(264)][s(233)])return;if(o=4*(r*e[s(263)][s(235)]+c),i=4*(f*e.targetImage[s(235)]+g),u=4*(m*e[s(264)][s(235)]+g),e[s(252)]&&e[s(252)][s(245)].set(e[s(264)][s(245)][s(240)](i,i+4*e.replacedImage[s(235)]),(r-l)*e[s(252)][s(235)]*4),e[s(270)])for(d=0;d<h;d+=4)e[s(243)]?(0,n.B)(s(247),e.targetImage[s(245)],u+h-1-d,e[s(263)][s(245)],o+d):(e[s(264)][s(245)][u+h-4-d]=e[s(263)].data[o+d],e[s(264)][s(245)][u+h-4-d+1]=e[s(263)].data[o+d+1],e[s(264)].data[u+h-4-d+2]=e[s(263)].data[o+d+2],e.targetImage.data[u+h-4-d+3]=e.putImage.data[o+d+3]);else if(e[s(243)])for(d=0;d<h;d+=4)(0,n.B)(s(247),e[s(264)].data,u+d,e[s(263)][s(245)],o+d);else e.targetImage.data[s(274)](e[s(263)][s(245)].subarray(o,o+h),u);a.update(+((r-t.start)/t[s(249)])[s(258)](2))}}},742:(t,a,e)=>{"use strict";function n(t,a){const e=a18_0x4ed3,n=t[a];if(n.width<1||n.height<1)throw new Error('Invalid dimensions for image "'+a+e(267)+n[e(235)]+e(265)+n[e(233)])}function r(t,a,e){const n=a18_0x4ed3,r=t[a],s=t[e];if(r[n(235)]===s[n(235)]&&r.height===s[n(233)])throw new Error('Images "'+a+'" and "'+e+n(236))}e.d(a,{ap:()=>n,TO:()=>r})},517:(t,a,e)=>{"use strict";const n=a18_0x560856;e.d(a,{B:()=>i});const r=new Float32Array(6);let s;const o={normal:(t,a)=>a,darken:(t,a)=>Math[n(241)](t,a),multiply:(t,a)=>t*a,linearBurn:(t,a)=>Math[n(242)](t+a-1,0),lighten:(t,a)=>Math.max(t,a),screen:(t,a)=>1-(1-t)*(1-a),linearDodgeAdd:(t,a)=>Math[n(241)](t+a,1),overlay:(t,a)=>t<.5?2*t*a:1-2*(1-t)*(1-a),softLight:(t,a)=>a<.5?2*t*a+t*t*(1-2*a):Math[n(266)](t)*(2*a-1)+2*t*(1-a),difference:(t,a)=>Math[n(269)](t-a),exclusion:(t,a)=>t+a-2*t*a};function i(t,a,e,i,d,p=a,g=e){const h=n;return r[0]=i[d+3]/255,0===r[0]?(a[e]=p[g],a[e+1]=p[g+1],a[e+2]=p[g+2],void(a[e+3]=p[g+3])):(r[1]=p[g+3]/255,0===r[1]?(a[e]=i[d],a[e+1]=i[d+1],a[e+2]=i[d+2],void(a[e+3]=i[d+3])):(s=o[t],r[3]=s(p[g]/255,i[d]/255),r[4]=s(p[g+1]/255,i[d+1]/255),r[5]=s(p[g+2]/255,i[d+2]/255),r[2]=r[0]+r[1]*(1-r[0]),a[e]=Math.round(u(p[g]/255,r[1],i[d]/255,r[0],r[3])/r[2]*255),a[e+1]=Math.round(u(p[g+1]/255,r[1],i[d+1]/255,r[0],r[4])/r[2]*255),a[e+2]=Math.round(u(p[g+2]/255,r[1],i[d+2]/255,r[0],r[5])/r[2]*255),void(a[e+3]=Math[h(272)](255*r[2]))))}function u(t,a,e,n,r){return(a-a*n)*t+(n-a*n)*e+a*n*r}}}]);