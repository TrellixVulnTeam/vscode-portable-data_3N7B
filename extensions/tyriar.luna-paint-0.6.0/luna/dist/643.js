const a9_0x2da0=["Flood Mode","data","397bmmBtg","historyService","screen","contiguous","replace","difference","_toleranceOption","getColorFromPointerEvent","lighten","softLight","5167NFjIMm","runAction","_floodModeOption","_layer","399634tCoYcA","linearDodgeAdd","string","edit","onUpdate","fillContiguous","_selection","linearBurn","_indexList","_onHistoryUpdateValue","overlay","556137HkDkeu","darken","global","indexList","undoColorData","pointerUp","min","taskWorkerService","1996599iUfoOP","fill","imageService","_onUpdate","Fill","1uWqNtC","_range","onHistoryUpdateValue","45eSgBso","event","webpackChunkluna","25gycnqY","value","1PJNeQv","length","number","fire","_operationName","range","type","_color","selectionService","containsCoord","723051Ftxupj","_taskWorkerService","39823kQxekR","run","_value","exclusion","options","normal","_tolerance","max","1987npjjef","name","Blend Mode","_sc","imageFileId","multiply","register"],a9_0x473a=function(t,e){return a9_0x2da0[t-=122]},a9_0x27fce4=a9_0x473a;(function(t,e){const s=a9_0x473a;for(;;)try{if(546218===parseInt(s(131))*parseInt(s(196))+-parseInt(s(160))*parseInt(s(191))+parseInt(s(194))*-parseInt(s(133))-parseInt(s(175))+-parseInt(s(150))*parseInt(s(141))+parseInt(s(188))*parseInt(s(164))+parseInt(s(183)))break;t.push(t.shift())}catch(e){t.push(t.shift())}})(a9_0x2da0),(self[a9_0x27fce4(193)]=self[a9_0x27fce4(193)]||[]).push([[643],{9904:(t,e,s)=>{"use strict";const i=a9_0x27fce4;s.d(e,{rP:()=>o,bG:()=>a,Jp:()=>h,qv:()=>c});var r=s(1815),n=s(5120);class o extends n.JT{constructor(t,e,s){const i=a9_0x473a;super(),this[i(142)]=t,this.options=e,this[i(135)]=s,this[i(127)]=i(166),this[i(173)]=this[i(147)](new r.v),this[i(190)]=this[i(173)][i(192)],this[i(186)]=this[i(147)](new r.v),this[i(168)]=this[i(186)].event}get[i(195)](){return this[i(135)]}set value(t){const e=i;this[e(135)]=t,this[e(186)][e(124)]()}setValueFromHistoryChange(t){const e=i;this[e(135)]=t,this[e(173)][e(124)](t)}}class a extends o{constructor(){const t=i;super(t(143),[t(138),t(176),t(146),t(171),t(158),t(152),"linearDodgeAdd",t(174),t(159),"difference",t(136)],t(138))}}class h extends o{constructor(){const t=i;super(t(143),[t(138),t(154),t(176),t(146),t(171),t(158),"screen",t(165),"overlay",t(159),t(155),t(136)],t(138))}}class c extends n.JT{constructor(t,e,s,n){const o=i;super(),this.name=t,this[o(135)]=e,this[o(181)]=s,this[o(140)]=n,this[o(127)]=o(123),this[o(173)]=this.register(new r.v),this[o(190)]=this[o(173)][o(192)],this[o(186)]=this[o(147)](new r.v),this[o(168)]=this[o(186)][o(192)]}get value(){return this._value}set[i(195)](t){const e=i;this[e(135)]=t,this[e(186)][e(124)]()}setValueFromHistoryChange(t){this[i(135)]=t,this._onHistoryUpdateValue.fire(t)}}},7643:(t,e,s)=>{"use strict";const i=a9_0x27fce4;s.r(e),s.d(e,{default:()=>l});var r=s(5120),n=s(6785);class o{constructor(t,e,s,i,r,n,o,a){const h=a9_0x473a;this[h(125)]=t,this[h(163)]=e,this._selection=s,this._x=i,this._y=r,this[h(128)]=n,this[h(139)]=o,this[h(132)]=a}async[i(134)](){const t=i;let e;await this._layer[t(167)]((async(s,i,r)=>{const n=t;return e=await this._taskWorkerService.runTask(n(169),{targetImage:{data:s,width:i,height:r},color:new Uint8Array(this._color),selection:this[n(170)],x:this._x,y:this._y,tolerance:this[n(139)]}),e[n(126)]}));const s={colorData:e[t(179)],indexList:e[t(178)]},r={colorData:e.redoColorData,indexList:e.indexList};return new n.x(this[t(125)],this[t(163)][t(145)],this[t(163)].id,e[t(126)],s,r)}}var a=s(6495),h=s(9904);class c extends r.JT{constructor(t){const e=i;super(),this[e(144)]=t,this.id=e(184),this[e(162)]=new h.rP(e(148),[e(153),e(177)],e(153)),this[e(156)]=new h.qv("Tolerance %",0,0,100),this[e(137)]=[this[e(162)],this[e(156)]]}pointerDown(t){const e=i;this[e(128)]=this[e(144)].paletteService[e(157)](t)}[i(180)](t){const e=i;if(!this[e(128)])return;const[s,r]=this[e(144)].viewportService.getCoordsFromEvent(t);if(!this[e(144)].imageService[e(130)](s,r)||!this[e(144)][e(129)][e(130)](s,r))return;const n=this[e(144)][e(185)].currentLayer;if(!n)return;const h=this[e(156)][e(195)]/100*255;return this[e(162)][e(195)]===e(177)?this[e(144)].historyService[e(161)](new a.N(e(187),n,this[e(144)][e(129)].range,s,r,this[e(128)],h,this[e(144)][e(182)])):this[e(144)][e(151)].runAction(new o(e(187),n,this[e(144)][e(129)][e(126)],s,r,this[e(128)],h,this[e(144)].taskWorkerService))}}const l=c}}]);