const a22_0x3908=["41sQFbsY",'": '," x ","subarray",'" and "',"color","1ojDifQ","selection","push","height","length",'Invalid dimensions for image "',"929415CyeZzI",'" dimensions differ',"webpackChunkluna","47720AxTpIg","tolerance","252202yqwlHC","update","normal","620109scjJHs","targetImage","data","620124NUnUho","19100IAbAiZ","width","max","593573yiHLKe",'" dimensions are equal'],a22_0x41ce=function(n,t){return a22_0x3908[n-=130]},a22_0x48c8e5=a22_0x41ce;(function(n,t){const e=a22_0x41ce;for(;;)try{if(493053===-parseInt(e(157))+parseInt(e(131))+-parseInt(e(155))+parseInt(e(135))*-parseInt(e(140))+-parseInt(e(134))*-parseInt(e(146))+-parseInt(e(138))+parseInt(e(152)))break;n.push(n.shift())}catch(t){n.push(n.shift())}})(a22_0x3908),(self.webpackChunkluna=self[a22_0x48c8e5(154)]||[])[a22_0x48c8e5(148)]([[584],{5584:(n,t,e)=>{"use strict";e.r(t),e.d(t,{run:()=>c});var a=e(4371),r=e(1003),s=e(7742),o=e(7517);const c=(n,t,e)=>{const c=a22_0x41ce;(0,s.ap)(e,c(132));const f=e[c(132)][c(133)],h=e[c(132)][c(136)],l=e[c(132)][c(149)],x=e.x,d=e.y,p=4*(d*h+x),I=f[c(143)](p,p+4),w=e[c(156)]*e[c(156)]*4,_=(0,a.X$)(h*l*2,Math[c(137)](h,l));let g=0;_[g++]=x,_[g++]=d;const y=new Uint8Array(h*l);y[d*h+x]=1;const B=(0,a.X$)(h*l,h*l*4,!0);let R=0;const m=(0,r.Re)(x,d),A=(0,r.DI)(h,l),b=e[c(147)]||A;let C=0,k=0,v=0,D=0;for(;g>0;)k=_[--g],C=_[--g],v=k*h+C,D=4*v,H=f,U=D,j=I,((q=w)>0?(i[0]=j[0]-H[U],i[1]=j[1]-H[U+1],i[2]=j[2]-H[U+2],i[3]=j[3]-H[U+3],i[4]=(1+i[0]*i[0])*j[3]/256+(1+i[1]*i[1])*j[3]/256+(1+i[2]*i[2])*j[3]/256+i[3]*i[3],i[4]<=q):H[U]===j[0]&&H[U+1]===j[1]&&H[U+2]===j[2]&&H[U+3]===j[3])&&(B[R++]=D,(0,r.Hv)(m,C,k),(0,r.RB)(A,C+1,k)&&0===y[v+1]&&((0,r.RB)(b,C+1,k)&&(_[g++]=C+1,_[g++]=k),y[v+1]=1),(0,r.RB)(A,C-1,k)&&0===y[v-1]&&((0,r.RB)(b,C-1,k)&&(_[g++]=C-1,_[g++]=k),y[v-1]=1),(0,r.RB)(A,C,k+1)&&0===y[v+h]&&((0,r.RB)(b,C,k+1)&&(_[g++]=C,_[g++]=k+1),y[v+h]=1),(0,r.RB)(A,C,k-1)&&0===y[v-h]&&((0,r.RB)(b,C,k-1)&&(_[g++]=C,_[g++]=k-1),y[v-h]=1));var H,U,j,q;const E=B[c(143)](0,R);t[c(158)](.25);const L=u(f,E);t[c(158)](.5),function(n,t,e){const a=a22_0x41ce;let r=0;for(let s=0;s<t.length;s++)r=t[s],(0,o.B)(a(130),n,r,e,0)}(f,E,e[c(145)]),t[c(158)](.75);const Q=u(f,E);return t[c(158)](1),{indexList:E,undoColorData:L,redoColorData:Q,range:m}},i=new Int32Array(5);function u(n,t){const e=a22_0x41ce,a=new Uint8Array(new SharedArrayBuffer(4*t[e(150)]));for(let r=0;r<t[e(150)];r++)a[4*r]=n[t[r]],a[4*r+1]=n[t[r]+1],a[4*r+2]=n[t[r]+2],a[4*r+3]=n[t[r]+3];return a}},7742:(n,t,e)=>{"use strict";function a(n,t){const e=a22_0x41ce,a=n[t];if(a.width<1||a[e(149)]<1)throw new Error(e(151)+t+e(141)+a.width+e(142)+a[e(149)])}function r(n,t,e){const a=a22_0x41ce,r=n[t],s=n[e];if(r[a(136)]===s.width&&r[a(149)]===s.height)throw new Error('Images "'+t+a(144)+e+a(139))}e.d(t,{ap:()=>a,TO:()=>r})}}]);