const a4_0x12ce=["webpackChunkluna","selection","tolerance","right","length","228512sATKIf","bottom","1276194JtEwmZ","height","left","700098mwceyM","min",'Images "',"top","targetImage"," x ",'Invalid dimensions for image "',"max","pow","round","color","520231XHlymg","update","width","set","185RhGbSD","2frZKpl",'": ',"6105mlICDS","1zjhvJm","1126353tEEXTN","sqrt","data","Unrecognized array type","subarray","439913lkDPUA",'" and "','" dimensions are equal',"1scHvjn","push"],a4_0x3d58=function(t,n){return a4_0x12ce[t-=224]},a4_0x1d0061=a4_0x3d58;(function(t,n){const r=a4_0x3d58;for(;;)try{if(704817===parseInt(r(232))*parseInt(r(224))+parseInt(r(241))*parseInt(r(250))-parseInt(r(248))+parseInt(r(231))*parseInt(r(228))-parseInt(r(238))+parseInt(r(253))+-parseInt(r(229))*parseInt(r(233)))break;t.push(t.shift())}catch(n){t.push(t.shift())}})(a4_0x12ce),(self[a4_0x1d0061(243)]=self[a4_0x1d0061(243)]||[])[a4_0x1d0061(242)]([[299],{299:(t,n,r)=>{"use strict";function a(t,n,r=!1){const a=a4_0x3d58;return n<Math[a(261)](2,8)?r?new Uint8Array(new SharedArrayBuffer(t)):new Uint8Array(t):n<Math[a(261)](2,16)?r?new Uint16Array(new SharedArrayBuffer(2*t)):new Uint16Array(t):r?new Uint32Array(new SharedArrayBuffer(4*t)):new Uint32Array(t)}r.r(n),r.d(n,{run:()=>i});var e=r(3),o=r(742),s=r(517);const i=(t,n,r)=>{const i=a4_0x3d58;(0,o.ap)(r,i(257));const d=r[i(257)][i(235)],h=r[i(257)][i(226)],f=r.targetImage.height,l=r.x,p=r.y,x=4*(p*h+l),y=d[i(237)](x,x+4),m=r[i(245)]*r[i(245)]*4,w=a(h*f*2,Math[i(260)](h,f));let g=0;w[g++]=l,w[g++]=p;const I=new Uint8Array(h*f);I[p*h+l]=1;const _=a(h*f,h*f*4,!0);let M=0;const A=(0,e.Re)(l,p),B=(0,e.DI)(h,f),v=r[i(244)]||B;let R=0,b=0,U=0,D=0;for(;g>0;)b=w[--g],R=w[--g],U=b*h+R,D=4*U,S=d,k=D,E=y,((C=m)>0?(c[0]=E[0]-S[k],c[1]=E[1]-S[k+1],c[2]=E[2]-S[k+2],c[3]=E[3]-S[k+3],c[4]=(1+c[0]*c[0])*E[3]/256+(1+c[1]*c[1])*E[3]/256+(1+c[2]*c[2])*E[3]/256+c[3]*c[3],c[4]<=C):S[k]===E[0]&&S[k+1]===E[1]&&S[k+2]===E[2]&&S[k+3]===E[3])&&(_[M++]=D,(0,e.Hv)(A,R,b),(0,e.RB)(B,R+1,b)&&0===I[U+1]&&((0,e.RB)(v,R+1,b)&&(w[g++]=R+1,w[g++]=b),I[U+1]=1),(0,e.RB)(B,R-1,b)&&0===I[U-1]&&((0,e.RB)(v,R-1,b)&&(w[g++]=R-1,w[g++]=b),I[U-1]=1),(0,e.RB)(B,R,b+1)&&0===I[U+h]&&((0,e.RB)(v,R,b+1)&&(w[g++]=R,w[g++]=b+1),I[U+h]=1),(0,e.RB)(B,R,b-1)&&0===I[U-h]&&((0,e.RB)(v,R,b-1)&&(w[g++]=R,w[g++]=b-1),I[U-h]=1));var S,k,E,C;const H=_.subarray(0,M);n.update(.25);const T=u(d,H);n[i(225)](.5),function(t,n,r){let a=0;for(let e=0;e<n.length;e++)a=n[e],(0,s.B)("normal",t,a,r,0)}(d,H,r[i(263)]),n[i(225)](.75);const j=u(d,H);return n[i(225)](1),{indexList:H,undoColorData:T,redoColorData:j,range:A}},c=new Int32Array(5);function u(t,n){const r=a4_0x3d58,a=new Uint8Array(new SharedArrayBuffer(4*n[r(247)]));for(let e=0;e<n[r(247)];e++)a[4*e]=t[n[e]],a[4*e+1]=t[n[e]+1],a[4*e+2]=t[n[e]+2],a[4*e+3]=t[n[e]+3];return a}},742:(t,n,r)=>{"use strict";function a(t,n){const r=a4_0x3d58,a=t[n];if(a[r(226)]<1||a[r(251)]<1)throw new Error(r(259)+n+r(230)+a[r(226)]+r(258)+a[r(251)])}function e(t,n,r){const a=a4_0x3d58,e=t[n],o=t[r];if(e[a(226)]===o[a(226)]&&e[a(251)]===o[a(251)])throw new Error(a(255)+n+a(239)+r+a(240))}r.d(n,{ap:()=>a,TO:()=>e})},517:(t,n,r)=>{"use strict";const a=a4_0x1d0061;r.d(n,{B:()=>i});const e=new Float32Array(6);let o;const s={normal:(t,n)=>n,darken:(t,n)=>Math[a(254)](t,n),multiply:(t,n)=>t*n,linearBurn:(t,n)=>Math.max(t+n-1,0),lighten:(t,n)=>Math.max(t,n),screen:(t,n)=>1-(1-t)*(1-n),linearDodgeAdd:(t,n)=>Math.min(t+n,1),overlay:(t,n)=>t<.5?2*t*n:1-2*(1-t)*(1-n),softLight:(t,n)=>n<.5?2*t*n+t*t*(1-2*n):Math[a(234)](t)*(2*n-1)+2*t*(1-n),difference:(t,n)=>Math.abs(t-n),exclusion:(t,n)=>t+n-2*t*n};function i(t,n,r,i,u,d=n,h=r){const f=a;return e[0]=i[u+3]/255,0===e[0]?(n[r]=d[h],n[r+1]=d[h+1],n[r+2]=d[h+2],void(n[r+3]=d[h+3])):(e[1]=d[h+3]/255,0===e[1]?(n[r]=i[u],n[r+1]=i[u+1],n[r+2]=i[u+2],void(n[r+3]=i[u+3])):(o=s[t],e[3]=o(d[h]/255,i[u]/255),e[4]=o(d[h+1]/255,i[u+1]/255),e[5]=o(d[h+2]/255,i[u+2]/255),e[2]=e[0]+e[1]*(1-e[0]),n[r]=Math[f(262)](c(d[h]/255,e[1],i[u]/255,e[0],e[3])/e[2]*255),n[r+1]=Math[f(262)](c(d[h+1]/255,e[1],i[u+1]/255,e[0],e[4])/e[2]*255),n[r+2]=Math[f(262)](c(d[h+2]/255,e[1],i[u+2]/255,e[0],e[5])/e[2]*255),void(n[r+3]=Math[f(262)](255*e[2]))))}function c(t,n,r,a,e){return(n-n*a)*t+(a-n*a)*r+n*a*e}},3:(t,n,r)=>{"use strict";function a(t,n){return{left:t,top:n,right:t+1,bottom:n+1}}function e(t,n){return{left:0,top:0,right:t,bottom:n}}function o(t,n,r){const a=a4_0x3d58;if(function(t){const n=a4_0x3d58;return t.left===t[n(246)]||t[n(256)]===t[n(249)]}(t))return t[a(252)]=n,t[a(246)]=n+1,t[a(256)]=r,void(t[a(249)]=r+1);t[a(252)]=Math[a(254)](t[a(252)],n),t[a(256)]=Math[a(254)](t[a(256)],r),t[a(246)]=Math[a(260)](t[a(246)],n+1),t[a(249)]=Math[a(260)](t.bottom,r+1)}function s(t,n,r){const a=a4_0x3d58;return n>=t[a(252)]&&n<t.right&&r>=t[a(256)]&&r<t[a(249)]}r.d(n,{Re:()=>a,DI:()=>e,Hv:()=>o,RB:()=>s})}}]);