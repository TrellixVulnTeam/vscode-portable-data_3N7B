const a5_0x4134=["width","selection","update","length","1294281vEFdlf","normal","subarray","511AIWNyH","SharedArrayBuffer","number","74022lcxkVz","webpackChunkluna","abs",'Images "',"2102VImGZD",'Invalid dimensions for image "',"toFixed","data",'": ',"sqrt","387193lSIOrp","targetImage","bottom","color","65483eofOVa",'" and "',"2HqUKhs","set","39UIwPby","max","1HlQxIY","right","round","883692qRKVbU","389149wlyJxD","height","min","push","left","top",'" dimensions are equal',"slice"],a5_0x2fbc=function(t,n){return a5_0x4134[t-=245]},a5_0x4cb5d1=a5_0x2fbc;(function(t,n){const e=a5_0x2fbc;for(;;)try{if(684955===-parseInt(e(260))+-parseInt(e(253))*parseInt(e(247))+-parseInt(e(261))*parseInt(e(257))-parseInt(e(273))+parseInt(e(251))+parseInt(e(283))*parseInt(e(276))+parseInt(e(255))*parseInt(e(279)))break;t.push(t.shift())}catch(n){t.push(t.shift())}})(a5_0x4134),(self.webpackChunkluna=self[a5_0x4cb5d1(280)]||[])[a5_0x4cb5d1(264)]([[257],{257:(t,n,e)=>{"use strict";e.r(n),e.d(n,{run:()=>i});var r=e(517),a=e(166),o=e(3),c=e(742);const i=(t,n,e)=>{const i=a5_0x2fbc;(0,c.ap)(e,"targetImage");const s=e[i(248)][i(286)],u=e[i(248)][i(269)],h=e[i(248)][i(262)],l=e[i(250)],d=4*(e.y*u+e.x),p=s[i(275)](d,d+4)[i(268)](),x=e[i(270)]||(0,o.DI)(u,h),b=e.tolerance*e.tolerance*4,I=(0,a.Qf)(e[i(248)],x);if(n.update(.1),e[i(270)]){const t=Math.ceil(x[i(249)]+(x[i(249)]-x.top)*(2/8));let e=0;for(let a=x[i(266)];a<x[i(249)];a++){for(let t=x[i(265)];t<x[i(258)];t++)e=4*(a*u+t),f(s,e,p,b)&&(0,r.B)(i(274),s,e,l,0);n[i(271)](+((a-x[i(266)])/t).toFixed(2)+.1)}}else{const t=Math.ceil(1.25*s[i(272)]);for(let e=0;e<s.length;e+=4)f(s,e,p,b)&&(0,r.B)(i(274),s,e,l,0),e%5e3==0&&n[i(271)](+(e/t)[i(285)](2)+.1)}return n[i(271)](.9),{undoData:I,redoData:(0,a.Qf)(e[i(248)],x),range:x}},s=new Int32Array(5);function f(t,n,e,r){return r>0?(s[0]=e[0]-t[n],s[1]=e[1]-t[n+1],s[2]=e[2]-t[n+2],s[3]=e[3]-t[n+3],s[4]=(1+s[0]*s[0])*e[3]/256+(1+s[1]*s[1])*e[3]/256+(1+s[2]*s[2])*e[3]/256+s[3]*s[3],s[4]<=r):t[n]===e[0]&&t[n+1]===e[1]&&t[n+2]===e[2]&&t[n+3]===e[3]}},742:(t,n,e)=>{"use strict";function r(t,n){const e=a5_0x2fbc,r=t[n];if(r[e(269)]<1||r[e(262)]<1)throw new Error(e(284)+n+e(245)+r[e(269)]+" x "+r[e(262)])}function a(t,n,e){const r=a5_0x2fbc,a=t[n],o=t[e];if(a[r(269)]===o[r(269)]&&a[r(262)]===o[r(262)])throw new Error(r(282)+n+r(252)+e+r(267))}e.d(n,{ap:()=>r,TO:()=>a})},517:(t,n,e)=>{"use strict";const r=a5_0x4cb5d1;e.d(n,{B:()=>i});const a=new Float32Array(6);let o;const c={normal:(t,n)=>n,darken:(t,n)=>Math[r(263)](t,n),multiply:(t,n)=>t*n,linearBurn:(t,n)=>Math[r(256)](t+n-1,0),lighten:(t,n)=>Math.max(t,n),screen:(t,n)=>1-(1-t)*(1-n),linearDodgeAdd:(t,n)=>Math.min(t+n,1),overlay:(t,n)=>t<.5?2*t*n:1-2*(1-t)*(1-n),softLight:(t,n)=>n<.5?2*t*n+t*t*(1-2*n):Math[r(246)](t)*(2*n-1)+2*t*(1-n),difference:(t,n)=>Math[r(281)](t-n),exclusion:(t,n)=>t+n-2*t*n};function i(t,n,e,i,f,u=n,h=e){const l=r;return a[0]=i[f+3]/255,0===a[0]?(n[e]=u[h],n[e+1]=u[h+1],n[e+2]=u[h+2],void(n[e+3]=u[h+3])):(a[1]=u[h+3]/255,0===a[1]?(n[e]=i[f],n[e+1]=i[f+1],n[e+2]=i[f+2],void(n[e+3]=i[f+3])):(o=c[t],a[3]=o(u[h]/255,i[f]/255),a[4]=o(u[h+1]/255,i[f+1]/255),a[5]=o(u[h+2]/255,i[f+2]/255),a[2]=a[0]+a[1]*(1-a[0]),n[e]=Math[l(259)](s(u[h]/255,a[1],i[f]/255,a[0],a[3])/a[2]*255),n[e+1]=Math[l(259)](s(u[h+1]/255,a[1],i[f+1]/255,a[0],a[4])/a[2]*255),n[e+2]=Math[l(259)](s(u[h+2]/255,a[1],i[f+2]/255,a[0],a[5])/a[2]*255),void(n[e+3]=Math.round(255*a[2]))))}function s(t,n,e,r,a){return(n-n*r)*t+(r-n*r)*e+n*r*a}},166:(t,n,e)=>{"use strict";function r(t,n){const e=a5_0x2fbc,r=n[e(249)]-n.top,a=n[e(258)]-n.left,o=new Uint8Array(a*r*4);let c=0,i=0;for(let s=0;s<r;s++)i=s+n[e(266)],c=4*(i*t[e(269)]+n[e(265)]),o[e(254)](t[e(286)][e(275)](c,c+4*a),s*a*4);return o}function a(t,n,e,r,a=!0){const o=a5_0x2fbc;if(!a&&n<r&&t<e)return{left:Math.round((e-t)/2),top:Math.round((r-n)/2),width:t,height:n};const c={left:0,top:0,width:e,height:r};if(n>t){const r=t/n;c[o(265)]=Math[o(259)](e*(.5-r/2)),c[o(269)]=Math[o(259)](e*r)}else if(t>n){const e=n/t;c[o(266)]=Math.round(r*(.5-e/2)),c[o(262)]=Math.round(r*e)}return c}e.d(n,{Qf:()=>r,M_:()=>a})},3:(t,n,e)=>{"use strict";function r(t,n){return{left:t,top:n,right:t+1,bottom:n+1}}function a(t,n){return{left:0,top:0,right:t,bottom:n}}function o(t,n,e){const r=a5_0x2fbc;if(function(t){const n=a5_0x2fbc;return t.left===t.right||t[n(266)]===t[n(249)]}(t))return t.left=n,t.right=n+1,t[r(266)]=e,void(t.bottom=e+1);t[r(265)]=Math[r(263)](t[r(265)],n),t[r(266)]=Math[r(263)](t[r(266)],e),t[r(258)]=Math[r(256)](t[r(258)],n+1),t[r(249)]=Math[r(256)](t[r(249)],e+1)}function c(t,n,e){const r=a5_0x2fbc;return n>=t[r(265)]&&n<t.right&&e>=t.top&&e<t[r(249)]}e.d(n,{Re:()=>r,DI:()=>a,Hv:()=>o,RB:()=>c})}}]);