const a1_0x4075=["abs","47qYsEQG","985521JDAWpG","101668oVaZVS","top"," x ","round","min","start","left","targetImage","3781KaezIL","100839FEZoGU","6hQPHTu","toFixed",'Invalid dimensions for image "',"4TMwcNU","width",'" and "','Images "',"right","set","webpackChunkluna","number","color",'": ',"max","867744IjFpkj","101215uGwUHz","112771iTSHoh","data","blendMode","range",'" dimensions differ',"push","height"],a1_0x5175=function(t,a){return a1_0x4075[t-=281]},a1_0x3c176a=a1_0x5175;(function(t,a){const n=a1_0x5175;for(;;)try{if(614090===parseInt(n(306))*-parseInt(n(283))+-parseInt(n(301))*parseInt(n(291))-parseInt(n(282))+parseInt(n(292))+parseInt(n(281))+parseInt(n(302))+parseInt(n(303))*-parseInt(n(293)))break;t.push(t.shift())}catch(a){t.push(t.shift())}})(a1_0x4075),(self[a1_0x3c176a(312)]=self.webpackChunkluna||[])[a1_0x3c176a(288)]([[325],{325:(t,a,n)=>{"use strict";n.r(a),n.d(a,{run:()=>s});var e=n(517),r=n(166),o=n(742);const s=(t,a,n)=>{const s=a1_0x5175;(0,o.ap)(n,s(300));const i=n[s(300)][s(284)],h=n[s(300)].width,c=n[s(285)],u=n[s(286)],d=n[s(314)],f=(0,r.Qf)(n.targetImage,n[s(286)]);for(let n=u.top+t[s(298)];n<u.top+t.end;n++){for(let t=u[s(299)];t<u[s(310)];t++)(0,e.B)(c,i,4*(n*h+t),d,0);a.update(+((n-t.start)/t.size)[s(304)](2))}return{redoData:(0,r.Qf)(n[s(300)],n.range),undoData:f}}},742:(t,a,n)=>{"use strict";function e(t,a){const n=a1_0x5175,e=t[a];if(e[n(307)]<1||e[n(289)]<1)throw new Error(n(305)+a+n(315)+e.width+n(295)+e[n(289)])}function r(t,a,n){const e=a1_0x5175,r=t[a],o=t[n];if(r[e(307)]===o[e(307)]&&r[e(289)]===o[e(289)])throw new Error(e(309)+a+e(308)+n+'" dimensions are equal')}n.d(a,{ap:()=>e,TO:()=>r})},517:(t,a,n)=>{"use strict";const e=a1_0x3c176a;n.d(a,{B:()=>i});const r=new Float32Array(6);let o;const s={normal:(t,a)=>a,darken:(t,a)=>Math[e(297)](t,a),multiply:(t,a)=>t*a,linearBurn:(t,a)=>Math[e(316)](t+a-1,0),lighten:(t,a)=>Math[e(316)](t,a),screen:(t,a)=>1-(1-t)*(1-a),linearDodgeAdd:(t,a)=>Math[e(297)](t+a,1),overlay:(t,a)=>t<.5?2*t*a:1-2*(1-t)*(1-a),softLight:(t,a)=>a<.5?2*t*a+t*t*(1-2*a):Math.sqrt(t)*(2*a-1)+2*t*(1-a),difference:(t,a)=>Math[e(290)](t-a),exclusion:(t,a)=>t+a-2*t*a};function i(t,a,n,i,c,u=a,d=n){const f=e;return r[0]=i[c+3]/255,0===r[0]?(a[n]=u[d],a[n+1]=u[d+1],a[n+2]=u[d+2],void(a[n+3]=u[d+3])):(r[1]=u[d+3]/255,0===r[1]?(a[n]=i[c],a[n+1]=i[c+1],a[n+2]=i[c+2],void(a[n+3]=i[c+3])):(o=s[t],r[3]=o(u[d]/255,i[c]/255),r[4]=o(u[d+1]/255,i[c+1]/255),r[5]=o(u[d+2]/255,i[c+2]/255),r[2]=r[0]+r[1]*(1-r[0]),a[n]=Math.round(h(u[d]/255,r[1],i[c]/255,r[0],r[3])/r[2]*255),a[n+1]=Math[f(296)](h(u[d+1]/255,r[1],i[c+1]/255,r[0],r[4])/r[2]*255),a[n+2]=Math[f(296)](h(u[d+2]/255,r[1],i[c+2]/255,r[0],r[5])/r[2]*255),void(a[n+3]=Math[f(296)](255*r[2]))))}function h(t,a,n,e,r){return(a-a*e)*t+(e-a*e)*n+a*e*r}},166:(t,a,n)=>{"use strict";function e(t,a){const n=a1_0x5175,e=a.bottom-a[n(294)],r=a[n(310)]-a[n(299)],o=new Uint8Array(r*e*4);let s=0,i=0;for(let h=0;h<e;h++)i=h+a[n(294)],s=4*(i*t[n(307)]+a[n(299)]),o[n(311)](t[n(284)].subarray(s,s+4*r),h*r*4);return o}function r(t,a,n,e,r=!0){const o=a1_0x5175;if(!r&&a<e&&t<n)return{left:Math[o(296)]((n-t)/2),top:Math[o(296)]((e-a)/2),width:t,height:a};const s={left:0,top:0,width:n,height:e};if(a>t){const e=t/a;s[o(299)]=Math[o(296)](n*(.5-e/2)),s.width=Math[o(296)](n*e)}else if(t>a){const n=a/t;s[o(294)]=Math[o(296)](e*(.5-n/2)),s[o(289)]=Math.round(e*n)}return s}n.d(a,{Qf:()=>e,M_:()=>r})}}]);