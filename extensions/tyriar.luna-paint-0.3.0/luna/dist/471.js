const a5_0x5c20=["normal","#fff","lighten","imageService","Sampling","primary","bottom","18rXHMdu","pointerMove","buttons","range","onUpdate","64apjzHl","createElementNS","toString","min","event","onRequestRender","Blend Mode","1.1","_updateOutline","_container","5 x 5 Average","_samplingOption","multiply","1208zMBMcm","clientHeight","_svgPath","#000","Point","containsCoord","pointerDown","register","_lastCoord","_outlineModel","options","zoom","13sXnvlg","_svg","_imageService","paletteService","_setColor","string","_viewportService","69rYYMFH","stroke","_model","block","absolute","setValueFromHistoryChange","webpackChunkluna","softLight","linearDodgeAdd","_svgInnerPath","colorPicker","7098ggTZJF","101 x 101 Average","currentLayer","setAttribute","replace"," v-","_onUpdate","display","151975QVFxpX","_value","difference","_sc","none","get","http://www.w3.org/2000/svg","append","round","fill","name","fire","41309bBCkFU","onHistoryUpdateValue","appendChild","height","value","strokeWidth","screen","right","push","width","pointerUp","545087IWUNXg","3dxVnJE","style","left","131630cEozAz","linearBurn","removeChild","max","_onHistoryUpdateValue","order","top","10299IwiBpP","3 x 3 Average","11 x 11 Average","_isPointerDown","viewportService","createDomRenderProgram"," h-","getCoordsFromEvent","position","data","_onRequestRender","path","31 x 31 Average","overlay","exclusion"],a5_0x13ae=function(t,s){return a5_0x5c20[t-=479]},a5_0x1852c7=a5_0x13ae;(function(t,s){const e=a5_0x13ae;for(;;)try{if(446802==parseInt(e(584))*-parseInt(e(490))+parseInt(e(522))*-parseInt(e(498))-parseInt(e(510))+parseInt(e(479))*-parseInt(e(532))-parseInt(e(521))+parseInt(e(572))*-parseInt(e(559))+-parseInt(e(525))*-parseInt(e(554)))break;t.push(t.shift())}catch(s){t.push(t.shift())}})(a5_0x5c20),(self[a5_0x1852c7(485)]=self[a5_0x1852c7(485)]||[])[a5_0x1852c7(518)]([[471],{3315:(t,s,e)=>{"use strict";e.d(s,{d:()=>r});var i=e(5120),n=e(1674);class r extends i.JT{constructor(t,s,e,i){const r=a5_0x13ae;super(),this._container=t,this[r(586)]=s,this[r(590)]=e,this[r(481)]=i,this[r(530)]=2,this[r(585)]=document[r(560)](n.q,"svg"),this[r(585)][r(493)]("version",r(566)),this[r(585)][r(523)][r(540)]=r(483),this[r(488)]=document[r(560)](n.q,r(543)),this[r(488)].style[r(480)]=r(548),this[r(488)][r(523)][r(515)]="1",this[r(488)][r(523)][r(507)]=r(502),this[r(574)]=document[r(560)](n.q,r(543)),this[r(574)][r(523)][r(480)]=r(575),this[r(574)].style[r(515)]="1",this[r(574)][r(523)][r(507)]=r(502),this[r(585)][r(505)](this[r(574)],this[r(488)]),this[r(568)][r(512)](this._svg),this[r(579)]({dispose:()=>this._container[r(527)](this[r(585)])})}render(){const t=a5_0x13ae,s=this[t(481)][t(557)],e=this[t(590)];if(!s||e[t(583)]<4)return void(this[t(585)][t(523)][t(497)]=t(502));this[t(585)][t(523)][t(497)]=t(482);const i=this._imageService.currentLayer;if(!i)return;const n=Math[t(506)](this[t(568)].clientWidth/2)-i[t(519)]/2*e[t(583)]+e.x*e[t(583)],r=Math[t(506)](this[t(568)][t(573)]/2)-i[t(513)]/2*e.zoom+e.y*e[t(583)],o=(s[t(517)]-s[t(524)])*e[t(583)],h=(s[t(553)]-s[t(531)])*e.zoom;this[t(585)][t(523)][t(524)]=n+s[t(524)]*e.zoom-2+"px",this[t(585)].style[t(531)]=r+s[t(531)]*e[t(583)]-2+"px",this[t(585)][t(493)]("width",(o+5)[t(561)]()),this[t(585)].setAttribute(t(513),(h+5).toString()),this._svgInnerPath[t(493)]("d","M1.5 1.5 h"+(o+2)+" v"+(h+2)+" h-"+(o+2)+" v-"+(h+2)),this[t(574)][t(493)]("d","M0.5 0.5 h"+(o+4)+" v"+(h+4)+t(538)+(o+4)+t(495)+(h+4))}}},9904:(t,s,e)=>{"use strict";const i=a5_0x1852c7;e.d(s,{rP:()=>o,bG:()=>h,Jp:()=>a,qv:()=>c});var n=e(1815),r=e(5120);class o extends r.JT{constructor(t,s,e){const i=a5_0x13ae;super(),this[i(508)]=t,this[i(582)]=s,this[i(499)]=e,this.type=i(589),this[i(529)]=this.register(new n.v),this.onHistoryUpdateValue=this._onHistoryUpdateValue[i(563)],this[i(496)]=this[i(579)](new n.v),this.onUpdate=this[i(496)][i(563)]}get[i(514)](){return this[i(499)]}set[i(514)](t){this[i(499)]=t,this._onUpdate.fire()}[i(484)](t){const s=i;this._value=t,this[s(529)][s(509)](t)}}class h extends o{constructor(){const t=i;super(t(565),["normal","darken",t(571),t(526),t(549),"screen",t(487),t(545),t(486),t(500),t(546)],"normal")}}class a extends o{constructor(){const t=i;super(t(565),["normal",t(494),"darken",t(571),t(526),"lighten",t(516),t(487),t(545),t(486),t(500),t(546)],t(547))}}class c extends r.JT{constructor(t,s,e,r){const o=i;super(),this[o(508)]=t,this[o(499)]=s,this[o(562)]=e,this.max=r,this.type="number",this[o(529)]=this[o(579)](new n.v),this[o(511)]=this._onHistoryUpdateValue.event,this[o(496)]=this[o(579)](new n.v),this[o(558)]=this._onUpdate[o(563)]}get[i(514)](){return this[i(499)]}set[i(514)](t){const s=i;this[s(499)]=t,this[s(496)][s(509)]()}[i(484)](t){const s=i;this[s(499)]=t,this[s(529)].fire(t)}}},6471:(t,s,e)=>{"use strict";const i=a5_0x1852c7;e.r(s),e.d(s,{default:()=>l});var n=e(1815),r=e(5120),o=e(3315),h=e(9904);const a=new Map([["Point",0],[i(533),1],[i(569),2],[i(534),5],[i(544),15],["51 x 51 Average",25],[i(491),50]]);class c extends r.JT{constructor(t){const s=i;super(),this[s(501)]=t,this.id=s(489),this._samplingOption=new h.rP(s(551),[s(576),s(533),s(569),"11 x 11 Average",s(544),"51 x 51 Average","101 x 101 Average"],s(576)),this.options=[this._samplingOption],this[s(581)]={range:void 0},this._onRequestRender=this[s(579)](new n.v),this[s(564)]=this._onRequestRender[s(563)]}[i(537)](t){const s=i;return new o.d(t,this[s(501)].imageService,this._sc.viewportService,this[s(581)])}[i(578)](t){const s=i;if(!this[s(501)][s(550)][s(492)])return;this[s(535)]=!0;const e=this[s(501)][s(536)][s(539)](t);this[s(567)](e),this[s(501)][s(550)][s(577)](e[0],e[1])&&this[s(588)](e,t),this[s(580)]=e}[i(520)](){const t=i;this._sc.imageService[t(492)]&&(this[t(535)]=!1,this[t(580)]=void 0)}[i(555)](t){const s=i;if(!this._sc.imageService[s(492)])return;const e=this._sc[s(536)][s(539)](t);this[s(567)](e),this[s(535)]&&this[s(580)]&&(this[s(501)][s(550)].containsCoord(e[0],e[1])&&(this._lastCoord[0]!==e[0]||this._lastCoord[1]!==e[1])&&this[s(588)](e,t),this[s(580)]=e)}[i(567)](t){const s=i;if(this._sc[s(550)][s(492)]&&(this._outlineModel[s(557)]?.[s(524)]!==t[0]||this[s(581)][s(557)]?.[s(531)]!==t[1])){if(this[s(501)].imageService[s(577)](t[0],t[1])){const e=a[s(503)](this[s(570)][s(514)]);this._outlineModel[s(557)]={left:t[0]-e,top:t[1]-e,right:t[0]+e+1,bottom:t[1]+e+1}}else this[s(581)][s(557)]=void 0;this[s(542)][s(509)]()}}_setColor(t,s){const e=i,n=this[e(501)].imageService[e(492)];if(!n)return;const r=n[e(541)];let o;if(this[e(570)].value===e(576)){const s=4*(t[1]*n[e(519)]+t[0]);o=new Float32Array([r[s],r[s+1],r[s+2],r[s+3]])}else{const s=a[e(503)](this[e(570)][e(514)]);let i=0,h=0,c=0,l=0;const d=Math[e(528)](t[0]-s,0),p=Math[e(528)](t[1]-s,0),u=Math[e(562)](t[0]+s,n.width-1),v=Math[e(562)](t[1]+s,n[e(513)]-1);let _=0;for(let t=p;t<=v;t++)for(let s=d;s<=u;s++)_=4*(t*n[e(519)]+s),i+=r[_],h+=r[_+1],c+=r[_+2],l+=r[_+3];const g=(u-d+1)*(v-p+1);o=new Float32Array([Math[e(506)](i/g),Math[e(506)](h/g),Math[e(506)](c/g),Math.round(l/g)])}1&s[e(556)]?this._sc[e(587)][e(552)]=o:2&s.buttons&&(this[e(501)][e(587)].secondary=o)}}const l=c},1674:(t,s,e)=>{"use strict";const i=a5_0x1852c7;e.d(s,{q:()=>n});const n=i(504)}}]);