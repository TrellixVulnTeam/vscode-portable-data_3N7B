const a12_0x4fdf=["1924340fShiQB","shiftKey","abs","2790DVGgmz","_originY","169522VHotyv","pointerUp","offsetY","_pointerDownStartTime","_targetY","selectionService","676Suildh","Deselect","left","2CnHwSb","_isPointerDown","imageService","Rectangle Selection","_pointerDownX","right","viewportService","webpackChunkluna","63874XuHxQh","bottom","_sc","78964yJCTZD","_targetX","top","push","keyUp","range","validate","selection","keyDown","1163818coCVKi","sign","_originX","23uAXSwb","4nCIyAj","offsetX","_pointerDownY","785153LxucWG","_updateSelection","pointerDown","commit","isSelectionTool"],a12_0x9aa4=function(t,i){return a12_0x4fdf[t-=391]},a12_0x3f12ad=a12_0x9aa4;(function(t,i){const s=a12_0x9aa4;for(;;)try{if(991355===-parseInt(s(429))*parseInt(s(392))+parseInt(s(419))+-parseInt(s(403))+parseInt(s(424))+-parseInt(s(435))*-parseInt(s(427))+-parseInt(s(400))*-parseInt(s(415))+parseInt(s(412))*-parseInt(s(416)))break;t.push(t.shift())}catch(i){t.push(t.shift())}})(a12_0x4fdf),(self[a12_0x3f12ad(399)]=self[a12_0x3f12ad(399)]||[])[a12_0x3f12ad(406)]([[40],{3040:(t,i,s)=>{"use strict";const e=a12_0x3f12ad;s.r(i),s.d(i,{default:()=>r});var o=s(5120),h=s(2939),n=s(1003);class a extends o.JT{constructor(t){const i=a12_0x9aa4;super(),this._sc=t,this.id=i(410),this[i(423)]=!0,this._originX=0,this[i(428)]=0,this[i(432)]=0,this._pointerDownX=0,this[i(418)]=0}[e(411)](t,i){const s=e;this[s(393)]=i,this[s(420)](t)}[e(407)](t,i){const s=e;this[s(393)]=i,this[s(420)](t)}[e(421)](t){const i=e;this[i(393)]=!0,this[i(432)]=Date.now(),this[i(396)]=t[i(417)],this._pointerDownY=t[i(431)],(this[i(402)][i(434)].range||void 0!==this[i(404)]||void 0!==this._targetY)&&(this[i(404)]=void 0,this._targetY=void 0,this[i(402)][i(434)][i(408)]=void 0),[this[i(414)],this[i(428)]]=this[i(402)][i(398)].getCoordsFromEvent(t)}[e(430)](t){const i=e;if(this[i(393)]=!1,void 0===this._targetX||void 0===this[i(433)]){this[i(402)][i(434)][i(408)]=void 0;const t=void 0===this[i(402)][i(434)].range?i(436):i(395);return void this[i(402)][i(434)].commit(t)}const s=Math[i(426)](this[i(396)]-t[i(417)]),o=Math[i(426)](this[i(418)]-t[i(431)]);if(s<10&&o<10&&Date.now()-this[i(432)]<75){this[i(402)][i(434)][i(408)]=void 0;const t=void 0===this._sc[i(434)][i(408)]?i(436):i(395);return void this[i(402)][i(434)][i(422)](t)}this._updateSelection(t);const h=void 0===this[i(402)][i(434)][i(408)]?i(436):i(395);this[i(402)].selectionService.commit(h)}pointerDownMove(t){const i=e;[this[i(404)],this[i(433)]]=this[i(402)][i(398)].getCoordsFromEvent(t),this[i(420)](t)}_updateSelection(t){const i=e;if(!this[i(393)]||void 0===this._targetX||void 0===this._targetY)return;let s=this[i(404)]-this._originX,o=this[i(433)]-this._originY;t[i(425)]&&(Math[i(426)](s)>Math.abs(o)?s=o*(Math[i(413)](s)!==Math[i(413)](o)?-1:1):o=s*(Math[i(413)](s)!==Math[i(413)](o)?-1:1));const a=this._sc[i(394)].width,r=this[i(402)][i(394)].height,c=(0,n.Pq)();o<0?(c[i(405)]=(0,h.u)(this[i(428)]+o,r),c[i(401)]=(0,h.u)(this._originY+1,r)):(c[i(401)]=(0,h.u)(this[i(428)]+o+1,r),c[i(405)]=(0,h.u)(this[i(428)],r)),s<0?(c[i(391)]=(0,h.u)(this._originX+s,a),c[i(397)]=(0,h.u)(this[i(414)]+1,a)):(c[i(397)]=(0,h.u)(this._originX+s+1,a),c[i(391)]=(0,h.u)(this[i(414)],a)),this[i(402)][i(434)][i(408)]=c,this._sc[i(434)][i(409)](a,r)}}const r=a}}]);