const a6_0x5481=["53RttOpo","floor",'Images "',"sourceImage","height","sqrt","toFixed","ceil","bAmount","aAmount","webpackChunkluna",'Invalid dimensions for image "',"update","push","abs","561079uOWGWM","SharedArrayBuffer","306473HbbDvA","6602jSrxrY","534793LCYVFf","normal","13KazmHi","destImage","left","right","yStart","end","31qSaowU","width",'": ',"1LtRzOm","37249nyENjc","resultIndex",'" and "',"data"," x ","set","bottom","13099OJsszq","2hvWYCt","top","start","round","subarray","yEnd","605622TIgAfK","aIndex","min","max","bIndex"],a6_0x1e47=function(t,e){return a6_0x5481[t-=211]},a6_0x777f=a6_0x1e47;(function(t,e){const n=a6_0x1e47;for(;;)try{if(615564===-parseInt(n(223))*parseInt(n(258))+-parseInt(n(214))*parseInt(n(231))+parseInt(n(260))*parseInt(n(232))+-parseInt(n(211))*parseInt(n(243))+-parseInt(n(220))*-parseInt(n(224))+parseInt(n(212))+-parseInt(n(238)))break;t.push(t.shift())}catch(e){t.push(t.shift())}})(a6_0x5481),(self[a6_0x777f(253)]=self[a6_0x777f(253)]||[])[a6_0x777f(256)]([[424],{424:(t,e,n)=>{"use strict";n.r(e),n.d(e,{run:()=>d});var a=n(517),r=n(166),o=n(742),s=n(979),i=n(888);const d=(t,e,n)=>{const d=a6_0x1e47;(0,o.ap)(n,d(246)),(0,o.ap)(n,d(215)),(0,o.TO)(n,"sourceImage",d(215));const h=n[d(246)],f=n.destImage,u=(0,r.M_)(h.width,h[d(247)],f[d(221)],f[d(247)]),c=u[d(221)]>=h[d(221)]&&u[d(247)]>=h.height?i.k:s.g,l={data:new Uint8Array(u[d(221)]*u[d(247)]*4),width:u[d(221)],height:u[d(247)]},x={id:-1,yStart:t[d(234)]-u[d(233)],yEnd:t[d(219)]-u[d(233)],xStart:-1,xEnd:-1};(x[d(237)]>=0||x.yStart<u[d(247)])&&c(h,l,x);let I=0,w=0;const M=new Uint8Array([204,204,204,255]),p=new Uint8Array([255,255,255,255]);let y;for(let e=t[d(234)];e<t[d(219)];e++)for(let t=u[d(216)];t<u[d(216)]+u.width;t++)I=4*(e*f[d(221)]+t),w=4*((e-u[d(233)])*u.width+t-u[d(216)]),255===f[d(227)][I+3]?(f[d(227)][I]=l[d(227)][w],f.data[I+1]=l[d(227)][w+1],f[d(227)][I+2]=l[d(227)][w+2],f[d(227)][I+3]=l[d(227)][w+3]):(y=(Math.floor((t-u[d(216)])/10%2)+Math[d(244)]((e-u[d(233)])/10%2))%2<1?M:p,(0,a.B)(d(213),f[d(227)],I,l[d(227)],w,y,0))}},742:(t,e,n)=>{"use strict";function a(t,e){const n=a6_0x1e47,a=t[e];if(a[n(221)]<1||a[n(247)]<1)throw new Error(n(254)+e+n(222)+a[n(221)]+n(228)+a[n(247)])}function r(t,e,n){const a=a6_0x1e47,r=t[e],o=t[n];if(r.width===o.width&&r.height===o[a(247)])throw new Error(a(245)+e+a(226)+n+'" dimensions are equal')}n.d(e,{ap:()=>a,TO:()=>r})},979:(t,e,n)=>{"use strict";n.d(e,{g:()=>s});var a=n(525);const r={aIndex:0,bIndex:0,aAmount:0,bAmount:0,resultIndex:0};let o=0;function s(t,e,n,o=(0,a.t)(n)){const s=a6_0x1e47,h=e.width,f=e[s(247)],u=new Float32Array(h);if(h<t.width){const e=(t[s(221)]-1)/2,n=-(h-1)/2,a=t[s(221)]/h;for(let t=0;t<h;t++)u[t]=e+(t+n)*a}else for(let e=0;e<h;e++)u[e]=e/(h-1)*(t[s(221)]-1);const c=new Float32Array(f);if(f<t[s(247)]){const e=(t[s(247)]-1)/2,n=-(f-1)/2,a=t[s(247)]/f;for(let t=0;t<f;t++)c[t]=e+(t+n)*a}else for(let e=0;e<f;e++)c[e]=e/(f-1)*(t[s(247)]-1);let l=0,x=0,I=0,w=0,M=0,p=0,y=0,m=0;const _=new Uint8Array(4),g=new Uint8Array(4),A=n.yEnd-n.yStart;for(let a=n[s(218)];a<n[s(237)];a++){for(I=0;I<h;I++)l=u[I],x=c[a],w=4*(a*h+I),l===~~l?x===~~x?(M=4*(x*t.width+l),e.data[w]=t[s(227)][M],e[s(227)][w+1]=t.data[M+1],e[s(227)][w+2]=t[s(227)][M+2],e[s(227)][w+3]=t.data[M+3]):(y=Math[s(244)](x),m=Math[s(250)](x),r.aIndex=4*(y*t[s(221)]+l),r.bIndex=4*(m*t[s(221)]+l),r[s(252)]=(m-x)/(m-y),r[s(251)]=1-r[s(252)],r[s(225)]=w,d(t[s(227)],t.data,e.data)):x===~~x?(i(t,l,x,Math[s(244)](l),Math[s(250)](l),_),e[s(227)][w]=_[0],e[s(227)][w+1]=_[1],e.data[w+2]=_[2],e[s(227)][w+3]=_[3]):(y=Math[s(244)](x),m=Math[s(250)](x),p=Math.floor(l),i(t,l,y,p,0,_),i(t,l,m,p,0,g),r[s(239)]=0,r.bIndex=0,r[s(252)]=(m-x)/(m-y),r[s(251)]=1-r[s(252)],r.resultIndex=w,d(_,g,e[s(227)]));o[s(255)](+((a-n[s(218)])/A)[s(249)](2))}}function i(t,e,n,a,o,s){const i=a6_0x1e47;r[i(239)]=4*(n*t[i(221)]+a),r.bIndex=r[i(239)]+4,r[i(251)]=e%1,r[i(252)]=1-r[i(251)],r[i(225)]=0,d(t[i(227)],t[i(227)],s)}function d(t,e,n){const a=a6_0x1e47;if(0===e[r[a(242)]+3])0===t[r.aIndex+3]?(n[r.resultIndex]=0,n[r[a(225)]+1]=0,n[r[a(225)]+2]=0,n[r[a(225)]+3]=0):(n[r[a(225)]]=t[r[a(239)]+0],n[r[a(225)]+1]=t[r[a(239)]+1],n[r[a(225)]+2]=t[r[a(239)]+2],n[r.resultIndex+3]=t[r[a(239)]+3]*r[a(252)]);else if(0===t[r.aIndex+3])n[r.resultIndex]=e[r.bIndex+0],n[r[a(225)]+1]=e[r[a(242)]+1],n[r[a(225)]+2]=e[r.bIndex+2],n[r[a(225)]+3]=e[r[a(242)]+3]*r.bAmount;else for(o=0;o<4;o++)n[r[a(225)]+o]=t[r[a(239)]+o]*r[a(252)]+e[r.bIndex+o]*r.bAmount}},888:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});var a=n(525);function r(t,e,n,r=(0,a.t)(n)){const o=a6_0x1e47,s=e.width,i=e[o(247)],d=new Uint32Array(s);for(let e=0;e<s;e++)d[e]=(e+.5)/s*t[o(221)];const h=new Uint32Array(i);for(let e=0;e<i;e++)h[e]=Math[o(244)]((e+.5)/i*t.height)*t.width;let f=0,u=0,c=0,l=0;const x=t[o(227)];for(let t=n.yStart;t<n[o(237)];t++){for(c=4*h[t],u=0;u<s;u++)f=4*(t*s+u),l=c+4*d[u],e[o(227)][f]=x[l],e.data[f+1]=x[l+1],e[o(227)][f+2]=x[l+2],e[o(227)][f+3]=x[l+3];r[o(255)](+(t/i)[o(249)](1))}}},517:(t,e,n)=>{"use strict";const a=a6_0x777f;n.d(e,{B:()=>i});const r=new Float32Array(6);let o;const s={normal:(t,e)=>e,darken:(t,e)=>Math[a(240)](t,e),multiply:(t,e)=>t*e,linearBurn:(t,e)=>Math[a(241)](t+e-1,0),lighten:(t,e)=>Math[a(241)](t,e),screen:(t,e)=>1-(1-t)*(1-e),linearDodgeAdd:(t,e)=>Math[a(240)](t+e,1),overlay:(t,e)=>t<.5?2*t*e:1-2*(1-t)*(1-e),softLight:(t,e)=>e<.5?2*t*e+t*t*(1-2*e):Math[a(248)](t)*(2*e-1)+2*t*(1-e),difference:(t,e)=>Math[a(257)](t-e),exclusion:(t,e)=>t+e-2*t*e};function i(t,e,n,i,h,f=e,u=n){const c=a;return r[0]=i[h+3]/255,0===r[0]?(e[n]=f[u],e[n+1]=f[u+1],e[n+2]=f[u+2],void(e[n+3]=f[u+3])):(r[1]=f[u+3]/255,0===r[1]?(e[n]=i[h],e[n+1]=i[h+1],e[n+2]=i[h+2],void(e[n+3]=i[h+3])):(o=s[t],r[3]=o(f[u]/255,i[h]/255),r[4]=o(f[u+1]/255,i[h+1]/255),r[5]=o(f[u+2]/255,i[h+2]/255),r[2]=r[0]+r[1]*(1-r[0]),e[n]=Math[c(235)](d(f[u]/255,r[1],i[h]/255,r[0],r[3])/r[2]*255),e[n+1]=Math[c(235)](d(f[u+1]/255,r[1],i[h+1]/255,r[0],r[4])/r[2]*255),e[n+2]=Math.round(d(f[u+2]/255,r[1],i[h+2]/255,r[0],r[5])/r[2]*255),void(e[n+3]=Math[c(235)](255*r[2]))))}function d(t,e,n,a,r){return(e-e*a)*t+(a-e*a)*n+e*a*r}},166:(t,e,n)=>{"use strict";function a(t,e){const n=a6_0x1e47,a=e[n(230)]-e[n(233)],r=e[n(217)]-e[n(216)],o=new Uint8Array(r*a*4);let s=0,i=0;for(let d=0;d<a;d++)i=d+e[n(233)],s=4*(i*t[n(221)]+e[n(216)]),o[n(229)](t[n(227)][n(236)](s,s+4*r),d*r*4);return o}function r(t,e,n,a,r=!0){const o=a6_0x1e47;if(!r&&e<a&&t<n)return{left:Math.round((n-t)/2),top:Math[o(235)]((a-e)/2),width:t,height:e};const s={left:0,top:0,width:n,height:a};if(e>t){const a=t/e;s[o(216)]=Math[o(235)](n*(.5-a/2)),s[o(221)]=Math.round(n*a)}else if(t>e){const n=e/t;s[o(233)]=Math.round(a*(.5-n/2)),s.height=Math[o(235)](a*n)}return s}n.d(e,{Qf:()=>a,M_:()=>r})}}]);