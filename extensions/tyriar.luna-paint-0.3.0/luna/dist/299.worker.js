const a4_0x3930=["set","5399NoQGyS","targetImage","6976bLYnbr","height",'" and "',"bottom","1umQQzn","12902NZacdy","subarray","abs","left",'Images "',"pow","min","25qJHVzh","21381FgPYlo","692652XSumsV","sqrt","webpackChunkluna","1waJDne","top","data","color","normal","width","push","length","selection","round",'" dimensions are equal'," x ","update","31HwpbIp","Unrecognized array type",'": ',"right","65707lLtpwn","max","57272OkCriy",'Invalid dimensions for image "'],a4_0x13ed=function(t,n){return a4_0x3930[t-=442]},a4_0x19ea3d=a4_0x13ed;(function(t,n){const r=a4_0x13ed;for(;;)try{if(252725===parseInt(r(449))*-parseInt(r(460))+-parseInt(r(469))*-parseInt(r(473))+-parseInt(r(445))*parseInt(r(456))+parseInt(r(461))+parseInt(r(468))*-parseInt(r(454))+-parseInt(r(451))+parseInt(r(470)))break;t.push(t.shift())}catch(n){t.push(t.shift())}})(a4_0x3930),(self[a4_0x19ea3d(472)]=self.webpackChunkluna||[])[a4_0x19ea3d(479)]([[299],{299:(t,n,r)=>{"use strict";const e=a4_0x19ea3d;function a(t,n,r=!1){return n<Math[e(466)](2,8)?r?new Uint8Array(new SharedArrayBuffer(t)):new Uint8Array(t):n<Math.pow(2,16)?r?new Uint16Array(new SharedArrayBuffer(2*t)):new Uint16Array(t):r?new Uint32Array(new SharedArrayBuffer(4*t)):new Uint32Array(t)}r.r(n),r.d(n,{run:()=>u});var o=r(3),i=r(742),s=r(517);const u=(t,n,r)=>{const u=e;(0,i.ap)(r,u(455));const h=r[u(455)][u(475)],d=r[u(455)][u(478)],f=r[u(455)][u(457)],l=r.x,p=r.y,w=4*(p*d+l),y=h[u(462)](w,w+4),x=a(d*f*2,Math[u(450)](d,f));let g=0;x[g++]=l,x[g++]=p;const m=new Uint8Array(d*f);m[p*d+l]=1;const I=a(d*f,d*f*4,!0);let M=0;const B=(0,o.Re)(l,p),_=(0,o.DI)(d,f),b=r[u(481)]||_;let A=0,R=0,v=0,U=0;for(;g>0;)R=x[--g],A=x[--g],v=R*d+A,U=4*v,S=y,(k=h)[D=U]===S[0]&&k[D+1]===S[1]&&k[D+2]===S[2]&&k[D+3]===S[3]&&(I[M++]=U,(0,o.Hv)(B,A,R),(0,o.RB)(_,A+1,R)&&0===m[v+1]&&((0,o.RB)(b,A+1,R)&&(x[g++]=A+1,x[g++]=R),m[v+1]=1),(0,o.RB)(_,A-1,R)&&0===m[v-1]&&((0,o.RB)(b,A-1,R)&&(x[g++]=A-1,x[g++]=R),m[v-1]=1),(0,o.RB)(_,A,R+1)&&0===m[v+d]&&((0,o.RB)(b,A,R+1)&&(x[g++]=A,x[g++]=R+1),m[v+d]=1),(0,o.RB)(_,A,R-1)&&0===m[v-d]&&((0,o.RB)(b,A,R-1)&&(x[g++]=A,x[g++]=R-1),m[v-d]=1));var k,D,S;const C=I.subarray(0,M);n[u(444)](.25);const H=c(h,C);n[u(444)](.5),function(t,n,r){const a=e;let o=0;for(let e=0;e<n[a(480)];e++)o=n[e],(0,s.B)(a(477),t,o,r,0)}(h,C,r[u(476)]),n.update(.75);const L=c(h,C);return n.update(1),{indexList:C,undoColorData:H,redoColorData:L,range:B}};function c(t,n){const r=e,a=new Uint8Array(new SharedArrayBuffer(4*n[r(480)]));for(let e=0;e<n[r(480)];e++)a[4*e]=t[n[e]],a[4*e+1]=t[n[e]+1],a[4*e+2]=t[n[e]+2],a[4*e+3]=t[n[e]+3];return a}},742:(t,n,r)=>{"use strict";function e(t,n){const r=a4_0x13ed,e=t[n];if(e[r(478)]<1||e.height<1)throw new Error(r(452)+n+r(447)+e[r(478)]+r(443)+e[r(457)])}function a(t,n,r){const e=a4_0x13ed,a=t[n],o=t[r];if(a.width===o[e(478)]&&a.height===o[e(457)])throw new Error(e(465)+n+e(458)+r+e(442))}r.d(n,{ap:()=>e,TO:()=>a})},517:(t,n,r)=>{"use strict";const e=a4_0x19ea3d;r.d(n,{B:()=>s});const a=new Float32Array(6);let o;const i={normal:(t,n)=>n,darken:(t,n)=>Math.min(t,n),multiply:(t,n)=>t*n,linearBurn:(t,n)=>Math.max(t+n-1,0),lighten:(t,n)=>Math[e(450)](t,n),screen:(t,n)=>1-(1-t)*(1-n),linearDodgeAdd:(t,n)=>Math.min(t+n,1),overlay:(t,n)=>t<.5?2*t*n:1-2*(1-t)*(1-n),softLight:(t,n)=>n<.5?2*t*n+t*t*(1-2*n):Math[e(471)](t)*(2*n-1)+2*t*(1-n),difference:(t,n)=>Math[e(463)](t-n),exclusion:(t,n)=>t+n-2*t*n};function s(t,n,r,s,c,h=n,d=r){const f=e;return a[0]=s[c+3]/255,0===a[0]?(n[r]=h[d],n[r+1]=h[d+1],n[r+2]=h[d+2],void(n[r+3]=h[d+3])):(a[1]=h[d+3]/255,0===a[1]?(n[r]=s[c],n[r+1]=s[c+1],n[r+2]=s[c+2],void(n[r+3]=s[c+3])):(o=i[t],a[3]=o(h[d]/255,s[c]/255),a[4]=o(h[d+1]/255,s[c+1]/255),a[5]=o(h[d+2]/255,s[c+2]/255),a[2]=a[0]+a[1]*(1-a[0]),n[r]=Math.round(u(h[d]/255,a[1],s[c]/255,a[0],a[3])/a[2]*255),n[r+1]=Math.round(u(h[d+1]/255,a[1],s[c+1]/255,a[0],a[4])/a[2]*255),n[r+2]=Math[f(482)](u(h[d+2]/255,a[1],s[c+2]/255,a[0],a[5])/a[2]*255),void(n[r+3]=Math[f(482)](255*a[2]))))}function u(t,n,r,e,a){return(n-n*e)*t+(e-n*e)*r+n*e*a}},3:(t,n,r)=>{"use strict";function e(t,n){return{left:t,top:n,right:t+1,bottom:n+1}}function a(t,n){return{left:0,top:0,right:t,bottom:n}}function o(t,n,r){const e=a4_0x13ed;if(function(t){const n=a4_0x13ed;return t[n(464)]===t[n(448)]||t[n(474)]===t[n(459)]}(t))return t[e(464)]=n,t[e(448)]=n+1,t.top=r,void(t.bottom=r+1);t[e(464)]=Math[e(467)](t.left,n),t[e(474)]=Math[e(467)](t[e(474)],r),t.right=Math[e(450)](t.right,n+1),t.bottom=Math[e(450)](t[e(459)],r+1)}function i(t,n,r){const e=a4_0x13ed;return n>=t[e(464)]&&n<t.right&&r>=t.top&&r<t[e(459)]}r.d(n,{Re:()=>e,DI:()=>a,Hv:()=>o,RB:()=>i})}}]);