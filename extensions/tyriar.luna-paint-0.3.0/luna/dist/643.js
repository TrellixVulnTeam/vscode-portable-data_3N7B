const a7_0x365c=["screen","push","linearBurn","undoColorData","_operationName","Blend Mode","1320614gvtpMR","replace","overlay","pointerDown","indexList","exclusion","webpackChunkluna","1ckZpTW","306083RBaXcq","imageService","1ikbMrv","2GAPCuz","viewportService","selectionService","_taskWorkerService","length","546997xEoysc","getColorFromPointerEvent","2332WDvqIz","setValueFromHistoryChange","run","event","_sc","onUpdate","496EvuIMe","_value","_color","onHistoryUpdateValue","paletteService","value","Fill","darken","data","_floodModeOption","Flood Mode","contiguous","edit","runTask","fire","normal","lighten","softLight","1089607gzrUrp","max","_onUpdate","difference","7fiFcqm","_indexList","global","491371arfmni","historyService","_layer","multiply","getCoordsFromEvent","_range","574829fLySJS","runAction","containsCoord","_onHistoryUpdateValue","currentLayer","pointerUp","options","range","register","type","redoColorData"],a7_0x40c7=function(t,e){return a7_0x365c[t-=147]},a7_0x18ce02=a7_0x40c7;(function(t,e){const s=a7_0x40c7;for(;;)try{if(956202===parseInt(s(160))*-parseInt(s(188))+parseInt(s(154))*-parseInt(s(187))+parseInt(s(177))+-parseInt(s(147))+-parseInt(s(201))*parseInt(s(195))+-parseInt(s(185))*parseInt(s(184))+-parseInt(s(193))*-parseInt(s(151)))break;t.push(t.shift())}catch(e){t.push(t.shift())}})(a7_0x365c),(self.webpackChunkluna=self[a7_0x18ce02(183)]||[])[a7_0x18ce02(172)]([[643],{9904:(t,e,s)=>{"use strict";const i=a7_0x18ce02;s.d(e,{rP:()=>o,bG:()=>a,Jp:()=>c,qv:()=>h});var r=s(1815),n=s(5120);class o extends n.JT{constructor(t,e,s){const i=a7_0x40c7;super(),this.name=t,this.options=e,this._value=s,this[i(169)]="string",this[i(163)]=this[i(168)](new r.v),this[i(204)]=this._onHistoryUpdateValue[i(198)],this[i(149)]=this.register(new r.v),this[i(200)]=this[i(149)][i(198)]}get value(){return this[a7_0x40c7(202)]}set[i(206)](t){const e=i;this[e(202)]=t,this[e(149)].fire()}[i(196)](t){const e=i;this._value=t,this._onHistoryUpdateValue[e(215)](t)}}class a extends o{constructor(){const t=i;super(t(176),[t(216),t(208),t(157),"linearBurn",t(217),"screen","linearDodgeAdd",t(179),t(218),t(150),"exclusion"],t(216))}}class c extends o{constructor(){const t=i;super(t(176),[t(216),t(178),t(208),t(157),t(173),t(217),t(171),"linearDodgeAdd","overlay",t(218),t(150),t(182)],t(216))}}class h extends n.JT{constructor(t,e,s,n){const o=i;super(),this.name=t,this[o(202)]=e,this.min=s,this[o(148)]=n,this.type="number",this[o(163)]=this[o(168)](new r.v),this[o(204)]=this[o(163)].event,this._onUpdate=this[o(168)](new r.v),this[o(200)]=this._onUpdate[o(198)]}get[i(206)](){return this[i(202)]}set[i(206)](t){const e=i;this[e(202)]=t,this[e(149)][e(215)]()}[i(196)](t){const e=i;this._value=t,this[e(163)].fire(t)}}},7643:(t,e,s)=>{"use strict";const i=a7_0x18ce02;s.r(e),s.d(e,{default:()=>l});var r=s(5120),n=s(6785);i(197);class o{constructor(t,e,s,r,n,o,a){const c=i;this[c(175)]=t,this[c(156)]=e,this._selection=s,this._x=r,this._y=n,this[c(203)]=o,this[c(191)]=a}async[i(197)](){const t=i;let e;await this[t(156)].edit((async(s,i,r)=>{const n=t;return e=await this[n(191)][n(214)]("fillContiguous",{targetImage:{data:s,width:i,height:r},color:new Uint8Array(this._color),selection:this._selection,x:this._x,y:this._y}),e[n(167)]}));const s={colorData:e[t(174)],indexList:e[t(181)]},r={colorData:e[t(170)],indexList:e[t(181)]};return new n.x(this._operationName,this[t(156)],e.range,s,r)}}var a=s(6495),c=s(9904);class h extends r.JT{constructor(t){const e=i;super(),this[e(199)]=t,this.id="fill",this[e(210)]=new c.rP(e(211),[e(212),e(153)],e(212)),this[e(166)]=[this[e(210)]]}[i(180)](t){const e=i;this._color=this._sc[e(205)][e(194)](t)}[i(165)](t){const e=i;if(!this[e(203)])return;const[s,r]=this._sc[e(189)][e(158)](t);if(!this[e(199)][e(186)].containsCoord(s,r)||!this[e(199)][e(190)][e(162)](s,r))return;const n=this[e(199)][e(186)][e(164)];return n?this[e(210)].value===e(153)?this[e(199)][e(155)][e(161)](new a.N(e(207),n,this[e(199)].selectionService.range,s,r,this._color,this[e(199)].taskWorkerService)):this[e(199)].historyService[e(161)](new o("Fill",n,this._sc[e(190)][e(167)],s,r,this[e(203)],this._sc.taskWorkerService)):void 0}}const l=h}}]);